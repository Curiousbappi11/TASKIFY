(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function gA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var km={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function yA(){if(o0)return cu;o0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return cu.Fragment=e,cu.jsx=t,cu.jsxs=t,cu}var l0;function vA(){return l0||(l0=1,km.exports=yA()),km.exports}var x=vA(),Pm={exports:{}},hu={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function _A(){return u0||(u0=1,(function(n){function e($,he){var ge=$.length;$.push(he);e:for(;0<ge;){var ze=ge-1>>>1,O=$[ze];if(0<o(O,he))$[ze]=he,$[ge]=O,ge=ze;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var he=$[0],ge=$.pop();if(ge!==he){$[0]=ge;e:for(var ze=0,O=$.length,ie=O>>>1;ze<ie;){var pe=2*(ze+1)-1,fe=$[pe],Ee=pe+1,qe=$[Ee];if(0>o(fe,ge))Ee<O&&0>o(qe,fe)?($[ze]=qe,$[Ee]=ge,ze=Ee):($[ze]=fe,$[pe]=ge,ze=pe);else if(Ee<O&&0>o(qe,ge))$[ze]=qe,$[Ee]=ge,ze=Ee;else break e}}return he}function o($,he){var ge=$.sortIndex-he.sortIndex;return ge!==0?ge:$.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var m=[],g=[],v=1,T=null,w=3,R=!1,U=!1,ee=!1,L=!1,j=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de($){for(var he=t(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=$)s(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(g)}}function ne($){if(ee=!1,de($),!U)if(t(m)!==null)U=!0,z||(z=!0,B());else{var he=t(g);he!==null&&$e(ne,he.startTime-$)}}var z=!1,I=-1,A=5,C=-1;function P(){return L?!0:!(n.unstable_now()-C<A)}function k(){if(L=!1,z){var $=n.unstable_now();C=$;var he=!0;try{e:{U=!1,ee&&(ee=!1,W(I),I=-1),R=!0;var ge=w;try{t:{for(de($),T=t(m);T!==null&&!(T.expirationTime>$&&P());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var O=ze(T.expirationTime<=$);if($=n.unstable_now(),typeof O=="function"){T.callback=O,de($),he=!0;break t}T===t(m)&&s(m),de($)}else s(m);T=t(m)}if(T!==null)he=!0;else{var ie=t(g);ie!==null&&$e(ne,ie.startTime-$),he=!1}}break e}finally{T=null,w=ge,R=!1}he=void 0}}finally{he?B():z=!1}}}var B;if(typeof te=="function")B=function(){te(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ve=D.port2;D.port1.onmessage=k,B=function(){Ve.postMessage(null)}}else B=function(){j(k,0)};function $e($,he){I=j(function(){$(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var ge=w;w=he;try{return $()}finally{w=ge}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function($,he){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=w;w=$;try{return he()}finally{w=ge}},n.unstable_scheduleCallback=function($,he,ge){var ze=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,$={id:v++,callback:he,priorityLevel:$,startTime:ge,expirationTime:O,sortIndex:-1},ge>ze?($.sortIndex=ge,e(g,$),t(m)===null&&$===t(g)&&(ee?(W(I),I=-1):ee=!0,$e(ne,ge-ze))):($.sortIndex=O,e(m,$),U||R||(U=!0,z||(z=!0,B()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var he=w;return function(){var ge=w;w=he;try{return $.apply(this,arguments)}finally{w=ge}}}})(Lm)),Lm}var c0;function EA(){return c0||(c0=1,Vm.exports=_A()),Vm.exports}var Um={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function TA(){if(h0)return Ge;h0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,ee={};function L(O,ie,pe){this.props=O,this.context=ie,this.refs=ee,this.updater=pe||R}L.prototype.isReactComponent={},L.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=L.prototype;function W(O,ie,pe){this.props=O,this.context=ie,this.refs=ee,this.updater=pe||R}var te=W.prototype=new j;te.constructor=W,U(te,L.prototype),te.isPureReactComponent=!0;var de=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function I(O,ie,pe,fe,Ee,qe){return pe=qe.ref,{$$typeof:n,type:O,key:ie,ref:pe!==void 0?pe:null,props:qe}}function A(O,ie){return I(O.type,ie,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function P(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(pe){return ie[pe]})}var k=/\/+/g;function B(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ie.toString(36)}function D(){}function Ve(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $e(O,ie,pe,fe,Ee){var qe=typeof O;(qe==="undefined"||qe==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(qe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case n:case e:Ie=!0;break;case v:return Ie=O._init,$e(Ie(O._payload),ie,pe,fe,Ee)}}if(Ie)return Ee=Ee(O),Ie=fe===""?"."+B(O,0):fe,de(Ee)?(pe="",Ie!=null&&(pe=Ie.replace(k,"$&/")+"/"),$e(Ee,ie,pe,"",function(zn){return zn})):Ee!=null&&(C(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(k,"$&/")+"/")+Ie)),ie.push(Ee)),1;Ie=0;var Kt=fe===""?".":fe+":";if(de(O))for(var at=0;at<O.length;at++)fe=O[at],qe=Kt+B(fe,at),Ie+=$e(fe,ie,pe,qe,Ee);else if(at=w(O),typeof at=="function")for(O=at.call(O),at=0;!(fe=O.next()).done;)fe=fe.value,qe=Kt+B(fe,at++),Ie+=$e(fe,ie,pe,qe,Ee);else if(qe==="object"){if(typeof O.then=="function")return $e(Ve(O),ie,pe,fe,Ee);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function $(O,ie,pe){if(O==null)return O;var fe=[],Ee=0;return $e(O,fe,"","",function(qe){return ie.call(pe,qe,Ee++)}),fe}function he(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(pe){(O._status===0||O._status===-1)&&(O._status=1,O._result=pe)},function(pe){(O._status===0||O._status===-1)&&(O._status=2,O._result=pe)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Ge.Children={map:$,forEach:function(O,ie,pe){$(O,function(){ie.apply(this,arguments)},pe)},count:function(O){var ie=0;return $(O,function(){ie++}),ie},toArray:function(O){return $(O,function(ie){return ie})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ge.Component=L,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=W,Ge.StrictMode=s,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ne.H.useMemoCache(O)}},Ge.cache=function(O){return function(){return O.apply(null,arguments)}},Ge.cloneElement=function(O,ie,pe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var fe=U({},O.props),Ee=O.key,qe=void 0;if(ie!=null)for(Ie in ie.ref!==void 0&&(qe=void 0),ie.key!==void 0&&(Ee=""+ie.key),ie)!z.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(fe[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=pe;else if(1<Ie){for(var Kt=Array(Ie),at=0;at<Ie;at++)Kt[at]=arguments[at+2];fe.children=Kt}return I(O.type,Ee,void 0,void 0,qe,fe)},Ge.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ge.createElement=function(O,ie,pe){var fe,Ee={},qe=null;if(ie!=null)for(fe in ie.key!==void 0&&(qe=""+ie.key),ie)z.call(ie,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=ie[fe]);var Ie=arguments.length-2;if(Ie===1)Ee.children=pe;else if(1<Ie){for(var Kt=Array(Ie),at=0;at<Ie;at++)Kt[at]=arguments[at+2];Ee.children=Kt}if(O&&O.defaultProps)for(fe in Ie=O.defaultProps,Ie)Ee[fe]===void 0&&(Ee[fe]=Ie[fe]);return I(O,qe,void 0,void 0,null,Ee)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:p,render:O}},Ge.isValidElement=C,Ge.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:he}},Ge.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},Ge.startTransition=function(O){var ie=ne.T,pe={};ne.T=pe;try{var fe=O(),Ee=ne.S;Ee!==null&&Ee(pe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ze,ge)}catch(qe){ge(qe)}finally{ne.T=ie}},Ge.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Ge.use=function(O){return ne.H.use(O)},Ge.useActionState=function(O,ie,pe){return ne.H.useActionState(O,ie,pe)},Ge.useCallback=function(O,ie){return ne.H.useCallback(O,ie)},Ge.useContext=function(O){return ne.H.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O,ie){return ne.H.useDeferredValue(O,ie)},Ge.useEffect=function(O,ie,pe){var fe=ne.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(O,ie)},Ge.useId=function(){return ne.H.useId()},Ge.useImperativeHandle=function(O,ie,pe){return ne.H.useImperativeHandle(O,ie,pe)},Ge.useInsertionEffect=function(O,ie){return ne.H.useInsertionEffect(O,ie)},Ge.useLayoutEffect=function(O,ie){return ne.H.useLayoutEffect(O,ie)},Ge.useMemo=function(O,ie){return ne.H.useMemo(O,ie)},Ge.useOptimistic=function(O,ie){return ne.H.useOptimistic(O,ie)},Ge.useReducer=function(O,ie,pe){return ne.H.useReducer(O,ie,pe)},Ge.useRef=function(O){return ne.H.useRef(O)},Ge.useState=function(O){return ne.H.useState(O)},Ge.useSyncExternalStore=function(O,ie,pe){return ne.H.useSyncExternalStore(O,ie,pe)},Ge.useTransition=function(){return ne.H.useTransition()},Ge.version="19.1.1",Ge}var f0;function yf(){return f0||(f0=1,Um.exports=TA()),Um.exports}var jm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function bA(){if(d0)return Tn;d0=1;var n=yf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},Tn.flushSync=function(m){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=v,s.d.f()}},Tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Tn.requestFormReset=function(m){s.d.r(m)},Tn.unstable_batchedUpdates=function(m,g){return m(g)},Tn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.1.1",Tn}var m0;function wA(){if(m0)return jm.exports;m0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jm.exports=bA(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function SA(){if(p0)return hu;p0=1;var n=EA(),e=yf(),t=wA();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(u(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),r;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function Ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case L:return"Profiler";case ee:return"StrictMode";case ne:return"Suspense";case z:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case R:return"Portal";case te:return(r.displayName||"Context")+".Provider";case W:return(r._context.displayName||"Context")+".Consumer";case de:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return i=r.displayName||null,i!==null?i:Ve(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return Ve(r(i))}catch{}}return null}var $e=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function ie(r){return{current:r}}function pe(r){0>O||(r.current=ze[O],ze[O]=null,O--)}function fe(r,i){O++,ze[O]=r.current,r.current=i}var Ee=ie(null),qe=ie(null),Ie=ie(null),Kt=ie(null);function at(r,i){switch(fe(Ie,i),fe(qe,r),fe(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?P_(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=P_(i),r=V_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ee),fe(Ee,r)}function zn(){pe(Ee),pe(qe),pe(Ie)}function Mt(r){r.memoizedState!==null&&fe(Kt,r);var i=Ee.current,a=V_(i,r.type);i!==a&&(fe(qe,r),fe(Ee,a))}function Bn(r){qe.current===r&&(pe(Ee),pe(qe)),Kt.current===r&&(pe(Kt),su._currentValue=ge)}var mi=Object.prototype.hasOwnProperty,pi=n.unstable_scheduleCallback,On=n.unstable_cancelCallback,ll=n.unstable_shouldYield,qs=n.unstable_requestPaint,ln=n.unstable_now,Ka=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,zt=n.unstable_UserBlockingPriority,Rr=n.unstable_NormalPriority,Cr=n.unstable_LowPriority,xr=n.unstable_IdlePriority,Ya=n.log,Ir=n.unstable_setDisableYieldValue,un=null,vt=null;function Rn(r){if(typeof Ya=="function"&&Ir(r),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(un,r)}catch{}}var Yt=Math.clz32?Math.clz32:Gs,ul=Math.log,Hn=Math.LN2;function Gs(r){return r>>>=0,r===0?32:31-(ul(r)/Hn|0)|0}var Fn=256,Dr=4194304;function qn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Cn(r,i,a){var l=r.pendingLanes;if(l===0)return 0;var f=0,d=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=qn(l):(E&=b,E!==0?f=qn(E):a||(a=b&~r,a!==0&&(f=qn(a))))):(b=l&~d,b!==0?f=qn(b):E!==0?f=qn(E):a||(a=l&~r,a!==0&&(f=qn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function gi(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(){var r=Fn;return Fn<<=1,(Fn&4194048)===0&&(Fn=256),r}function Kr(){var r=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),r}function vi(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function xt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ks(r,i,a,l,f,d){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var b=r.entanglements,N=r.expirationTimes,Y=r.hiddenUpdates;for(a=E&~a;0<a;){var re=31-Yt(a),oe=1<<re;b[re]=0,N[re]=-1;var Q=Y[re];if(Q!==null)for(Y[re]=null,re=0;re<Q.length;re++){var X=Q[re];X!==null&&(X.lane&=-536870913)}a&=~oe}l!==0&&Kn(r,l,0),d!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=d&~(E&~i))}function Kn(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-Yt(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|a&4194090}function Yn(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var l=31-Yt(a),f=1<<l;f&i|r[l]&i&&(r[l]|=i),a&=~f}}function Ys(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $s(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function M(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:t0(r.type))}function q(r,i){var a=he.p;try{return he.p=r,i()}finally{he.p=a}}var Z=Math.random().toString(36).slice(2),ae="__reactFiber$"+Z,ce="__reactProps$"+Z,_e="__reactContainer$"+Z,we="__reactEvents$"+Z,ve="__reactListeners$"+Z,Ce="__reactHandles$"+Z,Ae="__reactResources$"+Z,Te="__reactMarker$"+Z;function Se(r){delete r[ae],delete r[ce],delete r[we],delete r[ve],delete r[Ce]}function Be(r){var i=r[ae];if(i)return i;for(var a=r.parentNode;a;){if(i=a[_e]||a[ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=z_(r);r!==null;){if(a=r[ae])return a;r=z_(r)}return i}r=a,a=r.parentNode}return null}function tt(r){if(r=r[ae]||r[_e]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function gt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function At(r){var i=r[Ae];return i||(i=r[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Le(r){r[Te]=!0}var ot=new Set,xn={};function vn(r,i){$t(r,i),$t(r+"Capture",i)}function $t(r,i){for(xn[r]=i,r=0;r<i.length;r++)ot.add(i[r])}var en=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},lr={};function Nr(r){return mi.call(lr,r)?!0:mi.call(kn,r)?!1:en.test(r)?lr[r]=!0:(kn[r]=!0,!1)}function ur(r,i,a){if(Nr(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function cr(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function Ue(r,i,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+l)}}var Rt,$n;function cn(r){if(Rt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rt=i&&i[1]||"",$n=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+r+$n}var _t=!1;function Mr(r,i){if(!r||_t)return"";_t=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(X){var Q=X}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(X){Q=X}r.call(oe.prototype)}}else{try{throw Error()}catch(X){Q=X}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),Y=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===Y.length)for(l=N.length-1,f=Y.length-1;1<=l&&0<=f&&N[l]!==Y[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==Y[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==Y[f]){var re=`
`+N[l].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=l&&0<=f);break}}}finally{_t=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?cn(a):""}function $a(r){switch(r.tag){case 26:case 27:case 5:return cn(r.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return Mr(r.type,!1);case 11:return Mr(r.type.render,!1);case 1:return Mr(r.type,!0);case 31:return cn("Activity");default:return""}}function Qn(r){try{var i="";do i+=$a(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function It(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ki(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qs(r){var i=Ki(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Yi(r){r._valueTracker||(r._valueTracker=Qs(r))}function ft(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return r&&(l=Ki(r)?r.checked?"true":"false":r.value),r=l,r!==a?(i.setValue(r),!0):!1}function _i(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xs=/[\n"\\]/g;function tn(r){return r.replace(Xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cl(r,i,a,l,f,d,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+It(i)):r.value!==""+It(i)&&(r.value=""+It(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?fl(r,E,It(i)):a!=null?fl(r,E,It(a)):l!=null&&r.removeAttribute("value"),f==null&&d!=null&&(r.defaultChecked=!!d),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+It(b):r.removeAttribute("name")}function hl(r,i,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+It(a):"",i=i!=null?""+It(i):a,b||i===r.value||(r.value=i),r.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=b?r.checked:!!l,r.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function fl(r,i,a){i==="number"&&_i(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function $i(r,i,a,l){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&l&&(r[a].defaultSelected=!0)}else{for(a=""+It(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Ju(r,i,a){if(i!=null&&(i=""+It(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+It(a):""}function ec(r,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if($e(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=It(i),r.defaultValue=a,l=r.textContent,l===a&&l!==""&&l!==null&&(r.value=l)}function hr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ei=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(r,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,a):typeof a!="number"||a===0||Ei.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function ml(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&dl(r,f,l)}else for(var d in i)i.hasOwnProperty(d)&&dl(r,d,i[d])}function Qa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(r){return nc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var pl=null;function gl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qi=null,In=null;function rc(r){var i=tt(r);if(i&&(r=i.stateNode)){var a=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(cl(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==r&&l.form===r.form){var f=l[ce]||null;if(!f)throw Error(s(90));cl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===r.form&&ft(l)}break e;case"textarea":Ju(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&$i(r,!!a.multiple,i,!1)}}}var Ws=!1;function Zs(r,i,a){if(Ws)return r(i,a);Ws=!0;try{var l=r(i);return l}finally{if(Ws=!1,(Qi!==null||In!==null)&&(Kc(),Qi&&(i=Qi,r=In,In=Qi=null,rc(i),r)))for(i=0;i<r.length;i++)rc(r[i])}}function Xi(r,i){var a=r.stateNode;if(a===null)return null;var l=a[ce]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ti=!1;if(Dn)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{Ti=!1}var fr=null,Et=null,Xa=null;function ic(){if(Xa)return Xa;var r,i=Et,a=i.length,l,f="value"in fr?fr.value:fr.textContent,d=f.length;for(r=0;r<a&&i[r]===f[r];r++);var E=a-r;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return Xa=f.slice(r,1<l?1-l:void 0)}function Js(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ea(){return!0}function yl(){return!1}function Qt(r){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ea:yl,this.isPropagationStopped=yl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),i}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Qt(_n),na=v({},_n,{view:0,detail:0}),ra=Qt(na),Wa,ia,Yr,sa=v({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yr&&(Yr&&r.type==="mousemove"?(Wa=r.screenX-Yr.screenX,ia=r.screenY-Yr.screenY):ia=Wa=0,Yr=r),Wa)},movementY:function(r){return"movementY"in r?r.movementY:ia}}),aa=Qt(sa),Ff=v({},sa,{dataTransfer:0}),sc=Qt(Ff),oa=v({},na,{relatedTarget:0}),Za=Qt(oa),ac=v({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),vl=Qt(ac),_l=v({},_n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oc=Qt(_l),Ja=v({},_n,{data:0}),El=Qt(Ja),lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=uc[r])?!!i[r]:!1}function eo(){return cc}var hc=v({},na,{key:function(r){if(r.key){var i=lc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Js(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?bi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(r){return r.type==="keypress"?Js(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Js(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),to=Qt(hc),Nn=v({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Qt(Nn),fc=v({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Zi=Qt(fc),h=v({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Qt(h),_=v({},sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Qt(_),K=v({},_n,{newState:0,oldState:0}),J=Qt(K),me=[9,13,27,32],He=Dn&&"CompositionEvent"in window,bt=null;Dn&&"documentMode"in document&&(bt=document.documentMode);var ut=Dn&&"TextEvent"in window&&!bt,Vt=Dn&&(!He||bt&&8<bt&&11>=bt),Xn=" ",$r=!1;function kr(r,i){switch(r){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vr=!1;function bl(r,i){switch(r){case"compositionend":return Pr(i);case"keypress":return i.which!==32?null:($r=!0,Xn);case"textInput":return r=i.data,r===Xn&&$r?null:r;default:return null}}function Fw(r,i){if(Vr)return r==="compositionend"||!He&&kr(r,i)?(r=ic(),Xa=Et=fr=null,Vr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vt&&i.locale!=="ko"?null:i.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!qw[r.type]:i==="textarea"}function Xg(r,i,a,l){Qi?In?In.push(l):In=[l]:Qi=l,i=Zc(i,"onChange"),0<i.length&&(a=new ta("onChange","change",null,a,l),r.push({event:a,listeners:i}))}var wl=null,Sl=null;function Gw(r){D_(r,0)}function dc(r){var i=gt(r);if(ft(i))return r}function Wg(r,i){if(r==="change")return i}var Zg=!1;if(Dn){var qf;if(Dn){var Gf="oninput"in document;if(!Gf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Gf=typeof Jg.oninput=="function"}qf=Gf}else qf=!1;Zg=qf&&(!document.documentMode||9<document.documentMode)}function ey(){wl&&(wl.detachEvent("onpropertychange",ty),Sl=wl=null)}function ty(r){if(r.propertyName==="value"&&dc(Sl)){var i=[];Xg(i,Sl,r,gl(r)),Zs(Gw,i)}}function Kw(r,i,a){r==="focusin"?(ey(),wl=i,Sl=a,wl.attachEvent("onpropertychange",ty)):r==="focusout"&&ey()}function Yw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return dc(Sl)}function $w(r,i){if(r==="click")return dc(i)}function Qw(r,i){if(r==="input"||r==="change")return dc(i)}function Xw(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Wn=typeof Object.is=="function"?Object.is:Xw;function Al(r,i){if(Wn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!mi.call(i,f)||!Wn(r[f],i[f]))return!1}return!0}function ny(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ry(r,i){var a=ny(r);r=0;for(var l;a;){if(a.nodeType===3){if(l=r+a.textContent.length,r<=i&&l>=i)return{node:a,offset:i-r};r=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ny(a)}}function iy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?iy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function sy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=_i(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=_i(r.document)}return i}function Kf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var Ww=Dn&&"documentMode"in document&&11>=document.documentMode,no=null,Yf=null,Rl=null,$f=!1;function ay(r,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$f||no==null||no!==_i(l)||(l=no,"selectionStart"in l&&Kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&Al(Rl,l)||(Rl=l,l=Zc(Yf,"onSelect"),0<l.length&&(i=new ta("onSelect","select",null,i,a),r.push({event:i,listeners:l}),i.target=no)))}function la(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var ro={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Qf={},oy={};Dn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function ua(r){if(Qf[r])return Qf[r];if(!ro[r])return r;var i=ro[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in oy)return Qf[r]=i[a];return r}var ly=ua("animationend"),uy=ua("animationiteration"),cy=ua("animationstart"),Zw=ua("transitionrun"),Jw=ua("transitionstart"),eS=ua("transitioncancel"),hy=ua("transitionend"),fy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function Lr(r,i){fy.set(r,i),vn(i,[r])}var dy=new WeakMap;function dr(r,i){if(typeof r=="object"&&r!==null){var a=dy.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Qn(i)},dy.set(r,i),i)}return{value:r,source:i,stack:Qn(i)}}var mr=[],io=0,Wf=0;function mc(){for(var r=io,i=Wf=io=0;i<r;){var a=mr[i];mr[i++]=null;var l=mr[i];mr[i++]=null;var f=mr[i];mr[i++]=null;var d=mr[i];if(mr[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&my(a,f,d)}}function pc(r,i,a,l){mr[io++]=r,mr[io++]=i,mr[io++]=a,mr[io++]=l,Wf|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function Zf(r,i,a,l){return pc(r,i,a,l),gc(r)}function so(r,i){return pc(r,null,null,i),gc(r)}function my(r,i,a){r.lanes|=a;var l=r.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=r.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(f=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,f&&i!==null&&(f=31-Yt(a),r=d.hiddenUpdates,l=r[f],l===null?r[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function gc(r){if(50<Wl)throw Wl=0,im=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ao={};function tS(r,i,a,l){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,i,a,l){return new tS(r,i,a,l)}function Jf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wi(r,i){var a=r.alternate;return a===null?(a=Zn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function py(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function yc(r,i,a,l,f,d){var E=0;if(l=r,typeof r=="function")Jf(r)&&(E=1);else if(typeof r=="string")E=rA(r,a,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Zn(31,a,i,f),r.elementType=C,r.lanes=d,r;case U:return ca(a.children,f,d,i);case ee:E=8,f|=24;break;case L:return r=Zn(12,a,i,f|2),r.elementType=L,r.lanes=d,r;case ne:return r=Zn(13,a,i,f),r.elementType=ne,r.lanes=d,r;case z:return r=Zn(19,a,i,f),r.elementType=z,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case te:E=10;break e;case W:E=9;break e;case de:E=11;break e;case I:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=Zn(E,a,i,f),i.elementType=r,i.type=l,i.lanes=d,i}function ca(r,i,a,l){return r=Zn(7,r,l,i),r.lanes=a,r}function ed(r,i,a){return r=Zn(6,r,null,i),r.lanes=a,r}function td(r,i,a){return i=Zn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var oo=[],lo=0,vc=null,_c=0,pr=[],gr=0,ha=null,Si=1,Ai="";function fa(r,i){oo[lo++]=_c,oo[lo++]=vc,vc=r,_c=i}function gy(r,i,a){pr[gr++]=Si,pr[gr++]=Ai,pr[gr++]=ha,ha=r;var l=Si;r=Ai;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Si=1<<32-Yt(i)+f|a<<f|l,Ai=d+r}else Si=1<<d|a<<f|l,Ai=r}function nd(r){r.return!==null&&(fa(r,1),gy(r,1,0))}function rd(r){for(;r===vc;)vc=oo[--lo],oo[lo]=null,_c=oo[--lo],oo[lo]=null;for(;r===ha;)ha=pr[--gr],pr[gr]=null,Ai=pr[--gr],pr[gr]=null,Si=pr[--gr],pr[gr]=null}var Mn=null,Ot=null,st=!1,da=null,Qr=!1,id=Error(s(519));function ma(r){var i=Error(s(418,""));throw Il(dr(i,r)),id}function yy(r){var i=r.stateNode,a=r.type,l=r.memoizedProps;switch(i[ae]=r,i[ce]=l,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Xe(Jl[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),hl(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),ec(i,l.value,l.defaultValue,l.children),Yi(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||k_(i.textContent,a)?(l.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),l.onScroll!=null&&Xe("scroll",i),l.onScrollEnd!=null&&Xe("scrollend",i),l.onClick!=null&&(i.onclick=Jc),i=!0):i=!1,i||ma(r)}function vy(r){for(Mn=r.return;Mn;)switch(Mn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Mn=Mn.return}}function Cl(r){if(r!==Mn)return!1;if(!st)return vy(r),st=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Em(r.type,r.memoizedProps)),a=!a),a&&Ot&&ma(r),vy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Ot=jr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Ot=null}}else i===27?(i=Ot,ms(r.type)?(r=Sm,Sm=null,Ot=r):Ot=i):Ot=Mn?jr(r.stateNode.nextSibling):null;return!0}function xl(){Ot=Mn=null,st=!1}function _y(){var r=da;return r!==null&&(Ln===null?Ln=r:Ln.push.apply(Ln,r),da=null),r}function Il(r){da===null?da=[r]:da.push(r)}var sd=ie(null),pa=null,Ri=null;function Ji(r,i,a){fe(sd,i._currentValue),i._currentValue=a}function Ci(r){r._currentValue=sd.current,pe(sd)}function ad(r,i,a){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===a)break;r=r.return}}function od(r,i,a,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ad(d.return,a,r),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ad(E,a,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Dl(r,i,a,l){r=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Wn(f.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(f===Kt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(su):r=[su])}f=f.return}r!==null&&od(i,r,a,l),i.flags|=262144}function Ec(r){for(r=r.firstContext;r!==null;){if(!Wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){pa=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return Ey(pa,r)}function Tc(r,i){return pa===null&&ga(r),Ey(r,i)}function Ey(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ri===null){if(r===null)throw Error(s(308));Ri=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ri=Ri.next=i;return a}var nS=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},rS=n.unstable_scheduleCallback,iS=n.unstable_NormalPriority,Xt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new nS,data:new Map,refCount:0}}function Nl(r){r.refCount--,r.refCount===0&&rS(iS,function(){r.controller.abort()})}var Ml=null,ud=0,uo=0,co=null;function sS(r,i){if(Ml===null){var a=Ml=[];ud=0,uo=hm(),co={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,i.then(Ty,Ty),i}function Ty(){if(--ud===0&&Ml!==null){co!==null&&(co.status="fulfilled");var r=Ml;Ml=null,uo=0,co=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function aS(r,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var by=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sS(r,i),by!==null&&by(r,i)};var ya=ie(null);function cd(){var r=ya.current;return r!==null?r:Tt.pooledCache}function bc(r,i){i===null?fe(ya,ya.current):fe(ya,i.pool)}function wy(){var r=cd();return r===null?null:{parent:Xt._currentValue,pool:r}}var Ol=Error(s(460)),Sy=Error(s(474)),wc=Error(s(542)),hd={then:function(){}};function Ay(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sc(){}function Ry(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Sc,Sc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,xy(r),r;default:if(typeof i.status=="string")i.then(Sc,Sc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,xy(r),r}throw kl=i,Ol}}var kl=null;function Cy(){if(kl===null)throw Error(s(459));var r=kl;return kl=null,r}function xy(r){if(r===Ol||r===wc)throw Error(s(483))}var es=!1;function fd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,i,a){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(ct&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=gc(r),my(r,null,a),i}return pc(r,l,i,a),gc(r)}function Pl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Yn(r,a)}}function md(r,i){var a=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var pd=!1;function Vl(){if(pd){var r=co;if(r!==null)throw r}}function Ll(r,i,a,l){pd=!1;var f=r.updateQueue;es=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,Y=N.next;N.next=null,E===null?d=Y:E.next=Y,E=N;var re=r.alternate;re!==null&&(re=re.updateQueue,b=re.lastBaseUpdate,b!==E&&(b===null?re.firstBaseUpdate=Y:b.next=Y,re.lastBaseUpdate=N))}if(d!==null){var oe=f.baseState;E=0,re=Y=N=null,b=d;do{var Q=b.lane&-536870913,X=Q!==b.lane;if(X?(nt&Q)===Q:(l&Q)===Q){Q!==0&&Q===uo&&(pd=!0),re!==null&&(re=re.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ke=r,Ne=b;Q=i;var pt=a;switch(Ne.tag){case 1:if(ke=Ne.payload,typeof ke=="function"){oe=ke.call(pt,oe,Q);break e}oe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ne.payload,Q=typeof ke=="function"?ke.call(pt,oe,Q):ke,Q==null)break e;oe=v({},oe,Q);break e;case 2:es=!0}}Q=b.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},re===null?(Y=re=X,N=oe):re=re.next=X,E|=Q;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);re===null&&(N=oe),f.baseState=N,f.firstBaseUpdate=Y,f.lastBaseUpdate=re,d===null&&(f.shared.lanes=0),cs|=E,r.lanes=E,r.memoizedState=oe}}function Iy(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Dy(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Iy(a[r],i)}var ho=ie(null),Ac=ie(0);function Ny(r,i){r=ki,fe(Ac,r),fe(ho,i),ki=r|i.baseLanes}function gd(){fe(Ac,ki),fe(ho,ho.current)}function yd(){ki=Ac.current,pe(ho),pe(Ac)}var rs=0,Ke=null,dt=null,Bt=null,Rc=!1,fo=!1,va=!1,Cc=0,Ul=0,mo=null,oS=0;function Lt(){throw Error(s(321))}function vd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Wn(r[a],i[a]))return!1;return!0}function _d(r,i,a,l,f,d){return rs=d,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?mv:pv,va=!1,d=a(l,f),va=!1,fo&&(d=Oy(i,a,l,f)),My(r),d}function My(r){$.H=Oc;var i=dt!==null&&dt.next!==null;if(rs=0,Bt=dt=Ke=null,Rc=!1,Ul=0,mo=null,i)throw Error(s(300));r===null||nn||(r=r.dependencies,r!==null&&Ec(r)&&(nn=!0))}function Oy(r,i,a,l){Ke=r;var f=0;do{if(fo&&(mo=null),Ul=0,fo=!1,25<=f)throw Error(s(301));if(f+=1,Bt=dt=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=mS,d=i(a,l)}while(fo);return d}function lS(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?jl(i):i,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Ke.flags|=1024),i}function Ed(){var r=Cc!==0;return Cc=0,r}function Td(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function bd(r){if(Rc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rc=!1}rs=0,Bt=dt=Ke=null,fo=!1,Ul=Cc=0,mo=null}function Pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ke.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Ht(){if(dt===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var i=Bt===null?Ke.memoizedState:Bt.next;if(i!==null)Bt=i,dt=r;else{if(r===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Ke.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(r){var i=Ul;return Ul+=1,mo===null&&(mo=[]),r=Ry(mo,r,i),i=Ke,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?mv:pv),r}function xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return jl(r);if(r.$$typeof===te)return En(r)}throw Error(s(438,String(r)))}function Sd(r){var i=null,a=Ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wd(),Ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),l=0;l<r;l++)a[l]=P;return i.index++,a}function xi(r,i){return typeof i=="function"?i(r):i}function Ic(r){var i=Ht();return Ad(i,dt,r)}function Ad(r,i,a){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=r.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=r.baseState,f===null)r.memoizedState=d;else{i=f.next;var b=E=null,N=null,Y=i,re=!1;do{var oe=Y.lane&-536870913;if(oe!==Y.lane?(nt&oe)===oe:(rs&oe)===oe){var Q=Y.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),oe===uo&&(re=!0);else if((rs&Q)===Q){Y=Y.next,Q===uo&&(re=!0);continue}else oe={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=oe,E=d):N=N.next=oe,Ke.lanes|=Q,cs|=Q;oe=Y.action,va&&a(d,oe),d=Y.hasEagerState?Y.eagerState:a(d,oe)}else Q={lane:oe,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(b=N=Q,E=d):N=N.next=Q,Ke.lanes|=oe,cs|=oe;Y=Y.next}while(Y!==null&&Y!==i);if(N===null?E=d:N.next=b,!Wn(d,r.memoizedState)&&(nn=!0,re&&(a=co,a!==null)))throw a;r.memoizedState=d,r.baseState=E,r.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Rd(r){var i=Ht(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=r(d,E.action),E=E.next;while(E!==f);Wn(d,i.memoizedState)||(nn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ky(r,i,a){var l=Ke,f=Ht(),d=st;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Wn((dt||f).memoizedState,a);E&&(f.memoizedState=a,nn=!0),f=f.queue;var b=Ly.bind(null,l,f,r);if(zl(2048,8,b,[r]),f.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,po(9,Dc(),Vy.bind(null,l,f,a,i),null),Tt===null)throw Error(s(349));d||(rs&124)!==0||Py(l,i,a)}return a}function Py(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ke.updateQueue,i===null?(i=wd(),Ke.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Vy(r,i,a,l){i.value=a,i.getSnapshot=l,Uy(i)&&jy(r)}function Ly(r,i,a){return a(function(){Uy(i)&&jy(r)})}function Uy(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Wn(r,a)}catch{return!0}}function jy(r){var i=so(r,2);i!==null&&rr(i,r,2)}function Cd(r){var i=Pn();if(typeof r=="function"){var a=r;if(r=a(),va){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},i}function zy(r,i,a,l){return r.baseState=a,Ad(r,dt,typeof l=="function"?l:xi)}function uS(r,i,a,l,f){if(Mc(r))throw Error(s(485));if(r=i.action,r!==null){var d={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,By(i,d)):(d.next=a.next,i.pending=a.next=d)}}function By(r,i){var a=i.action,l=i.payload,f=r.state;if(i.isTransition){var d=$.T,E={};$.T=E;try{var b=a(f,l),N=$.S;N!==null&&N(E,b),Hy(r,i,b)}catch(Y){xd(r,i,Y)}finally{$.T=d}}else try{d=a(f,l),Hy(r,i,d)}catch(Y){xd(r,i,Y)}}function Hy(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fy(r,i,l)},function(l){return xd(r,i,l)}):Fy(r,i,a)}function Fy(r,i,a){i.status="fulfilled",i.value=a,qy(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,By(r,a)))}function xd(r,i,a){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qy(i),i=i.next;while(i!==l)}r.action=null}function qy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Gy(r,i){return i}function Ky(r,i){if(st){var a=Tt.formState;if(a!==null){e:{var l=Ke;if(st){if(Ot){t:{for(var f=Ot,d=Qr;f.nodeType!==8;){if(!d){f=null;break t}if(f=jr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Ot=jr(f.nextSibling),l=f.data==="F!";break e}}ma(l)}l=!1}l&&(i=a[0])}}return a=Pn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:i},a.queue=l,a=hv.bind(null,Ke,l),l.dispatch=a,l=Cd(!1),d=Od.bind(null,Ke,!1,l.queue),l=Pn(),f={state:i,dispatch:null,action:r,pending:null},l.queue=f,a=uS.bind(null,Ke,f,d,a),f.dispatch=a,l.memoizedState=r,[i,a,!1]}function Yy(r){var i=Ht();return $y(i,dt,r)}function $y(r,i,a){if(i=Ad(r,i,Gy)[0],r=Ic(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=jl(i)}catch(E){throw E===Ol?wc:E}else l=i;i=Ht();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ke.flags|=2048,po(9,Dc(),cS.bind(null,f,a),null)),[l,d,r]}function cS(r,i){r.action=i}function Qy(r){var i=Ht(),a=dt;if(a!==null)return $y(i,a,r);Ht(),i=i.memoizedState,a=Ht();var l=a.queue.dispatch;return a.memoizedState=r,[i,l,!1]}function po(r,i,a,l){return r={tag:r,create:a,deps:l,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=wd(),Ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(l=a.next,a.next=r,r.next=l,i.lastEffect=r),r}function Dc(){return{destroy:void 0,resource:void 0}}function Xy(){return Ht().memoizedState}function Nc(r,i,a,l){var f=Pn();l=l===void 0?null:l,Ke.flags|=r,f.memoizedState=po(1|i,Dc(),a,l)}function zl(r,i,a,l){var f=Ht();l=l===void 0?null:l;var d=f.memoizedState.inst;dt!==null&&l!==null&&vd(l,dt.memoizedState.deps)?f.memoizedState=po(i,d,a,l):(Ke.flags|=r,f.memoizedState=po(1|i,d,a,l))}function Wy(r,i){Nc(8390656,8,r,i)}function Zy(r,i){zl(2048,8,r,i)}function Jy(r,i){return zl(4,2,r,i)}function ev(r,i){return zl(4,4,r,i)}function tv(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function nv(r,i,a){a=a!=null?a.concat([r]):null,zl(4,4,tv.bind(null,i,r),a)}function Id(){}function rv(r,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vd(i,l[1])?l[0]:(a.memoizedState=[r,i],r)}function iv(r,i){var a=Ht();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vd(i,l[1]))return l[0];if(l=r(),va){Rn(!0);try{r()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Dd(r,i,a){return a===void 0||(rs&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=o_(),Ke.lanes|=r,cs|=r,a)}function sv(r,i,a,l){return Wn(a,i)?a:ho.current!==null?(r=Dd(r,a,l),Wn(r,i)||(nn=!0),r):(rs&42)===0?(nn=!0,r.memoizedState=a):(r=o_(),Ke.lanes|=r,cs|=r,i)}function av(r,i,a,l,f){var d=he.p;he.p=d!==0&&8>d?d:8;var E=$.T,b={};$.T=b,Od(r,!1,i,a);try{var N=f(),Y=$.S;if(Y!==null&&Y(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var re=aS(N,l);Bl(r,i,re,nr(r))}else Bl(r,i,l,nr(r))}catch(oe){Bl(r,i,{then:function(){},status:"rejected",reason:oe},nr())}finally{he.p=d,$.T=E}}function hS(){}function Nd(r,i,a,l){if(r.tag!==5)throw Error(s(476));var f=ov(r).queue;av(r,f,i,ge,a===null?hS:function(){return lv(r),a(l)})}function ov(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function lv(r){var i=ov(r).next.queue;Bl(r,i,{},nr())}function Md(){return En(su)}function uv(){return Ht().memoizedState}function cv(){return Ht().memoizedState}function fS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=nr();r=ts(a);var l=ns(i,r,a);l!==null&&(rr(l,i,a),Pl(l,i,a)),i={cache:ld()},r.payload=i;return}i=i.return}}function dS(r,i,a){var l=nr();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(r)?fv(i,a):(a=Zf(r,i,a,l),a!==null&&(rr(a,r,l),dv(a,i,l)))}function hv(r,i,a){var l=nr();Bl(r,i,a,l)}function Bl(r,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(r))fv(i,f);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,Wn(b,E))return pc(r,i,f,0),Tt===null&&mc(),!1}catch{}finally{}if(a=Zf(r,i,f,l),a!==null)return rr(a,r,l),dv(a,i,l),!0}return!1}function Od(r,i,a,l){if(l={lane:2,revertLane:hm(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(r)){if(i)throw Error(s(479))}else i=Zf(r,a,l,2),i!==null&&rr(i,r,2)}function Mc(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function fv(r,i){fo=Rc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function dv(r,i,a){if((a&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,a|=l,i.lanes=a,Yn(r,a)}}var Oc={readContext:En,use:xc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},mv={readContext:En,use:xc,useCallback:function(r,i){return Pn().memoizedState=[r,i===void 0?null:i],r},useContext:En,useEffect:Wy,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Nc(4194308,4,tv.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Nc(4194308,4,r,i)},useInsertionEffect:function(r,i){Nc(4,2,r,i)},useMemo:function(r,i){var a=Pn();i=i===void 0?null:i;var l=r();if(va){Rn(!0);try{r()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(r,i,a){var l=Pn();if(a!==void 0){var f=a(i);if(va){Rn(!0);try{a(i)}finally{Rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=dS.bind(null,Ke,r),[l.memoizedState,r]},useRef:function(r){var i=Pn();return r={current:r},i.memoizedState=r},useState:function(r){r=Cd(r);var i=r.queue,a=hv.bind(null,Ke,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(r,i){var a=Pn();return Dd(a,r,i)},useTransition:function(){var r=Cd(!1);return r=av.bind(null,Ke,r.queue,!0,!1),Pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var l=Ke,f=Pn();if(st){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Tt===null)throw Error(s(349));(nt&124)!==0||Py(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Wy(Ly.bind(null,l,d,r),[r]),l.flags|=2048,po(9,Dc(),Vy.bind(null,l,d,a,i),null),a},useId:function(){var r=Pn(),i=Tt.identifierPrefix;if(st){var a=Ai,l=Si;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Cc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=oS++,i="«"+i+"r"+a.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Md,useFormState:Ky,useActionState:Ky,useOptimistic:function(r){var i=Pn();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,Ke,!0,a),a.dispatch=i,[r,i]},useMemoCache:Sd,useCacheRefresh:function(){return Pn().memoizedState=fS.bind(null,Ke)}},pv={readContext:En,use:xc,useCallback:rv,useContext:En,useEffect:Zy,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:ev,useMemo:iv,useReducer:Ic,useRef:Xy,useState:function(){return Ic(xi)},useDebugValue:Id,useDeferredValue:function(r,i){var a=Ht();return sv(a,dt.memoizedState,r,i)},useTransition:function(){var r=Ic(xi)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:jl(r),i]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:Md,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,i){var a=Ht();return zy(a,dt,r,i)},useMemoCache:Sd,useCacheRefresh:cv},mS={readContext:En,use:xc,useCallback:rv,useContext:En,useEffect:Zy,useImperativeHandle:nv,useInsertionEffect:Jy,useLayoutEffect:ev,useMemo:iv,useReducer:Rd,useRef:Xy,useState:function(){return Rd(xi)},useDebugValue:Id,useDeferredValue:function(r,i){var a=Ht();return dt===null?Dd(a,r,i):sv(a,dt.memoizedState,r,i)},useTransition:function(){var r=Rd(xi)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:jl(r),i]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:Md,useFormState:Qy,useActionState:Qy,useOptimistic:function(r,i){var a=Ht();return dt!==null?zy(a,dt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Sd,useCacheRefresh:cv},go=null,Hl=0;function kc(r){var i=Hl;return Hl+=1,go===null&&(go=[]),Ry(go,r,i)}function Fl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Pc(r,i){throw i.$$typeof===T?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function gv(r){var i=r._init;return i(r._payload)}function yv(r){function i(F,V){if(r){var G=F.deletions;G===null?(F.deletions=[V],F.flags|=16):G.push(V)}}function a(F,V){if(!r)return null;for(;V!==null;)i(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function f(F,V){return F=wi(F,V),F.index=0,F.sibling=null,F}function d(F,V,G){return F.index=G,r?(G=F.alternate,G!==null?(G=G.index,G<V?(F.flags|=67108866,V):G):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function E(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function b(F,V,G,se){return V===null||V.tag!==6?(V=ed(G,F.mode,se),V.return=F,V):(V=f(V,G),V.return=F,V)}function N(F,V,G,se){var be=G.type;return be===U?re(F,V,G.props.children,se,G.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&gv(be)===V.type)?(V=f(V,G.props),Fl(V,G),V.return=F,V):(V=yc(G.type,G.key,G.props,null,F.mode,se),Fl(V,G),V.return=F,V)}function Y(F,V,G,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=td(G,F.mode,se),V.return=F,V):(V=f(V,G.children||[]),V.return=F,V)}function re(F,V,G,se,be){return V===null||V.tag!==7?(V=ca(G,F.mode,se,be),V.return=F,V):(V=f(V,G),V.return=F,V)}function oe(F,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ed(""+V,F.mode,G),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return G=yc(V.type,V.key,V.props,null,F.mode,G),Fl(G,V),G.return=F,G;case R:return V=td(V,F.mode,G),V.return=F,V;case A:var se=V._init;return V=se(V._payload),oe(F,V,G)}if($e(V)||B(V))return V=ca(V,F.mode,G,null),V.return=F,V;if(typeof V.then=="function")return oe(F,kc(V),G);if(V.$$typeof===te)return oe(F,Tc(F,V),G);Pc(F,V)}return null}function Q(F,V,G,se){var be=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:b(F,V,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===be?N(F,V,G,se):null;case R:return G.key===be?Y(F,V,G,se):null;case A:return be=G._init,G=be(G._payload),Q(F,V,G,se)}if($e(G)||B(G))return be!==null?null:re(F,V,G,se,null);if(typeof G.then=="function")return Q(F,V,kc(G),se);if(G.$$typeof===te)return Q(F,V,Tc(F,G),se);Pc(F,G)}return null}function X(F,V,G,se,be){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return F=F.get(G)||null,b(V,F,""+se,be);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return F=F.get(se.key===null?G:se.key)||null,N(V,F,se,be);case R:return F=F.get(se.key===null?G:se.key)||null,Y(V,F,se,be);case A:var Ye=se._init;return se=Ye(se._payload),X(F,V,G,se,be)}if($e(se)||B(se))return F=F.get(G)||null,re(V,F,se,be,null);if(typeof se.then=="function")return X(F,V,G,kc(se),be);if(se.$$typeof===te)return X(F,V,G,Tc(V,se),be);Pc(V,se)}return null}function ke(F,V,G,se){for(var be=null,Ye=null,xe=V,Me=V=0,sn=null;xe!==null&&Me<G.length;Me++){xe.index>Me?(sn=xe,xe=null):sn=xe.sibling;var it=Q(F,xe,G[Me],se);if(it===null){xe===null&&(xe=sn);break}r&&xe&&it.alternate===null&&i(F,xe),V=d(it,V,Me),Ye===null?be=it:Ye.sibling=it,Ye=it,xe=sn}if(Me===G.length)return a(F,xe),st&&fa(F,Me),be;if(xe===null){for(;Me<G.length;Me++)xe=oe(F,G[Me],se),xe!==null&&(V=d(xe,V,Me),Ye===null?be=xe:Ye.sibling=xe,Ye=xe);return st&&fa(F,Me),be}for(xe=l(xe);Me<G.length;Me++)sn=X(xe,F,Me,G[Me],se),sn!==null&&(r&&sn.alternate!==null&&xe.delete(sn.key===null?Me:sn.key),V=d(sn,V,Me),Ye===null?be=sn:Ye.sibling=sn,Ye=sn);return r&&xe.forEach(function(_s){return i(F,_s)}),st&&fa(F,Me),be}function Ne(F,V,G,se){if(G==null)throw Error(s(151));for(var be=null,Ye=null,xe=V,Me=V=0,sn=null,it=G.next();xe!==null&&!it.done;Me++,it=G.next()){xe.index>Me?(sn=xe,xe=null):sn=xe.sibling;var _s=Q(F,xe,it.value,se);if(_s===null){xe===null&&(xe=sn);break}r&&xe&&_s.alternate===null&&i(F,xe),V=d(_s,V,Me),Ye===null?be=_s:Ye.sibling=_s,Ye=_s,xe=sn}if(it.done)return a(F,xe),st&&fa(F,Me),be;if(xe===null){for(;!it.done;Me++,it=G.next())it=oe(F,it.value,se),it!==null&&(V=d(it,V,Me),Ye===null?be=it:Ye.sibling=it,Ye=it);return st&&fa(F,Me),be}for(xe=l(xe);!it.done;Me++,it=G.next())it=X(xe,F,Me,it.value,se),it!==null&&(r&&it.alternate!==null&&xe.delete(it.key===null?Me:it.key),V=d(it,V,Me),Ye===null?be=it:Ye.sibling=it,Ye=it);return r&&xe.forEach(function(pA){return i(F,pA)}),st&&fa(F,Me),be}function pt(F,V,G,se){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var be=G.key;V!==null;){if(V.key===be){if(be=G.type,be===U){if(V.tag===7){a(F,V.sibling),se=f(V,G.props.children),se.return=F,F=se;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===A&&gv(be)===V.type){a(F,V.sibling),se=f(V,G.props),Fl(se,G),se.return=F,F=se;break e}a(F,V);break}else i(F,V);V=V.sibling}G.type===U?(se=ca(G.props.children,F.mode,se,G.key),se.return=F,F=se):(se=yc(G.type,G.key,G.props,null,F.mode,se),Fl(se,G),se.return=F,F=se)}return E(F);case R:e:{for(be=G.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(F,V.sibling),se=f(V,G.children||[]),se.return=F,F=se;break e}else{a(F,V);break}else i(F,V);V=V.sibling}se=td(G,F.mode,se),se.return=F,F=se}return E(F);case A:return be=G._init,G=be(G._payload),pt(F,V,G,se)}if($e(G))return ke(F,V,G,se);if(B(G)){if(be=B(G),typeof be!="function")throw Error(s(150));return G=be.call(G),Ne(F,V,G,se)}if(typeof G.then=="function")return pt(F,V,kc(G),se);if(G.$$typeof===te)return pt(F,V,Tc(F,G),se);Pc(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(F,V.sibling),se=f(V,G),se.return=F,F=se):(a(F,V),se=ed(G,F.mode,se),se.return=F,F=se),E(F)):a(F,V)}return function(F,V,G,se){try{Hl=0;var be=pt(F,V,G,se);return go=null,be}catch(xe){if(xe===Ol||xe===wc)throw xe;var Ye=Zn(29,xe,null,F.mode);return Ye.lanes=se,Ye.return=F,Ye}finally{}}}var yo=yv(!0),vv=yv(!1),yr=ie(null),Xr=null;function is(r){var i=r.alternate;fe(Wt,Wt.current&1),fe(yr,r),Xr===null&&(i===null||ho.current!==null||i.memoizedState!==null)&&(Xr=r)}function _v(r){if(r.tag===22){if(fe(Wt,Wt.current),fe(yr,r),Xr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Xr=r)}}else ss()}function ss(){fe(Wt,Wt.current),fe(yr,yr.current)}function Ii(r){pe(yr),Xr===r&&(Xr=null),pe(Wt)}var Wt=ie(0);function Vc(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kd(r,i,a,l){i=r.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Pd={enqueueSetState:function(r,i,a){r=r._reactInternals;var l=nr(),f=ts(l);f.payload=i,a!=null&&(f.callback=a),i=ns(r,f,l),i!==null&&(rr(i,r,l),Pl(i,r,l))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var l=nr(),f=ts(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ns(r,f,l),i!==null&&(rr(i,r,l),Pl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=nr(),l=ts(a);l.tag=2,i!=null&&(l.callback=i),i=ns(r,l,a),i!==null&&(rr(i,r,a),Pl(i,r,a))}};function Ev(r,i,a,l,f,d,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Al(a,l)||!Al(f,d):!0}function Tv(r,i,a,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==r&&Pd.enqueueReplaceState(i,i.state,null)}function _a(r,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(r=r.defaultProps){a===i&&(a=v({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var Lc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function bv(r){Lc(r)}function wv(r){console.error(r)}function Sv(r){Lc(r)}function Uc(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Av(r,i,a){try{var l=r.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vd(r,i,a){return a=ts(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(r,i)},a}function Rv(r){return r=ts(r),r.tag=3,r}function Cv(r,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;r.payload=function(){return f(d)},r.callback=function(){Av(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Av(i,a,l),typeof f!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function pS(r,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Dl(i,a,f,!0),a=yr.current,a!==null){switch(a.tag){case 13:return Xr===null?am():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===hd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),lm(r,l,f)),!1;case 22:return a.flags|=65536,l===hd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),lm(r,l,f)),!1}throw Error(s(435,a.tag))}return lm(r,l,f),am(),!1}if(st)return i=yr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==id&&(r=Error(s(422),{cause:l}),Il(dr(r,a)))):(l!==id&&(i=Error(s(423),{cause:l}),Il(dr(i,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=dr(l,a),f=Vd(r.stateNode,l,f),md(r,f),kt!==4&&(kt=2)),!1;var d=Error(s(520),{cause:l});if(d=dr(d,a),Xl===null?Xl=[d]:Xl.push(d),kt!==4&&(kt=2),i===null)return!0;l=dr(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Vd(a.stateNode,l,r),md(a,r),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hs===null||!hs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Rv(f),Cv(f,r,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var xv=Error(s(461)),nn=!1;function hn(r,i,a,l){i.child=r===null?vv(i,null,a,l):yo(i,r.child,a,l)}function Iv(r,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ga(i),l=_d(r,i,a,E,d,f),b=Ed(),r!==null&&!nn?(Td(r,i,f),Di(r,i,f)):(st&&b&&nd(i),i.flags|=1,hn(r,i,l,f),i.child)}function Dv(r,i,a,l,f){if(r===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Nv(r,i,d,l,f)):(r=yc(a.type,null,l,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(d=r.child,!qd(r,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Al,a(E,l)&&r.ref===i.ref)return Di(r,i,f)}return i.flags|=1,r=wi(d,l),r.ref=i.ref,r.return=i,i.child=r}function Nv(r,i,a,l,f){if(r!==null){var d=r.memoizedProps;if(Al(d,l)&&r.ref===i.ref)if(nn=!1,i.pendingProps=l=d,qd(r,f))(r.flags&131072)!==0&&(nn=!0);else return i.lanes=r.lanes,Di(r,i,f)}return Ld(r,i,a,l,f)}function Mv(r,i,a){var l=i.pendingProps,f=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,r!==null){for(f=i.child=r.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ov(r,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&bc(i,d!==null?d.cachePool:null),d!==null?Ny(i,d):gd(),_v(i);else return i.lanes=i.childLanes=536870912,Ov(r,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(bc(i,d.cachePool),Ny(i,d),ss(),i.memoizedState=null):(r!==null&&bc(i,null),gd(),ss());return hn(r,i,f,a),i.child}function Ov(r,i,a,l){var f=cd();return f=f===null?null:{parent:Xt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},r!==null&&bc(i,null),gd(),_v(i),r!==null&&Dl(r,i,l,!0),null}function jc(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function Ld(r,i,a,l,f){return ga(i),a=_d(r,i,a,l,void 0,f),l=Ed(),r!==null&&!nn?(Td(r,i,f),Di(r,i,f)):(st&&l&&nd(i),i.flags|=1,hn(r,i,a,f),i.child)}function kv(r,i,a,l,f,d){return ga(i),i.updateQueue=null,a=Oy(i,l,a,f),My(r),l=Ed(),r!==null&&!nn?(Td(r,i,d),Di(r,i,d)):(st&&l&&nd(i),i.flags|=1,hn(r,i,a,d),i.child)}function Pv(r,i,a,l,f){if(ga(i),i.stateNode===null){var d=ao,E=a.contextType;typeof E=="object"&&E!==null&&(d=En(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},fd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?En(E):ao,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(kd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Pd.enqueueReplaceState(d,d.state,null),Ll(i,l,d,f),Vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){d=i.stateNode;var b=i.memoizedProps,N=_a(a,b);d.props=N;var Y=d.context,re=a.contextType;E=ao,typeof re=="object"&&re!==null&&(E=En(re));var oe=a.getDerivedStateFromProps;re=typeof oe=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,re||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Y!==E)&&Tv(i,d,l,E),es=!1;var Q=i.memoizedState;d.state=Q,Ll(i,l,d,f),Vl(),Y=i.memoizedState,b||Q!==Y||es?(typeof oe=="function"&&(kd(i,a,oe,l),Y=i.memoizedState),(N=es||Ev(i,a,N,l,Q,Y,E))?(re||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,dd(r,i),E=i.memoizedProps,re=_a(a,E),d.props=re,oe=i.pendingProps,Q=d.context,Y=a.contextType,N=ao,typeof Y=="object"&&Y!==null&&(N=En(Y)),b=a.getDerivedStateFromProps,(Y=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==oe||Q!==N)&&Tv(i,d,l,N),es=!1,Q=i.memoizedState,d.state=Q,Ll(i,l,d,f),Vl();var X=i.memoizedState;E!==oe||Q!==X||es||r!==null&&r.dependencies!==null&&Ec(r.dependencies)?(typeof b=="function"&&(kd(i,a,b,l),X=i.memoizedState),(re=es||Ev(i,a,re,l,Q,X,N)||r!==null&&r.dependencies!==null&&Ec(r.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=N,l=re):(typeof d.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),l=!1)}return d=l,jc(r,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,r!==null&&l?(i.child=yo(i,r.child,null,f),i.child=yo(i,null,a,f)):hn(r,i,a,f),i.memoizedState=d.state,r=i.child):r=Di(r,i,f),r}function Vv(r,i,a,l){return xl(),i.flags|=256,hn(r,i,a,l),i.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(r){return{baseLanes:r,cachePool:wy()}}function zd(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=vr),r}function Lv(r,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(st){if(f?is(i):ss(),st){var b=Ot,N;if(N=b){e:{for(N=b,b=Qr;N.nodeType!==8;){if(!b){b=null;break e}if(N=jr(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:ha!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},N=Zn(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,Mn=i,Ot=null,N=!0):N=!1}N||ma(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return wm(b)?i.lanes=32:i.lanes=536870912,null;Ii(i)}return b=l.children,l=l.fallback,f?(ss(),f=i.mode,b=zc({mode:"hidden",children:b},f),l=ca(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=jd(a),f.childLanes=zd(r,E,a),i.memoizedState=Ud,l):(is(i),Bd(i,b))}if(N=r.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(is(i),i.flags&=-257,i=Hd(r,i,a)):i.memoizedState!==null?(ss(),i.child=r.child,i.flags|=128,i=null):(ss(),f=l.fallback,b=i.mode,l=zc({mode:"visible",children:l.children},b),f=ca(f,b,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,yo(i,r.child,null,a),l=i.child,l.memoizedState=jd(a),l.childLanes=zd(r,E,a),i.memoizedState=Ud,i=f);else if(is(i),wm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(s(419)),l.stack="",l.digest=E,Il({value:l,source:null,stack:null}),i=Hd(r,i,a)}else if(nn||Dl(r,i,a,!1),E=(a&r.childLanes)!==0,nn||E){if(E=Tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ys(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,so(r,l),rr(E,r,l),xv;b.data==="$?"||am(),i=Hd(r,i,a)}else b.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=N.treeContext,Ot=jr(b.nextSibling),Mn=i,st=!0,da=null,Qr=!1,r!==null&&(pr[gr++]=Si,pr[gr++]=Ai,pr[gr++]=ha,Si=r.id,Ai=r.overflow,ha=i),i=Bd(i,l.children),i.flags|=4096);return i}return f?(ss(),f=l.fallback,b=i.mode,N=r.child,Y=N.sibling,l=wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Y!==null?f=wi(Y,f):(f=ca(f,b,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=r.child.memoizedState,b===null?b=jd(a):(N=b.cachePool,N!==null?(Y=Xt._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=wy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=zd(r,E,a),i.memoizedState=Ud,l):(is(i),a=r.child,r=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=a,i.memoizedState=null,a)}function Bd(r,i){return i=zc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function zc(r,i){return r=Zn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hd(r,i,a){return yo(i,r.child,null,a),r=Bd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Uv(r,i,a){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),ad(r.return,i,a)}function Fd(r,i,a,l,f){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function jv(r,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(hn(r,i,l.children,a),l=Wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uv(r,a,i);else if(r.tag===19)Uv(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(fe(Wt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&Vc(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Fd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Vc(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Fd(i,!0,a,null,d);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),cs|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Dl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=wi(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=wi(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function qd(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Ec(r)))}function gS(r,i,a){switch(i.tag){case 3:at(i,i.stateNode.containerInfo),Ji(i,Xt,r.memoizedState.cache),xl();break;case 27:case 5:Mt(i);break;case 4:at(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(is(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Lv(r,i,a):(is(i),r=Di(r,i,a),r!==null?r.sibling:null);is(i);break;case 19:var f=(r.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Dl(r,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return jv(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(Wt,Wt.current),l)break;return null;case 22:case 23:return i.lanes=0,Mv(r,i,a);case 24:Ji(i,Xt,r.memoizedState.cache)}return Di(r,i,a)}function zv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)nn=!0;else{if(!qd(r,a)&&(i.flags&128)===0)return nn=!1,gS(r,i,a);nn=(r.flags&131072)!==0}else nn=!1,st&&(i.flags&1048576)!==0&&gy(i,_c,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Jf(l)?(r=_a(l,r),i.tag=1,i=Pv(null,i,l,r,a)):(i.tag=0,i=Ld(null,i,l,r,a));else{if(l!=null){if(f=l.$$typeof,f===de){i.tag=11,i=Iv(null,i,l,r,a);break e}else if(f===I){i.tag=14,i=Dv(null,i,l,r,a);break e}}throw i=Ve(l)||l,Error(s(306,i,""))}}return i;case 0:return Ld(r,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=_a(l,i.pendingProps),Pv(r,i,l,f,a);case 3:e:{if(at(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,dd(r,i),Ll(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ji(i,Xt,l),l!==d.cache&&od(i,[Xt],a,!0),Vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Vv(r,i,l,a);break e}else if(l!==f){f=dr(Error(s(424)),i),Il(f),i=Vv(r,i,l,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ot=jr(r.firstChild),Mn=i,st=!0,da=null,Qr=!0,a=vv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xl(),l===f){i=Di(r,i,a);break e}hn(r,i,l,a)}i=i.child}return i;case 26:return jc(r,i),r===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:st||(a=i.type,r=i.pendingProps,l=eh(Ie.current).createElement(a),l[ae]=i,l[ce]=r,dn(l,a,r),Le(l),i.stateNode=l):i.memoizedState=q_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Mt(i),r===null&&st&&(l=i.stateNode=B_(i.type,i.pendingProps,Ie.current),Mn=i,Qr=!0,f=Ot,ms(i.type)?(Sm=f,Ot=jr(l.firstChild)):Ot=f),hn(r,i,i.pendingProps.children,a),jc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&st&&((f=l=Ot)&&(l=qS(l,i.type,i.pendingProps,Qr),l!==null?(i.stateNode=l,Mn=i,Ot=jr(l.firstChild),Qr=!1,f=!0):f=!1),f||ma(i)),Mt(i),f=i.type,d=i.pendingProps,E=r!==null?r.memoizedProps:null,l=d.children,Em(f,d)?l=null:E!==null&&Em(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=_d(r,i,lS,null,null,a),su._currentValue=f),jc(r,i),hn(r,i,l,a),i.child;case 6:return r===null&&st&&((r=a=Ot)&&(a=GS(a,i.pendingProps,Qr),a!==null?(i.stateNode=a,Mn=i,Ot=null,r=!0):r=!1),r||ma(i)),null;case 13:return Lv(r,i,a);case 4:return at(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=yo(i,null,l,a):hn(r,i,l,a),i.child;case 11:return Iv(r,i,i.type,i.pendingProps,a);case 7:return hn(r,i,i.pendingProps,a),i.child;case 8:return hn(r,i,i.pendingProps.children,a),i.child;case 12:return hn(r,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ji(i,i.type,l.value),hn(r,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ga(i),f=En(f),l=l(f),i.flags|=1,hn(r,i,l,a),i.child;case 14:return Dv(r,i,i.type,i.pendingProps,a);case 15:return Nv(r,i,i.type,i.pendingProps,a);case 19:return jv(r,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},r===null?(a=zc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=wi(r.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Mv(r,i,a);case 24:return ga(i),l=En(Xt),r===null?(f=cd(),f===null&&(f=Tt,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},fd(i),Ji(i,Xt,f)):((r.lanes&a)!==0&&(dd(r,i),Ll(i,null,null,a),Vl()),f=r.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ji(i,Xt,l)):(l=d.cache,Ji(i,Xt,l),l!==f.cache&&od(i,[Xt],a,!0))),hn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ni(r){r.flags|=4}function Bv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Q_(i)){if(i=yr.current,i!==null&&((nt&4194048)===nt?Xr!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==Xr))throw kl=hd,Sy;r.flags|=8192}}function Bc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Kr():536870912,r.lanes|=i,To|=i)}function ql(r,i){if(!st)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,l=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=a,i}function yS(r,i,a){var l=i.pendingProps;switch(rd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return a=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ci(Xt),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Cl(i)?Ni(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_y())),Dt(i),null;case 26:return a=i.memoizedState,r===null?(Ni(i),a!==null?(Dt(i),Bv(i,a)):(Dt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(Ni(i),Dt(i),Bv(i,a)):(Dt(i),i.flags&=-16777217):(r.memoizedProps!==l&&Ni(i),Dt(i),i.flags&=-16777217),null;case 27:Bn(i),a=Ie.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}r=Ee.current,Cl(i)?yy(i):(r=B_(f,l,a),i.stateNode=r,Ni(i))}return Dt(i),null;case 5:if(Bn(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Dt(i),null}if(r=Ee.current,Cl(i))yy(i);else{switch(f=eh(Ie.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}r[ae]=i,r[ce]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(dn(r,a,l),a){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ni(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ie.current,Cl(i)){if(r=i.stateNode,a=i.memoizedProps,l=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[ae]=i,r=!!(r.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||k_(r.nodeValue,a)),r||ma(i)}else r=eh(r).createTextNode(l),r[ae]=i,i.stateNode=r}return Dt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Cl(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ae]=i}else xl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),f=!1}else f=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,r=r!==null&&r.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),Bc(i,i.updateQueue),Dt(i),null;case 4:return zn(),r===null&&pm(i.stateNode.containerInfo),Dt(i),null;case 10:return Ci(i.type),Dt(i),null;case 19:if(pe(Wt),f=i.memoizedState,f===null)return Dt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)ql(f,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(d=Vc(r),d!==null){for(i.flags|=128,ql(f,!1),r=d.updateQueue,i.updateQueue=r,Bc(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)py(a,r),a=a.sibling;return fe(Wt,Wt.current&1|2),i.child}r=r.sibling}f.tail!==null&&ln()>qc&&(i.flags|=128,l=!0,ql(f,!1),i.lanes=4194304)}else{if(!l)if(r=Vc(d),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,Bc(i,r),ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!st)return Dt(i),null}else 2*ln()-f.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,l=!0,ql(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(r=f.last,r!==null?r.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ln(),i.sibling=null,r=Wt.current,fe(Wt,l?r&1|2:r&1),i):(Dt(i),null);case 22:case 23:return Ii(i),yd(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),a=i.updateQueue,a!==null&&Bc(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),r!==null&&pe(ya),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ci(Xt),Dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vS(r,i){switch(rd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ci(Xt),zn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Bn(i),null;case 13:if(Ii(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Wt),null;case 4:return zn(),null;case 10:return Ci(i.type),null;case 22:case 23:return Ii(i),yd(),r!==null&&pe(ya),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ci(Xt),null;case 25:return null;default:return null}}function Hv(r,i){switch(rd(i),i.tag){case 3:Ci(Xt),zn();break;case 26:case 27:case 5:Bn(i);break;case 4:zn();break;case 13:Ii(i);break;case 19:pe(Wt);break;case 10:Ci(i.type);break;case 22:case 23:Ii(i),yd(),r!==null&&pe(ya);break;case 24:Ci(Xt)}}function Gl(r,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&r)===r){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){yt(i,i.return,b)}}function as(r,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&r)===r){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var N=a,Y=b;try{Y()}catch(re){yt(f,N,re)}}}l=l.next}while(l!==d)}}catch(re){yt(i,i.return,re)}}function Fv(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{Dy(i,a)}catch(l){yt(r,r.return,l)}}}function qv(r,i,a){a.props=_a(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(l){yt(r,i,l)}}function Kl(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof a=="function"?r.refCleanup=a(l):a.current=l}}catch(f){yt(r,i,f)}}function Wr(r,i){var a=r.ref,l=r.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){yt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){yt(r,i,f)}else a.current=null}function Gv(r){var i=r.type,a=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){yt(r,r.return,f)}}function Gd(r,i,a){try{var l=r.stateNode;jS(l,r.type,a,i),l[ce]=i}catch(f){yt(r,r.return,f)}}function Kv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ms(r.type)||r.tag===4}function Kd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yd(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jc));else if(l!==4&&(l===27&&ms(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(Yd(r,i,a),r=r.sibling;r!==null;)Yd(r,i,a),r=r.sibling}function Hc(r,i,a){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(l!==4&&(l===27&&ms(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Hc(r,i,a),r=r.sibling;r!==null;)Hc(r,i,a),r=r.sibling}function Yv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var l=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);dn(i,l,a),i[ae]=r,i[ce]=a}catch(d){yt(r,r.return,d)}}var Mi=!1,Ut=!1,$d=!1,$v=typeof WeakSet=="function"?WeakSet:Set,rn=null;function _S(r,i){if(r=r.containerInfo,vm=ah,r=sy(r),Kf(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,Y=0,re=0,oe=r,Q=null;t:for(;;){for(var X;oe!==a||f!==0&&oe.nodeType!==3||(b=E+f),oe!==d||l!==0&&oe.nodeType!==3||(N=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(X=oe.firstChild)!==null;)Q=oe,oe=X;for(;;){if(oe===r)break t;if(Q===a&&++Y===f&&(b=E),Q===d&&++re===l&&(N=E),(X=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=X}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:r,selectionRange:a},ah=!1,rn=i;rn!==null;)if(i=rn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,rn=r;else for(;rn!==null;){switch(i=rn,d=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ke=_a(a.type,f,a.elementType===a.type);r=l.getSnapshotBeforeUpdate(ke,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(Ne){yt(a,a.return,Ne)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)bm(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":bm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,rn=r;break}rn=i.return}}function Qv(r,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(r,a),l&4&&Gl(5,a);break;case 1:if(os(r,a),l&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(E){yt(a,a.return,E)}else{var f=_a(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(a,a.return,E)}}l&64&&Fv(a),l&512&&Kl(a,a.return);break;case 3:if(os(r,a),l&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Dy(r,i)}catch(E){yt(a,a.return,E)}}break;case 27:i===null&&l&4&&Yv(a);case 26:case 5:os(r,a),i===null&&l&4&&Gv(a),l&512&&Kl(a,a.return);break;case 12:os(r,a);break;case 13:os(r,a),l&4&&Zv(r,a),l&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=xS.bind(null,a),KS(r,a))));break;case 22:if(l=a.memoizedState!==null||Mi,!l){i=i!==null&&i.memoizedState!==null||Ut,f=Mi;var d=Ut;Mi=l,(Ut=i)&&!d?ls(r,a,(a.subtreeFlags&8772)!==0):os(r,a),Mi=f,Ut=d}break;case 30:break;default:os(r,a)}}function Xv(r){var i=r.alternate;i!==null&&(r.alternate=null,Xv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Se(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,Vn=!1;function Oi(r,i,a){for(a=a.child;a!==null;)Wv(r,i,a),a=a.sibling}function Wv(r,i,a){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(un,a)}catch{}switch(a.tag){case 26:Ut||Wr(a,i),Oi(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Wr(a,i);var l=Ct,f=Vn;ms(a.type)&&(Ct=a.stateNode,Vn=!1),Oi(r,i,a),tu(a.stateNode),Ct=l,Vn=f;break;case 5:Ut||Wr(a,i);case 6:if(l=Ct,f=Vn,Ct=null,Oi(r,i,a),Ct=l,Vn=f,Ct!==null)if(Vn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(d){yt(a,i,d)}else try{Ct.removeChild(a.stateNode)}catch(d){yt(a,i,d)}break;case 18:Ct!==null&&(Vn?(r=Ct,j_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),uu(r)):j_(Ct,a.stateNode));break;case 4:l=Ct,f=Vn,Ct=a.stateNode.containerInfo,Vn=!0,Oi(r,i,a),Ct=l,Vn=f;break;case 0:case 11:case 14:case 15:Ut||as(2,a,i),Ut||as(4,a,i),Oi(r,i,a);break;case 1:Ut||(Wr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qv(a,i,l)),Oi(r,i,a);break;case 21:Oi(r,i,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,Oi(r,i,a),Ut=l;break;default:Oi(r,i,a)}}function Zv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{uu(r)}catch(a){yt(i,i.return,a)}}function ES(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new $v),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new $v),i;default:throw Error(s(435,r.tag))}}function Qd(r,i){var a=ES(r);i.forEach(function(l){var f=IS.bind(null,r,l);a.has(l)||(a.add(l),l.then(f,f))})}function Jn(r,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=r,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(ms(b.type)){Ct=b.stateNode,Vn=!1;break e}break;case 5:Ct=b.stateNode,Vn=!1;break e;case 3:case 4:Ct=b.stateNode.containerInfo,Vn=!0;break e}b=b.return}if(Ct===null)throw Error(s(160));Wv(d,E,f),Ct=null,Vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Jv(i,r),i=i.sibling}var Ur=null;function Jv(r,i){var a=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Jn(i,r),er(r),l&4&&(as(3,r,r.return),Gl(3,r),as(5,r,r.return));break;case 1:Jn(i,r),er(r),l&512&&(Ut||a===null||Wr(a,a.return)),l&64&&Mi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ur;if(Jn(i,r),er(r),l&512&&(Ut||a===null||Wr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=r.memoizedState,a===null)if(l===null)if(r.stateNode===null){e:{l=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Te]||d[ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),dn(d,l,a),d[ae]=r,Le(d),l=d;break e;case"link":var E=Y_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),dn(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Y_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),dn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ae]=r,Le(d),l=d}r.stateNode=l}else $_(f,r.type,r.stateNode);else r.stateNode=K_(f,l,r.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(f,r.type,r.stateNode):K_(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&Gd(r,r.memoizedProps,a.memoizedProps)}break;case 27:Jn(i,r),er(r),l&512&&(Ut||a===null||Wr(a,a.return)),a!==null&&l&4&&Gd(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Jn(i,r),er(r),l&512&&(Ut||a===null||Wr(a,a.return)),r.flags&32){f=r.stateNode;try{hr(f,"")}catch(X){yt(r,r.return,X)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,Gd(r,f,a!==null?a.memoizedProps:f)),l&1024&&($d=!0);break;case 6:if(Jn(i,r),er(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,a=r.stateNode;try{a.nodeValue=l}catch(X){yt(r,r.return,X)}}break;case 3:if(rh=null,f=Ur,Ur=th(i.containerInfo),Jn(i,r),Ur=f,er(r),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uu(i.containerInfo)}catch(X){yt(r,r.return,X)}$d&&($d=!1,e_(r));break;case 4:l=Ur,Ur=th(r.stateNode.containerInfo),Jn(i,r),er(r),Ur=l;break;case 12:Jn(i,r),er(r);break;case 13:Jn(i,r),er(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tm=ln()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Qd(r,l)));break;case 22:f=r.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,Y=Mi,re=Ut;if(Mi=Y||f,Ut=re||N,Jn(i,r),Ut=re,Mi=Y,er(r),l&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Mi||Ut||Ea(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var oe=N.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){yt(N,N.return,X)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(X){yt(N,N.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qd(r,a))));break;case 19:Jn(i,r),er(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Qd(r,l)));break;case 30:break;case 21:break;default:Jn(i,r),er(r)}}function er(r){var i=r.flags;if(i&2){try{for(var a,l=r.return;l!==null;){if(Kv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Kd(r);Hc(r,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(hr(E,""),a.flags&=-33);var b=Kd(r);Hc(r,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,Y=Kd(r);Yd(r,Y,N);break;default:throw Error(s(161))}}catch(re){yt(r,r.return,re)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function e_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;e_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function os(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qv(r,i.alternate,i),i=i.sibling}function Ea(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:as(4,i,i.return),Ea(i);break;case 1:Wr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&qv(i,i.return,a),Ea(i);break;case 27:tu(i.stateNode);case 26:case 5:Wr(i,i.return),Ea(i);break;case 22:i.memoizedState===null&&Ea(i);break;case 30:Ea(i);break;default:Ea(i)}r=r.sibling}}function ls(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=r,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ls(f,d,a),Gl(4,d);break;case 1:if(ls(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){yt(l,l.return,Y)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Iy(N[f],b)}catch(Y){yt(l,l.return,Y)}}a&&E&64&&Fv(d),Kl(d,d.return);break;case 27:Yv(d);case 26:case 5:ls(f,d,a),a&&l===null&&E&4&&Gv(d),Kl(d,d.return);break;case 12:ls(f,d,a);break;case 13:ls(f,d,a),a&&E&4&&Zv(f,d);break;case 22:d.memoizedState===null&&ls(f,d,a),Kl(d,d.return);break;case 30:break;default:ls(f,d,a)}i=i.sibling}}function Xd(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Nl(a))}function Wd(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Nl(r))}function Zr(r,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t_(r,i,a,l),i=i.sibling}function t_(r,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zr(r,i,a,l),f&2048&&Gl(9,i);break;case 1:Zr(r,i,a,l);break;case 3:Zr(r,i,a,l),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Nl(r)));break;case 12:if(f&2048){Zr(r,i,a,l),r=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){yt(i,i.return,N)}}else Zr(r,i,a,l);break;case 13:Zr(r,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?Zr(r,i,a,l):Yl(r,i):d._visibility&2?Zr(r,i,a,l):(d._visibility|=2,vo(r,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Xd(E,i);break;case 24:Zr(r,i,a,l),f&2048&&Wd(i.alternate,i);break;default:Zr(r,i,a,l)}}function vo(r,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=r,E=i,b=a,N=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:vo(d,E,b,N,f),Gl(8,E);break;case 23:break;case 22:var re=E.stateNode;E.memoizedState!==null?re._visibility&2?vo(d,E,b,N,f):Yl(d,E):(re._visibility|=2,vo(d,E,b,N,f)),f&&Y&2048&&Xd(E.alternate,E);break;case 24:vo(d,E,b,N,f),f&&Y&2048&&Wd(E.alternate,E);break;default:vo(d,E,b,N,f)}i=i.sibling}}function Yl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,l=i,f=l.flags;switch(l.tag){case 22:Yl(a,l),f&2048&&Xd(l.alternate,l);break;case 24:Yl(a,l),f&2048&&Wd(l.alternate,l);break;default:Yl(a,l)}i=i.sibling}}var $l=8192;function _o(r){if(r.subtreeFlags&$l)for(r=r.child;r!==null;)n_(r),r=r.sibling}function n_(r){switch(r.tag){case 26:_o(r),r.flags&$l&&r.memoizedState!==null&&sA(Ur,r.memoizedState,r.memoizedProps);break;case 5:_o(r);break;case 3:case 4:var i=Ur;Ur=th(r.stateNode.containerInfo),_o(r),Ur=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=$l,$l=16777216,_o(r),$l=i):_o(r));break;default:_o(r)}}function r_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ql(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,s_(l,r)}r_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(r),r=r.sibling}function i_(r){switch(r.tag){case 0:case 11:case 15:Ql(r),r.flags&2048&&as(9,r,r.return);break;case 3:Ql(r);break;case 12:Ql(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Fc(r)):Ql(r);break;default:Ql(r)}}function Fc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];rn=l,s_(l,r)}r_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:as(8,i,i.return),Fc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(i));break;default:Fc(i)}r=r.sibling}}function s_(r,i){for(;rn!==null;){var a=rn;switch(a.tag){case 0:case 11:case 15:as(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rn=l;else e:for(a=r;rn!==null;){l=rn;var f=l.sibling,d=l.return;if(Xv(l),l===a){rn=null;break e}if(f!==null){f.return=d,rn=f;break e}rn=d}}}var TS={getCacheForType:function(r){var i=En(Xt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},bS=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,Qe=null,nt=0,ht=0,tr=null,us=!1,Eo=!1,Zd=!1,ki=0,kt=0,cs=0,Ta=0,Jd=0,vr=0,To=0,Xl=null,Ln=null,em=!1,tm=0,qc=1/0,Gc=null,hs=null,fn=0,fs=null,bo=null,wo=0,nm=0,rm=null,a_=null,Wl=0,im=null;function nr(){if((ct&2)!==0&&nt!==0)return nt&-nt;if($.T!==null){var r=uo;return r!==0?r:hm()}return M()}function o_(){vr===0&&(vr=(nt&536870912)===0||st?yi():536870912);var r=yr.current;return r!==null&&(r.flags|=32),vr}function rr(r,i,a){(r===Tt&&(ht===2||ht===9)||r.cancelPendingCommit!==null)&&(So(r,0),ds(r,nt,vr,!1)),xt(r,a),((ct&2)===0||r!==Tt)&&(r===Tt&&((ct&2)===0&&(Ta|=a),kt===4&&ds(r,nt,vr,!1)),Jr(r))}function l_(r,i,a){if((ct&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Gn(r,i),f=l?AS(r,i):om(r,i,!0),d=l;do{if(f===0){Eo&&!l&&ds(r,i,0,!1);break}else{if(a=r.current.alternate,d&&!wS(a)){f=om(r,i,!1),d=!1;continue}if(f===2){if(d=i,r.errorRecoveryDisabledLanes&d)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=r;f=Xl;var N=b.current.memoizedState.isDehydrated;if(N&&(So(b,E).flags|=256),E=om(b,E,!1),E!==2){if(Zd&&!N){b.errorRecoveryDisabledLanes|=d,Ta|=d,f=4;break e}d=Ln,Ln=f,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){So(r,0),ds(r,i,0,!0);break}e:{switch(l=r,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ds(l,i,vr,!us);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=tm+300-ln(),10<f)){if(ds(l,i,vr,!us),Cn(l,0,!0)!==0)break e;l.timeoutHandle=L_(u_.bind(null,l,a,Ln,Gc,em,i,vr,Ta,To,us,d,2,-0,0),f);break e}u_(l,a,Ln,Gc,em,i,vr,Ta,To,us,d,0,-0,0)}}break}while(!0);Jr(r)}function u_(r,i,a,l,f,d,E,b,N,Y,re,oe,Q,X){if(r.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(iu={stylesheets:null,count:0,unsuspend:iA},n_(i),oe=aA(),oe!==null)){r.cancelPendingCommit=oe(g_.bind(null,r,i,d,a,l,f,E,b,N,re,1,Q,X)),ds(r,d,E,!Y);return}g_(r,i,d,a,l,f,E,b,N)}function wS(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Wn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ds(r,i,a,l){i&=~Jd,i&=~Ta,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var f=i;0<f;){var d=31-Yt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Kn(r,a,i)}function Kc(){return(ct&6)===0?(Zl(0),!1):!0}function sm(){if(Qe!==null){if(ht===0)var r=Qe.return;else r=Qe,Ri=pa=null,bd(r),go=null,Hl=0,r=Qe;for(;r!==null;)Hv(r.alternate,r),r=r.return;Qe=null}}function So(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,BS(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),sm(),Tt=r,Qe=a=wi(r.current,null),nt=i,ht=0,tr=null,us=!1,Eo=Gn(r,i),Zd=!1,To=vr=Jd=Ta=cs=kt=0,Ln=Xl=null,em=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var f=31-Yt(l),d=1<<f;i|=r[f],l&=~d}return ki=i,mc(),a}function c_(r,i){Ke=null,$.H=Oc,i===Ol||i===wc?(i=Cy(),ht=3):i===Sy?(i=Cy(),ht=4):ht=i===xv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tr=i,Qe===null&&(kt=1,Uc(r,dr(i,r.current)))}function h_(){var r=$.H;return $.H=Oc,r===null?Oc:r}function f_(){var r=$.A;return $.A=TS,r}function am(){kt=4,us||(nt&4194048)!==nt&&yr.current!==null||(Eo=!0),(cs&134217727)===0&&(Ta&134217727)===0||Tt===null||ds(Tt,nt,vr,!1)}function om(r,i,a){var l=ct;ct|=2;var f=h_(),d=f_();(Tt!==r||nt!==i)&&(Gc=null,So(r,i)),i=!1;var E=kt;e:do try{if(ht!==0&&Qe!==null){var b=Qe,N=tr;switch(ht){case 8:sm(),E=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(i=!0);var Y=ht;if(ht=0,tr=null,Ao(r,b,N,Y),a&&Eo){E=0;break e}break;default:Y=ht,ht=0,tr=null,Ao(r,b,N,Y)}}SS(),E=kt;break}catch(re){c_(r,re)}while(!0);return i&&r.shellSuspendCounter++,Ri=pa=null,ct=l,$.H=f,$.A=d,Qe===null&&(Tt=null,nt=0,mc()),E}function SS(){for(;Qe!==null;)d_(Qe)}function AS(r,i){var a=ct;ct|=2;var l=h_(),f=f_();Tt!==r||nt!==i?(Gc=null,qc=ln()+500,So(r,i)):Eo=Gn(r,i);e:do try{if(ht!==0&&Qe!==null){i=Qe;var d=tr;t:switch(ht){case 1:ht=0,tr=null,Ao(r,i,d,1);break;case 2:case 9:if(Ay(d)){ht=0,tr=null,m_(i);break}i=function(){ht!==2&&ht!==9||Tt!==r||(ht=7),Jr(r)},d.then(i,i);break e;case 3:ht=7;break e;case 4:ht=5;break e;case 7:Ay(d)?(ht=0,tr=null,m_(i)):(ht=0,tr=null,Ao(r,i,d,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var b=Qe;if(!E||Q_(E)){ht=0,tr=null;var N=b.sibling;if(N!==null)Qe=N;else{var Y=b.return;Y!==null?(Qe=Y,Yc(Y)):Qe=null}break t}}ht=0,tr=null,Ao(r,i,d,5);break;case 6:ht=0,tr=null,Ao(r,i,d,6);break;case 8:sm(),kt=6;break e;default:throw Error(s(462))}}RS();break}catch(re){c_(r,re)}while(!0);return Ri=pa=null,$.H=l,$.A=f,ct=a,Qe!==null?0:(Tt=null,nt=0,mc(),kt)}function RS(){for(;Qe!==null&&!ll();)d_(Qe)}function d_(r){var i=zv(r.alternate,r,ki);r.memoizedProps=r.pendingProps,i===null?Yc(r):Qe=i}function m_(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=kv(a,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=kv(a,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:bd(i);default:Hv(a,i),i=Qe=py(i,ki),i=zv(a,i,ki)}r.memoizedProps=r.pendingProps,i===null?Yc(r):Qe=i}function Ao(r,i,a,l){Ri=pa=null,bd(i),go=null,Hl=0;var f=i.return;try{if(pS(r,f,i,a,nt)){kt=1,Uc(r,dr(a,r.current)),Qe=null;return}}catch(d){if(f!==null)throw Qe=f,d;kt=1,Uc(r,dr(a,r.current)),Qe=null;return}i.flags&32768?(st||l===1?r=!0:Eo||(nt&536870912)!==0?r=!1:(us=r=!0,(l===2||l===9||l===3||l===6)&&(l=yr.current,l!==null&&l.tag===13&&(l.flags|=16384))),p_(i,r)):Yc(i)}function Yc(r){var i=r;do{if((i.flags&32768)!==0){p_(i,us);return}r=i.return;var a=yS(i.alternate,i,ki);if(a!==null){Qe=a;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=r}while(i!==null);kt===0&&(kt=5)}function p_(r,i){do{var a=vS(r.alternate,r);if(a!==null){a.flags&=32767,Qe=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=a}while(r!==null);kt=6,Qe=null}function g_(r,i,a,l,f,d,E,b,N){r.cancelPendingCommit=null;do $c();while(fn!==0);if((ct&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Wf,Ks(r,a,d,E,b,N),r===Tt&&(Qe=Tt=null,nt=0),bo=i,fs=r,wo=a,nm=d,rm=f,a_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,DS(Rr,function(){return T_(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=he.p,he.p=2,E=ct,ct|=4;try{_S(r,i,a)}finally{ct=E,he.p=f,$.T=l}}fn=1,y_(),v_(),__()}}function y_(){if(fn===1){fn=0;var r=fs,i=bo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=he.p;he.p=2;var f=ct;ct|=4;try{Jv(i,r);var d=_m,E=sy(r.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&iy(b.ownerDocument.documentElement,b)){if(N!==null&&Kf(b)){var Y=N.start,re=N.end;if(re===void 0&&(re=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(re,b.value.length);else{var oe=b.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),ke=b.textContent.length,Ne=Math.min(N.start,ke),pt=N.end===void 0?Ne:Math.min(N.end,ke);!X.extend&&Ne>pt&&(E=pt,pt=Ne,Ne=E);var F=ry(b,Ne),V=ry(b,pt);if(F&&V&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var G=oe.createRange();G.setStart(F.node,F.offset),X.removeAllRanges(),Ne>pt?(X.addRange(G),X.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),X.addRange(G))}}}}for(oe=[],X=b;X=X.parentNode;)X.nodeType===1&&oe.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<oe.length;b++){var se=oe[b];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}ah=!!vm,_m=vm=null}finally{ct=f,he.p=l,$.T=a}}r.current=i,fn=2}}function v_(){if(fn===2){fn=0;var r=fs,i=bo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=he.p;he.p=2;var f=ct;ct|=4;try{Qv(r,i.alternate,i)}finally{ct=f,he.p=l,$.T=a}}fn=3}}function __(){if(fn===4||fn===3){fn=0,qs();var r=fs,i=bo,a=wo,l=a_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?fn=5:(fn=0,bo=fs=null,E_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(hs=null),$s(a),i=i.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(un,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=he.p,he.p=2,$.T=null;try{for(var d=r.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{$.T=i,he.p=f}}(wo&3)!==0&&$c(),Jr(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===im?Wl++:(Wl=0,im=r):Wl=0,Zl(0)}}function E_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Nl(i)))}function $c(r){return y_(),v_(),__(),T_()}function T_(){if(fn!==5)return!1;var r=fs,i=nm;nm=0;var a=$s(wo),l=$.T,f=he.p;try{he.p=32>a?32:a,$.T=null,a=rm,rm=null;var d=fs,E=wo;if(fn=0,bo=fs=null,wo=0,(ct&6)!==0)throw Error(s(331));var b=ct;if(ct|=4,i_(d.current),t_(d,d.current,E,a),ct=b,Zl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(un,d)}catch{}return!0}finally{he.p=f,$.T=l,E_(r,i)}}function b_(r,i,a){i=dr(a,i),i=Vd(r.stateNode,i,2),r=ns(r,i,2),r!==null&&(xt(r,2),Jr(r))}function yt(r,i,a){if(r.tag===3)b_(r,r,a);else for(;i!==null;){if(i.tag===3){b_(i,r,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){r=dr(a,r),a=Rv(2),l=ns(i,a,2),l!==null&&(Cv(a,l,i,r),xt(l,2),Jr(l));break}}i=i.return}}function lm(r,i,a){var l=r.pingCache;if(l===null){l=r.pingCache=new bS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Zd=!0,f.add(a),r=CS.bind(null,r,i,a),i.then(r,r))}function CS(r,i,a){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(nt&a)===a&&(kt===4||kt===3&&(nt&62914560)===nt&&300>ln()-tm?(ct&2)===0&&So(r,0):Jd|=a,To===nt&&(To=0)),Jr(r)}function w_(r,i){i===0&&(i=Kr()),r=so(r,i),r!==null&&(xt(r,i),Jr(r))}function xS(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(r,a)}function IS(r,i){var a=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(r,a)}function DS(r,i){return pi(r,i)}var Qc=null,Ro=null,um=!1,Xc=!1,cm=!1,ba=0;function Jr(r){r!==Ro&&r.next===null&&(Ro===null?Qc=Ro=r:Ro=Ro.next=r),Xc=!0,um||(um=!0,MS())}function Zl(r,i){if(!cm&&Xc){cm=!0;do for(var a=!1,l=Qc;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Yt(42|r)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,C_(l,d))}else d=nt,d=Cn(l,l===Tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gn(l,d)||(a=!0,C_(l,d));l=l.next}while(a);cm=!1}}function NS(){S_()}function S_(){Xc=um=!1;var r=0;ba!==0&&(zS()&&(r=ba),ba=0);for(var i=ln(),a=null,l=Qc;l!==null;){var f=l.next,d=A_(l,i);d===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(Ro=a)):(a=l,(r!==0||(d&3)!==0)&&(Xc=!0)),l=f}Zl(r)}function A_(r,i){for(var a=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var E=31-Yt(d),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&l)!==0)&&(f[E]=gi(b,i)):N<=i&&(r.expiredLanes|=b),d&=~b}if(i=Tt,a=nt,a=Cn(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,a===0||r===i&&(ht===2||ht===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&On(l),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Gn(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(l!==null&&On(l),$s(a)){case 2:case 8:a=zt;break;case 32:a=Rr;break;case 268435456:a=xr;break;default:a=Rr}return l=R_.bind(null,r),a=pi(a,l),r.callbackPriority=i,r.callbackNode=a,i}return l!==null&&l!==null&&On(l),r.callbackPriority=2,r.callbackNode=null,2}function R_(r,i){if(fn!==0&&fn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if($c()&&r.callbackNode!==a)return null;var l=nt;return l=Cn(r,r===Tt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(l_(r,l,i),A_(r,ln()),r.callbackNode!=null&&r.callbackNode===a?R_.bind(null,r):null)}function C_(r,i){if($c())return null;l_(r,i,!0)}function MS(){HS(function(){(ct&6)!==0?pi(Pt,NS):S_()})}function hm(){return ba===0&&(ba=yi()),ba}function x_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Or(""+r)}function I_(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function OS(r,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=x_((f[ce]||null).action),E=l.submitter;E&&(i=(i=E[ce]||null)?x_(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new ta("action","action",null,l,f);r.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ba!==0){var N=E?I_(f,E):new FormData(f);Nd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?I_(f,E):new FormData(f),Nd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var fm=0;fm<Xf.length;fm++){var dm=Xf[fm],kS=dm.toLowerCase(),PS=dm[0].toUpperCase()+dm.slice(1);Lr(kS,"on"+PS)}Lr(ly,"onAnimationEnd"),Lr(uy,"onAnimationIteration"),Lr(cy,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Zw,"onTransitionRun"),Lr(Jw,"onTransitionStart"),Lr(eS,"onTransitionCancel"),Lr(hy,"onTransitionEnd"),$t("onMouseEnter",["mouseout","mouseover"]),$t("onMouseLeave",["mouseout","mouseover"]),$t("onPointerEnter",["pointerout","pointerover"]),$t("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function D_(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var l=r[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,Y=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Y;try{d(f)}catch(re){Lc(re)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,Y=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Y;try{d(f)}catch(re){Lc(re)}f.currentTarget=null,d=N}}}}function Xe(r,i){var a=i[we];a===void 0&&(a=i[we]=new Set);var l=r+"__bubble";a.has(l)||(N_(i,r,2,!1),a.add(l))}function mm(r,i,a){var l=0;i&&(l|=4),N_(a,r,l,i)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function pm(r){if(!r[Wc]){r[Wc]=!0,ot.forEach(function(a){a!=="selectionchange"&&(VS.has(a)||mm(a,!1,r),mm(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Wc]||(i[Wc]=!0,mm("selectionchange",!1,i))}}function N_(r,i,a,l){switch(t0(i)){case 2:var f=uA;break;case 8:f=cA;break;default:f=Im}a=f.bind(null,i,a,r),f=void 0,!Ti||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function gm(r,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Be(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Zs(function(){var Y=d,re=gl(a),oe=[];e:{var Q=fy.get(r);if(Q!==void 0){var X=ta,ke=r;switch(r){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":X=to;break;case"focusin":ke="focus",X=Za;break;case"focusout":ke="blur",X=Za;break;case"beforeblur":case"afterblur":X=Za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Zi;break;case ly:case uy:case cy:X=vl;break;case hy:X=y;break;case"scroll":case"scrollend":X=ra;break;case"wheel":X=S;break;case"copy":case"cut":case"paste":X=oc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Tl;break;case"toggle":case"beforetoggle":X=J}var Ne=(i&4)!==0,pt=!Ne&&(r==="scroll"||r==="scrollend"),F=Ne?Q!==null?Q+"Capture":null:Q;Ne=[];for(var V=Y,G;V!==null;){var se=V;if(G=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||G===null||F===null||(se=Xi(V,F),se!=null&&Ne.push(eu(V,se,G))),pt)break;V=V.return}0<Ne.length&&(Q=new X(Q,ke,null,a,re),oe.push({event:Q,listeners:Ne}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&a!==pl&&(ke=a.relatedTarget||a.fromElement)&&(Be(ke)||ke[_e]))break e;if((X||Q)&&(Q=re.window===re?re:(Q=re.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(ke=a.relatedTarget||a.toElement,X=Y,ke=ke?Be(ke):null,ke!==null&&(pt=u(ke),Ne=ke.tag,ke!==pt||Ne!==5&&Ne!==27&&Ne!==6)&&(ke=null)):(X=null,ke=Y),X!==ke)){if(Ne=aa,se="onMouseLeave",F="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ne=Tl,se="onPointerLeave",F="onPointerEnter",V="pointer"),pt=X==null?Q:gt(X),G=ke==null?Q:gt(ke),Q=new Ne(se,V+"leave",X,a,re),Q.target=pt,Q.relatedTarget=G,se=null,Be(re)===Y&&(Ne=new Ne(F,V+"enter",ke,a,re),Ne.target=G,Ne.relatedTarget=pt,se=Ne),pt=se,X&&ke)t:{for(Ne=X,F=ke,V=0,G=Ne;G;G=Co(G))V++;for(G=0,se=F;se;se=Co(se))G++;for(;0<V-G;)Ne=Co(Ne),V--;for(;0<G-V;)F=Co(F),G--;for(;V--;){if(Ne===F||F!==null&&Ne===F.alternate)break t;Ne=Co(Ne),F=Co(F)}Ne=null}else Ne=null;X!==null&&M_(oe,Q,X,Ne,!1),ke!==null&&pt!==null&&M_(oe,pt,ke,Ne,!0)}}e:{if(Q=Y?gt(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var be=Wg;else if(Qg(Q))if(Zg)be=Qw;else{be=Yw;var Ye=Kw}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Qa(Y.elementType)&&(be=Wg):be=$w;if(be&&(be=be(r,Y))){Xg(oe,be,a,re);break e}Ye&&Ye(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&fl(Q,"number",Q.value)}switch(Ye=Y?gt(Y):window,r){case"focusin":(Qg(Ye)||Ye.contentEditable==="true")&&(no=Ye,Yf=Y,Rl=null);break;case"focusout":Rl=Yf=no=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,ay(oe,a,re);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":ay(oe,a,re)}var xe;if(He)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Vr?kr(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Vt&&a.locale!=="ko"&&(Vr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Vr&&(xe=ic()):(fr=re,Et="value"in fr?fr.value:fr.textContent,Vr=!0)),Ye=Zc(Y,Me),0<Ye.length&&(Me=new El(Me,r,null,a,re),oe.push({event:Me,listeners:Ye}),xe?Me.data=xe:(xe=Pr(a),xe!==null&&(Me.data=xe)))),(xe=ut?bl(r,a):Fw(r,a))&&(Me=Zc(Y,"onBeforeInput"),0<Me.length&&(Ye=new El("onBeforeInput","beforeinput",null,a,re),oe.push({event:Ye,listeners:Me}),Ye.data=xe)),OS(oe,r,Y,a,re)}D_(oe,i)})}function eu(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Zc(r,i){for(var a=i+"Capture",l=[];r!==null;){var f=r,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Xi(r,a),f!=null&&l.unshift(eu(r,f,d)),f=Xi(r,i),f!=null&&l.push(eu(r,f,d))),r.tag===3)return l;r=r.return}return[]}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function M_(r,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,Y=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||Y===null||(N=Y,f?(Y=Xi(a,d),Y!=null&&E.unshift(eu(a,Y,N))):f||(Y=Xi(a,d),Y!=null&&E.push(eu(a,Y,N)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var LS=/\r\n?/g,US=/\u0000|\uFFFD/g;function O_(r){return(typeof r=="string"?r:""+r).replace(LS,`
`).replace(US,"")}function k_(r,i){return i=O_(i),O_(r)===i}function Jc(){}function mt(r,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hr(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hr(r,""+l);break;case"className":cr(r,"class",l);break;case"tabIndex":cr(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(r,a,l);break;case"style":ml(r,l,d);break;case"data":if(i!=="object"){cr(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Or(""+l),r.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&mt(r,i,"name",f.name,f,null),mt(r,i,"formEncType",f.formEncType,f,null),mt(r,i,"formMethod",f.formMethod,f,null),mt(r,i,"formTarget",f.formTarget,f,null)):(mt(r,i,"encType",f.encType,f,null),mt(r,i,"method",f.method,f,null),mt(r,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(a);break}l=Or(""+l),r.setAttribute(a,l);break;case"onClick":l!=null&&(r.onclick=Jc);break;case"onScroll":l!=null&&Xe("scroll",r);break;case"onScrollEnd":l!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}a=Or(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""+l):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":l===!0?r.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(a,l):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(a,l):r.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(a):r.setAttribute(a,l);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),ur(r,"popover",l);break;case"xlinkActuate":Ue(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tc.get(a)||a,ur(r,a,l))}}function ym(r,i,a,l,f,d){switch(a){case"style":ml(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof l=="string"?hr(r,l):(typeof l=="number"||typeof l=="bigint")&&hr(r,""+l);break;case"onScroll":l!=null&&Xe("scroll",r);break;case"onScrollEnd":l!=null&&Xe("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=r[ce]||null,d=d!=null?d[a]:null,typeof d=="function"&&r.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,l,f);break e}a in r?r[a]=l:l===!0?r.setAttribute(a,""):ur(r,a,l)}}}function dn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(r,i,d,E,a,null)}}f&&mt(r,i,"srcSet",a.srcSet,a,null),l&&mt(r,i,"src",a.src,a,null);return;case"input":Xe("invalid",r);var b=d=E=f=null,N=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var re=a[l];if(re!=null)switch(l){case"name":f=re;break;case"type":E=re;break;case"checked":N=re;break;case"defaultChecked":Y=re;break;case"value":d=re;break;case"defaultValue":b=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:mt(r,i,l,re,a,null)}}hl(r,d,b,N,Y,E,f,!1),Yi(r);return;case"select":Xe("invalid",r),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:mt(r,i,f,b,a,null)}i=d,a=E,r.multiple=!!l,i!=null?$i(r,!!l,i,!1):a!=null&&$i(r,!!l,a,!0);return;case"textarea":Xe("invalid",r),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:mt(r,i,E,b,a,null)}ec(r,l,f,d),Yi(r);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:mt(r,i,N,l,a,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Xe(Jl[l],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:mt(r,i,Y,l,a,null)}return;default:if(Qa(i)){for(re in a)a.hasOwnProperty(re)&&(l=a[re],l!==void 0&&ym(r,i,re,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&mt(r,i,b,l,a,null))}function jS(r,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,N=null,Y=null,re=null;for(X in a){var oe=a[X];if(a.hasOwnProperty(X)&&oe!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=oe;default:l.hasOwnProperty(X)||mt(r,i,X,null,l,oe)}}for(var Q in l){var X=l[Q];if(oe=a[Q],l.hasOwnProperty(Q)&&(X!=null||oe!=null))switch(Q){case"type":d=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":re=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==oe&&mt(r,i,Q,X,l,oe)}}cl(r,E,b,N,Y,re,d,f);return;case"select":X=E=b=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||mt(r,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&mt(r,i,f,d,l,N)}i=b,a=E,l=X,Q!=null?$i(r,!!a,Q,!1):!!l!=!!a&&(i!=null?$i(r,!!a,i,!0):$i(r,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:mt(r,i,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&mt(r,i,E,f,l,d)}Ju(r,Q,X);return;case"option":for(var ke in a)if(Q=a[ke],a.hasOwnProperty(ke)&&Q!=null&&!l.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:mt(r,i,ke,null,l,Q)}for(N in l)if(Q=l[N],X=a[N],l.hasOwnProperty(N)&&Q!==X&&(Q!=null||X!=null))switch(N){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:mt(r,i,N,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)Q=a[Ne],a.hasOwnProperty(Ne)&&Q!=null&&!l.hasOwnProperty(Ne)&&mt(r,i,Ne,null,l,Q);for(Y in l)if(Q=l[Y],X=a[Y],l.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:mt(r,i,Y,Q,l,X)}return;default:if(Qa(i)){for(var pt in a)Q=a[pt],a.hasOwnProperty(pt)&&Q!==void 0&&!l.hasOwnProperty(pt)&&ym(r,i,pt,void 0,l,Q);for(re in l)Q=l[re],X=a[re],!l.hasOwnProperty(re)||Q===X||Q===void 0&&X===void 0||ym(r,i,re,Q,l,X);return}}for(var F in a)Q=a[F],a.hasOwnProperty(F)&&Q!=null&&!l.hasOwnProperty(F)&&mt(r,i,F,null,l,Q);for(oe in l)Q=l[oe],X=a[oe],!l.hasOwnProperty(oe)||Q===X||Q==null&&X==null||mt(r,i,oe,Q,l,X)}var vm=null,_m=null;function eh(r){return r.nodeType===9?r:r.ownerDocument}function P_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Em(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tm=null;function zS(){var r=window.event;return r&&r.type==="popstate"?r===Tm?!1:(Tm=r,!0):(Tm=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(r){return U_.resolve(null).then(r).catch(FS)}:L_;function FS(r){setTimeout(function(){throw r})}function ms(r){return r==="head"}function j_(r,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=r.ownerDocument;if(a&1&&tu(E.documentElement),a&2&&tu(E.body),a&4)for(a=E.head,tu(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[Te]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){r.removeChild(d),uu(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);uu(i)}function bm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Se(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function qS(r,i,a,l){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Te])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=jr(r.nextSibling),r===null)break}return null}function GS(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=jr(r.nextSibling),r===null))return null;return r}function wm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function KS(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function jr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Sm=null;function z_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function B_(r,i,a){switch(i=eh(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function tu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Se(r)}var _r=new Map,H_=new Set;function th(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Pi=he.d;he.d={f:YS,r:$S,D:QS,C:XS,L:WS,m:ZS,X:eA,S:JS,M:tA};function YS(){var r=Pi.f(),i=Kc();return r||i}function $S(r){var i=tt(r);i!==null&&i.tag===5&&i.type==="form"?lv(i):Pi.r(r)}var xo=typeof document>"u"?null:document;function F_(r,i,a){var l=xo;if(l&&typeof i=="string"&&i){var f=tn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),r={rel:r,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),dn(i,"link",r),Le(i),l.head.appendChild(i)))}}function QS(r){Pi.D(r),F_("dns-prefetch",r,null)}function XS(r,i){Pi.C(r,i),F_("preconnect",r,i)}function WS(r,i,a){Pi.L(r,i,a);var l=xo;if(l&&r&&i){var f='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+tn(a.imageSizes)+'"]')):f+='[href="'+tn(r)+'"]';var d=f;switch(i){case"style":d=Io(r);break;case"script":d=Do(r)}_r.has(d)||(r=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),_r.set(d,r),l.querySelector(f)!==null||i==="style"&&l.querySelector(nu(d))||i==="script"&&l.querySelector(ru(d))||(i=l.createElement("link"),dn(i,"link",r),Le(i),l.head.appendChild(i)))}}function ZS(r,i){Pi.m(r,i);var a=xo;if(a&&r){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(r)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Do(r)}if(!_r.has(d)&&(r=v({rel:"modulepreload",href:r},i),_r.set(d,r),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ru(d)))return}l=a.createElement("link"),dn(l,"link",r),Le(l),a.head.appendChild(l)}}}function JS(r,i,a){Pi.S(r,i,a);var l=xo;if(l&&r){var f=At(l).hoistableStyles,d=Io(r);i=i||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(nu(d)))b.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},a),(a=_r.get(d))&&Am(r,a);var N=E=l.createElement("link");Le(N),dn(N,"link",r),N._p=new Promise(function(Y,re){N.onload=Y,N.onerror=re}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function eA(r,i){Pi.X(r,i);var a=xo;if(a&&r){var l=At(a).hoistableScripts,f=Do(r),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(r=v({src:r,async:!0},i),(i=_r.get(f))&&Rm(r,i),d=a.createElement("script"),Le(d),dn(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function tA(r,i){Pi.M(r,i);var a=xo;if(a&&r){var l=At(a).hoistableScripts,f=Do(r),d=l.get(f);d||(d=a.querySelector(ru(f)),d||(r=v({src:r,async:!0,type:"module"},i),(i=_r.get(f))&&Rm(r,i),d=a.createElement("script"),Le(d),dn(d,"link",r),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function q_(r,i,a,l){var f=(f=Ie.current)?th(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Io(a.href),a=At(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Io(a.href);var d=At(f).hoistableStyles,E=d.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,E),(d=f.querySelector(nu(r)))&&!d._p&&(E.instance=d,E.state.loading=5),_r.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_r.set(r,a),d||nA(f,r,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(a),a=At(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Io(r){return'href="'+tn(r)+'"'}function nu(r){return'link[rel="stylesheet"]['+r+"]"}function G_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function nA(r,i,a,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),dn(i,"link",a),Le(i),r.head.appendChild(i))}function Do(r){return'[src="'+tn(r)+'"]'}function ru(r){return"script[async]"+r}function K_(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return i.instance=l,Le(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Le(l),dn(l,"style",f),nh(l,a.precedence,r),i.instance=l;case"stylesheet":f=Io(a.href);var d=r.querySelector(nu(f));if(d)return i.state.loading|=4,i.instance=d,Le(d),d;l=G_(a),(f=_r.get(f))&&Am(l,f),d=(r.ownerDocument||r).createElement("link"),Le(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),dn(d,"link",l),i.state.loading|=4,nh(d,a.precedence,r),i.instance=d;case"script":return d=Do(a.src),(f=r.querySelector(ru(d)))?(i.instance=f,Le(f),f):(l=a,(f=_r.get(d))&&(l=v({},a),Rm(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),Le(f),dn(f,"link",l),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,nh(l,a.precedence,r));return i.instance}function nh(r,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(r,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Am(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Rm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var rh=null;function Y_(r,i,a){if(rh===null){var l=new Map,f=rh=new Map;f.set(a,l)}else f=rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(r))return l;for(l.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var d=a[f];if(!(d[Te]||d[ae]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=r+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function $_(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function rA(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var iu=null;function iA(){}function sA(r,i,a){if(iu===null)throw Error(s(475));var l=iu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Io(a.href),d=r.querySelector(nu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=ih.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=d,Le(d);return}d=r.ownerDocument||r,a=G_(a),(f=_r.get(f))&&Am(a,f),d=d.createElement("link"),Le(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),dn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=ih.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function aA(){if(iu===null)throw Error(s(475));var r=iu;return r.stylesheets&&r.count===0&&Cm(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&Cm(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var sh=null;function Cm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,sh=new Map,i.forEach(oA,r),sh=null,ih.call(r))}function oA(r,i){if(!(i.state.loading&4)){var a=sh.get(r);if(a)var l=a.get(null);else{a=new Map,sh.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var su={$$typeof:te,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function lA(r,i,a,l,f,d,E,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function X_(r,i,a,l,f,d,E,b,N,Y,re,oe){return r=new lA(r,i,a,E,b,N,Y,oe),i=1,d===!0&&(i|=24),d=Zn(3,null,null,i),r.current=d,d.stateNode=r,i=ld(),i.refCount++,r.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},fd(d),r}function W_(r){return r?(r=ao,r):ao}function Z_(r,i,a,l,f,d){f=W_(f),l.context===null?l.context=f:l.pendingContext=f,l=ts(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ns(r,l,i),a!==null&&(rr(a,r,i),Pl(a,r,i))}function J_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function xm(r,i){J_(r,i),(r=r.alternate)&&J_(r,i)}function e0(r){if(r.tag===13){var i=so(r,67108864);i!==null&&rr(i,r,67108864),xm(r,67108864)}}var ah=!0;function uA(r,i,a,l){var f=$.T;$.T=null;var d=he.p;try{he.p=2,Im(r,i,a,l)}finally{he.p=d,$.T=f}}function cA(r,i,a,l){var f=$.T;$.T=null;var d=he.p;try{he.p=8,Im(r,i,a,l)}finally{he.p=d,$.T=f}}function Im(r,i,a,l){if(ah){var f=Dm(l);if(f===null)gm(r,i,l,oh,a),n0(r,l);else if(fA(f,r,i,a,l))l.stopPropagation();else if(n0(r,l),i&4&&-1<hA.indexOf(r)){for(;f!==null;){var d=tt(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=qn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-Yt(E);b.entanglements[1]|=N,E&=~N}Jr(d),(ct&6)===0&&(qc=ln()+500,Zl(0))}}break;case 13:b=so(d,2),b!==null&&rr(b,d,2),Kc(),xm(d,2)}if(d=Dm(l),d===null&&gm(r,i,l,oh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else gm(r,i,l,null,a)}}function Dm(r){return r=gl(r),Nm(r)}var oh=null;function Nm(r){if(oh=null,r=Be(r),r!==null){var i=u(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=c(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return oh=r,null}function t0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ka()){case Pt:return 2;case zt:return 8;case Rr:case Cr:return 32;case xr:return 268435456;default:return 32}default:return 32}}var Mm=!1,ps=null,gs=null,ys=null,au=new Map,ou=new Map,vs=[],hA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(r,i){switch(r){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(i.pointerId)}}function lu(r,i,a,l,f,d){return r===null||r.nativeEvent!==d?(r={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=tt(i),i!==null&&e0(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function fA(r,i,a,l,f){switch(i){case"focusin":return ps=lu(ps,r,i,a,l,f),!0;case"dragenter":return gs=lu(gs,r,i,a,l,f),!0;case"mouseover":return ys=lu(ys,r,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return au.set(d,lu(au.get(d)||null,r,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ou.set(d,lu(ou.get(d)||null,r,i,a,l,f)),!0}return!1}function r0(r){var i=Be(r.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){r.blockedOn=i,q(r.priority,function(){if(a.tag===13){var l=nr();l=Ys(l);var f=so(a,l);f!==null&&rr(f,a,l),xm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Dm(r.nativeEvent);if(a===null){a=r.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return i=tt(a),i!==null&&e0(i),r.blockedOn=a,!1;i.shift()}return!0}function i0(r,i,a){lh(r)&&a.delete(i)}function dA(){Mm=!1,ps!==null&&lh(ps)&&(ps=null),gs!==null&&lh(gs)&&(gs=null),ys!==null&&lh(ys)&&(ys=null),au.forEach(i0),ou.forEach(i0)}function uh(r,i){r.blockedOn===i&&(r.blockedOn=null,Mm||(Mm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dA)))}var ch=null;function s0(r){ch!==r&&(ch=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ch===r&&(ch=null);for(var i=0;i<r.length;i+=3){var a=r[i],l=r[i+1],f=r[i+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var d=tt(a);d!==null&&(r.splice(i,3),i-=3,Nd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function uu(r){function i(N){return uh(N,r)}ps!==null&&uh(ps,r),gs!==null&&uh(gs,r),ys!==null&&uh(ys,r),au.forEach(i),ou.forEach(i);for(var a=0;a<vs.length;a++){var l=vs[a];l.blockedOn===r&&(l.blockedOn=null)}for(;0<vs.length&&(a=vs[0],a.blockedOn===null);)r0(a),a.blockedOn===null&&vs.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[ce]||null;if(typeof d=="function")E||s0(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[ce]||null)b=E.formAction;else if(Nm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),s0(a)}}}function Om(r){this._internalRoot=r}hh.prototype.render=Om.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=nr();Z_(a,l,r,i,null,null)},hh.prototype.unmount=Om.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Z_(r.current,2,null,r,null,null),Kc(),i[_e]=null}};function hh(r){this._internalRoot=r}hh.prototype.unstable_scheduleHydration=function(r){if(r){var i=M();r={blockedOn:null,target:r,priority:i};for(var a=0;a<vs.length&&i!==0&&i<vs[a].priority;a++);vs.splice(a,0,r),a===0&&r0(r)}};var a0=e.version;if(a0!=="19.1.1")throw Error(s(527,a0,"19.1.1"));he.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var mA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{un=fh.inject(mA),vt=fh}catch{}}return hu.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,l="",f=bv,d=wv,E=Sv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=X_(r,1,!1,null,null,a,l,f,d,E,b,null),r[_e]=i.current,pm(r),new Om(i)},hu.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var l=!1,f="",d=bv,E=wv,b=Sv,N=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),i=X_(r,1,!0,i,a??null,l,f,d,E,b,N,Y),i.context=W_(null),a=i.current,l=nr(),l=Ys(l),f=ts(l),f.callback=null,ns(a,f,l),a=l,i.current.lanes=a,xt(i,a),Jr(i),r[_e]=i.current,pm(r),new hh(i)},hu.version="19.1.1",hu}var g0;function AA(){if(g0)return Pm.exports;g0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pm.exports=SA(),Pm.exports}var RA=AA(),H=yf();const Ia=gA(H);var zm={exports:{}},Bm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function CA(){if(y0)return Bm;y0=1;var n=yf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,p=n.useDebugValue;return Bm.useSyncExternalStoreWithSelector=function(m,g,v,T,w){var R=o(null);if(R.current===null){var U={hasValue:!1,value:null};R.current=U}else U=R.current;R=c(function(){function L(ne){if(!j){if(j=!0,W=ne,ne=T(ne),w!==void 0&&U.hasValue){var z=U.value;if(w(z,ne))return te=z}return te=ne}if(z=te,t(W,ne))return z;var I=T(ne);return w!==void 0&&w(z,I)?(W=ne,z):(W=ne,te=I)}var j=!1,W,te,de=v===void 0?null:v;return[function(){return L(g())},de===null?void 0:function(){return L(de())}]},[g,v,T,w]);var ee=s(m,R[0],R[1]);return u(function(){U.hasValue=!0,U.value=ee},[ee]),p(ee),ee},Bm}var v0;function xA(){return v0||(v0=1,zm.exports=CA()),zm.exports}var IA=xA();function DA(n){n()}function NA(){let n=null,e=null;return{clear(){n=null,e=null},notify(){DA(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var _0={notify(){},get:()=>[]};function MA(n,e){let t,s=_0,o=0,u=!1;function c(ee){v();const L=s.subscribe(ee);let j=!1;return()=>{j||(j=!0,L(),T())}}function p(){s.notify()}function m(){U.onStateChange&&U.onStateChange()}function g(){return u}function v(){o++,t||(t=n.subscribe(m),s=NA())}function T(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=_0)}function w(){u||(u=!0,v())}function R(){u&&(u=!1,T())}const U={addNestedSub:c,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:R,getListeners:()=>s};return U}var OA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kA=OA(),PA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",VA=PA(),LA=()=>kA||VA?H.useLayoutEffect:H.useEffect,UA=LA(),jA=Symbol.for("react-redux-context"),zA=typeof globalThis<"u"?globalThis:{};function BA(){if(!H.createContext)return{};const n=zA[jA]??=new Map;let e=n.get(H.createContext);return e||(e=H.createContext(null),n.set(H.createContext,e)),e}var Ps=BA();function HA(n){const{children:e,context:t,serverState:s,store:o}=n,u=H.useMemo(()=>{const m=MA(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=H.useMemo(()=>o.getState(),[o]);UA(()=>{const{subscription:m}=u;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[u,c]);const p=t||Ps;return H.createElement(p.Provider,{value:u},e)}var FA=HA;function qp(n=Ps){return function(){return H.useContext(n)}}var AE=qp();function RE(n=Ps){const e=n===Ps?AE:qp(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var qA=RE();function GA(n=Ps){const e=n===Ps?qA:RE(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Gr=GA(),KA=(n,e)=>n===e;function YA(n=Ps){const e=n===Ps?AE:qp(n),t=(s,o={})=>{const{equalityFn:u=KA}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:p,subscription:m,getServerState:g}=c;H.useRef(!0);const v=H.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=IA.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,v,u);return H.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var wr=YA();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CE=n=>{throw TypeError(n)},$A=(n,e,t)=>e.has(n)||CE("Cannot "+t),Hm=(n,e,t)=>($A(n,e,"read from private field"),t?t.call(n):e.get(n)),QA=(n,e,t)=>e.has(n)?CE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),E0="popstate";function XA(n={}){function e(s,o){let{pathname:u,search:c,hash:p}=s.location;return Cu("",{pathname:u,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Vs(o)}return ZA(e,t,null,n)}function We(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WA(){return Math.random().toString(36).substring(2,10)}function T0(n,e){return{usr:n.state,key:n.key,idx:e}}function Cu(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fs(e):e,state:t,key:e&&e.key||s||WA()}}function Vs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function ZA(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,p="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){p="POP";let L=v(),j=L==null?null:L-g;g=L,m&&m({action:p,location:ee.location,delta:j})}function w(L,j){p="PUSH";let W=Cu(ee.location,L,j);g=v()+1;let te=T0(W,g),de=ee.createHref(W);try{c.pushState(te,"",de)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(de)}u&&m&&m({action:p,location:ee.location,delta:1})}function R(L,j){p="REPLACE";let W=Cu(ee.location,L,j);g=v();let te=T0(W,g),de=ee.createHref(W);c.replaceState(te,"",de),u&&m&&m({action:p,location:ee.location,delta:0})}function U(L){return xE(L)}let ee={get action(){return p},get location(){return n(o,c)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(E0,T),m=L,()=>{o.removeEventListener(E0,T),m=null}},createHref(L){return e(o,L)},createURL:U,encodeLocation(L){let j=U(L);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:R,go(L){return c.go(L)}};return ee}function xE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),We(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Vs(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var pu,b0=class{constructor(n){if(QA(this,pu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Hm(this,pu).has(n))return Hm(this,pu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Hm(this,pu).set(n,e)}};pu=new WeakMap;var JA=new Set(["lazy","caseSensitive","path","id","index","children"]);function e2(n){return JA.has(n)}var t2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function n2(n){return t2.has(n)}function r2(n){return n.index===!0}function xu(n,e,t=[],s={},o=!1){return n.map((u,c)=>{let p=[...t,String(c)],m=typeof u.id=="string"?u.id:p.join("-");if(We(u.index!==!0||!u.children,"Cannot specify children on an index route"),We(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),r2(u)){let g={...u,...e(u),id:m};return s[m]=g,g}else{let g={...u,...e(u),id:m,children:void 0};return s[m]=g,u.children&&(g.children=xu(u.children,e,p,s,o)),g}})}function ws(n,e,t="/"){return Ah(n,e,t,!1)}function Ah(n,e,t,s){let o=typeof e=="string"?Fs(e):e,u=Sr(o.pathname||"/",t);if(u==null)return null;let c=IE(n);s2(c);let p=null;for(let m=0;p==null&&m<c.length;++m){let g=g2(u);p=m2(c[m],g,s)}return p}function i2(n,e){let{route:t,pathname:s,params:o}=n;return{id:t.id,pathname:s,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function IE(n,e=[],t=[],s="",o=!1){let u=(c,p,m=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;We(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=ni([s,v.relativePath]),w=t.concat(v);c.children&&c.children.length>0&&(We(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),IE(c.children,e,w,T,m)),!(c.path==null&&!c.index)&&e.push({path:T,score:f2(T,c.index),routesMeta:w})};return n.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))u(c,p);else for(let m of DE(c.path))u(c,p,!0,m)}),e}function DE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=DE(s.join("/")),p=[];return p.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...c),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function s2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:d2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var a2=/^:[\w-]+$/,o2=3,l2=2,u2=1,c2=10,h2=-2,w0=n=>n==="*";function f2(n,e){let t=n.split("/"),s=t.length;return t.some(w0)&&(s+=h2),e&&(s+=l2),t.filter(o=>!w0(o)).reduce((o,u)=>o+(a2.test(u)?o2:u===""?u2:c2),s)}function d2(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function m2(n,e,t=!1){let{routesMeta:s}=n,o={},u="/",c=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=zh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:ni([u,T.pathname]),pathnameBase:E2(ni([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=ni([u,T.pathnameBase]))}return c}function zh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=p2(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let U=p[w]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const R=p[w];return T&&!R?g[v]=void 0:g[v]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:n}}function p2(n,e=!1,t=!0){Gt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function g2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function y2({basename:n,pathname:e}){return e==="/"?n:ni([n,e])}function v2(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Fs(n):n;return{pathname:t?t.startsWith("/")?t:_2(t,e):e,search:T2(s),hash:b2(o)}}function _2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Fm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gp(n){let e=NE(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Kp(n,e,t,s=!1){let o;typeof n=="string"?o=Fs(n):(o={...n},We(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),We(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),We(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,p;if(c==null)p=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}p=T>=0?e[T]:"/"}let m=v2(o,p),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),E2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),T2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,b2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Bh=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Iu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ME=["POST","PUT","PATCH","DELETE"],w2=new Set(ME),S2=["GET",...ME],A2=new Set(S2),R2=new Set([301,302,303,307,308]),C2=new Set([307,308]),qm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},I2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yp=n=>I2.test(n),D2=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),OE="remix-router-transitions",kE=Symbol("ResetLoaderData");function N2(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=n.hydrationRouteProperties||[],o=n.mapRouteProperties||D2,u={},c=xu(n.routes,o,void 0,u),p,m=n.basename||"/";m.startsWith("/")||(m=`/${m}`);let g=n.dataStrategy||V2,v={...n.future},T=null,w=new Set,R=null,U=null,ee=null,L=n.hydrationData!=null,j=ws(c,n.history.location,m),W=!1,te=null,de;if(j==null&&!n.patchRoutesOnNavigation){let M=Er(404,{pathname:n.history.location.pathname}),{matches:q,route:Z}=dh(c);de=!0,j=q,te={[Z.id]:M}}else if(j&&!n.hydrationData&&Kn(j,c,n.history.location.pathname).active&&(j=null),j)if(j.some(M=>M.route.lazy))de=!1;else if(!j.some(M=>M.route.loader))de=!0;else{let M=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let Z=j.findIndex(ae=>q[ae.route.id]!==void 0);de=j.slice(0,Z+1).every(ae=>!cp(ae.route,M,q))}else de=j.every(Z=>!cp(Z.route,M,q))}else{de=!1,j=[];let M=Kn(null,c,n.history.location.pathname);M.active&&M.matches&&(W=!0,j=M.matches)}let ne,z={historyAction:n.history.action,location:n.history.location,matches:j,initialized:de,navigation:qm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},I="POP",A=!1,C,P=!1,k=new Map,B=null,D=!1,Ve=!1,$e=new Set,$=new Map,he=0,ge=-1,ze=new Map,O=new Set,ie=new Map,pe=new Map,fe=new Set,Ee=new Map,qe,Ie=null;function Kt(){if(T=n.history.listen(({action:M,location:q,delta:Z})=>{if(qe){qe(),qe=void 0;return}Gt(Ee.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=gi({currentLocation:z.location,nextLocation:q,historyAction:M});if(ae&&Z!=null){let ce=new Promise(_e=>{qe=_e});n.history.go(Z*-1),Gn(ae,{state:"blocked",location:q,proceed(){Gn(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ce.then(()=>n.history.go(Z))},reset(){let _e=new Map(z.blockers);_e.set(ae,fu),Mt({blockers:_e})}});return}return On(M,q)}),t){W2(e,k);let M=()=>Z2(e,k);e.addEventListener("pagehide",M),B=()=>e.removeEventListener("pagehide",M)}return z.initialized||On("POP",z.location,{initialHydration:!0}),ne}function at(){T&&T(),B&&B(),w.clear(),C&&C.abort(),z.fetchers.forEach((M,q)=>Yt(q)),z.blockers.forEach((M,q)=>Cn(q))}function zn(M){return w.add(M),()=>w.delete(M)}function Mt(M,q={}){M.matches&&(M.matches=M.matches.map(ce=>{let _e=u[ce.route.id],we=ce.route;return we.element!==_e.element||we.errorElement!==_e.errorElement||we.hydrateFallbackElement!==_e.hydrateFallbackElement?{...ce,route:_e}:ce})),z={...z,...M};let Z=[],ae=[];z.fetchers.forEach((ce,_e)=>{ce.state==="idle"&&(fe.has(_e)?Z.push(_e):ae.push(_e))}),fe.forEach(ce=>{!z.fetchers.has(ce)&&!$.has(ce)&&Z.push(ce)}),[...w].forEach(ce=>ce(z,{deletedFetchers:Z,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Z.forEach(ce=>Yt(ce)),ae.forEach(ce=>z.fetchers.delete(ce))}function Bn(M,q,{flushSync:Z}={}){let ae=z.actionData!=null&&z.navigation.formMethod!=null&&jn(z.navigation.formMethod)&&z.navigation.state==="loading"&&M.state?._isRedirect!==!0,ce;q.actionData?Object.keys(q.actionData).length>0?ce=q.actionData:ce=null:ae?ce=z.actionData:ce=null;let _e=q.loaderData?O0(z.loaderData,q.loaderData,q.matches||[],q.errors):z.loaderData,we=z.blockers;we.size>0&&(we=new Map(we),we.forEach((Te,Se)=>we.set(Se,fu)));let ve=D?!1:Ks(M,q.matches||z.matches),Ce=A===!0||z.navigation.formMethod!=null&&jn(z.navigation.formMethod)&&M.state?._isRedirect!==!0;p&&(c=p,p=void 0),D||I==="POP"||(I==="PUSH"?n.history.push(M,M.state):I==="REPLACE"&&n.history.replace(M,M.state));let Ae;if(I==="POP"){let Te=k.get(z.location.pathname);Te&&Te.has(M.pathname)?Ae={currentLocation:z.location,nextLocation:M}:k.has(M.pathname)&&(Ae={currentLocation:M,nextLocation:z.location})}else if(P){let Te=k.get(z.location.pathname);Te?Te.add(M.pathname):(Te=new Set([M.pathname]),k.set(z.location.pathname,Te)),Ae={currentLocation:z.location,nextLocation:M}}Mt({...q,actionData:ce,loaderData:_e,historyAction:I,location:M,initialized:!0,navigation:qm,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Ce,blockers:we},{viewTransitionOpts:Ae,flushSync:Z===!0}),I="POP",A=!1,P=!1,D=!1,Ve=!1,Ie?.resolve(),Ie=null}async function mi(M,q){if(typeof M=="number"){n.history.go(M);return}let Z=up(z.location,z.matches,m,M,q?.fromRouteId,q?.relative),{path:ae,submission:ce,error:_e}=S0(!1,Z,q),we=z.location,ve=Cu(z.location,ae,q&&q.state);ve={...ve,...n.history.encodeLocation(ve)};let Ce=q&&q.replace!=null?q.replace:void 0,Ae="PUSH";Ce===!0?Ae="REPLACE":Ce===!1||ce!=null&&jn(ce.formMethod)&&ce.formAction===z.location.pathname+z.location.search&&(Ae="REPLACE");let Te=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Se=(q&&q.flushSync)===!0,Be=gi({currentLocation:we,nextLocation:ve,historyAction:Ae});if(Be){Gn(Be,{state:"blocked",location:ve,proceed(){Gn(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),mi(M,q)},reset(){let tt=new Map(z.blockers);tt.set(Be,fu),Mt({blockers:tt})}});return}await On(Ae,ve,{submission:ce,pendingError:_e,preventScrollReset:Te,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:Se})}function pi(){Ie||(Ie=J2()),Ir(),Mt({revalidation:"loading"});let M=Ie.promise;return z.navigation.state==="submitting"?M:z.navigation.state==="idle"?(On(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),M):(On(I||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:P===!0}),M)}async function On(M,q,Z){C&&C.abort(),C=null,I=M,D=(Z&&Z.startUninterruptedRevalidation)===!0,xt(z.location,z.matches),A=(Z&&Z.preventScrollReset)===!0,P=(Z&&Z.enableViewTransition)===!0;let ae=p||c,ce=Z&&Z.overrideNavigation,_e=Z?.initialHydration&&z.matches&&z.matches.length>0&&!W?z.matches:ws(ae,q,m),we=(Z&&Z.flushSync)===!0;if(_e&&z.initialized&&!Ve&&q2(z.location,q)&&!(Z&&Z.submission&&jn(Z.submission.formMethod))){Bn(q,{matches:_e},{flushSync:we});return}let ve=Kn(_e,ae,q.pathname);if(ve.active&&ve.matches&&(_e=ve.matches),!_e){let{error:At,notFoundMatches:Le,route:ot}=yi(q.pathname);Bn(q,{matches:Le,loaderData:{},errors:{[ot.id]:At}},{flushSync:we});return}C=new AbortController;let Ce=No(n.history,q,C.signal,Z&&Z.submission),Ae=n.unstable_getContext?await n.unstable_getContext():new b0,Te;if(Z&&Z.pendingError)Te=[Ss(_e).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&jn(Z.submission.formMethod)){let At=await ll(Ce,q,Z.submission,_e,Ae,ve.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:we});if(At.shortCircuited)return;if(At.pendingActionResult){let[Le,ot]=At.pendingActionResult;if(ir(ot)&&Iu(ot.error)&&ot.error.status===404){C=null,Bn(q,{matches:At.matches,loaderData:{},errors:{[Le]:ot.error}});return}}_e=At.matches||_e,Te=At.pendingActionResult,ce=Gm(q,Z.submission),we=!1,ve.active=!1,Ce=No(n.history,Ce.url,Ce.signal)}let{shortCircuited:Se,matches:Be,loaderData:tt,errors:gt}=await qs(Ce,q,_e,Ae,ve.active,ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,we,Te);Se||(C=null,Bn(q,{matches:Be||_e,...k0(Te),loaderData:tt,errors:gt}))}async function ll(M,q,Z,ae,ce,_e,we,ve={}){Ir();let Ce=Q2(q,Z);if(Mt({navigation:Ce},{flushSync:ve.flushSync===!0}),_e){let Se=await Yn(ae,q.pathname,M.signal);if(Se.type==="aborted")return{shortCircuited:!0};if(Se.type==="error"){if(Se.partialMatches.length===0){let{matches:tt,route:gt}=dh(c);return{matches:tt,pendingActionResult:[gt.id,{type:"error",error:Se.error}]}}let Be=Ss(Se.partialMatches).route.id;return{matches:Se.partialMatches,pendingActionResult:[Be,{type:"error",error:Se.error}]}}else if(Se.matches)ae=Se.matches;else{let{notFoundMatches:Be,error:tt,route:gt}=yi(q.pathname);return{matches:Be,pendingActionResult:[gt.id,{type:"error",error:tt}]}}}let Ae,Te=Rh(ae,q);if(!Te.route.action&&!Te.route.lazy)Ae={type:"error",error:Er(405,{method:M.method,pathname:q.pathname,routeId:Te.route.id})};else{let Se=Vo(o,u,M,ae,Te,we?[]:s,ce),Be=await xr(M,Se,ce,null);if(Ae=Be[Te.route.id],!Ae){for(let tt of ae)if(Be[tt.route.id]){Ae=Be[tt.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ra(Ae)){let Se;return ve&&ve.replace!=null?Se=ve.replace:Se=D0(Ae.response.headers.get("Location"),new URL(M.url),m)===z.location.pathname+z.location.search,await Cr(M,Ae,!0,{submission:Z,replace:Se}),{shortCircuited:!0}}if(ir(Ae)){let Se=Ss(ae,Te.route.id);return(ve&&ve.replace)!==!0&&(I="PUSH"),{matches:ae,pendingActionResult:[Se.route.id,Ae,Te.route.id]}}return{matches:ae,pendingActionResult:[Te.route.id,Ae]}}async function qs(M,q,Z,ae,ce,_e,we,ve,Ce,Ae,Te,Se){let Be=_e||Gm(q,we),tt=we||ve||V0(Be),gt=!D&&!Ae;if(ce){if(gt){let Rt=ln(Se);Mt({navigation:Be,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:Te})}let Ue=await Yn(Z,q.pathname,M.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){if(Ue.partialMatches.length===0){let{matches:$n,route:cn}=dh(c);return{matches:$n,loaderData:{},errors:{[cn.id]:Ue.error}}}let Rt=Ss(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,loaderData:{},errors:{[Rt]:Ue.error}}}else if(Ue.matches)Z=Ue.matches;else{let{error:Rt,notFoundMatches:$n,route:cn}=yi(q.pathname);return{matches:$n,loaderData:{},errors:{[cn.id]:Rt}}}}let At=p||c,{dsMatches:Le,revalidatingFetchers:ot}=A0(M,ae,o,u,n.history,z,Z,tt,q,Ae?[]:s,Ae===!0,Ve,$e,fe,ie,O,At,m,n.patchRoutesOnNavigation!=null,Se);if(ge=++he,!n.dataStrategy&&!Le.some(Ue=>Ue.shouldLoad)&&!Le.some(Ue=>Ue.route.unstable_middleware)&&ot.length===0){let Ue=Fn();return Bn(q,{matches:Z,loaderData:{},errors:Se&&ir(Se[1])?{[Se[0]]:Se[1].error}:null,...k0(Se),...Ue?{fetchers:new Map(z.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(gt){let Ue={};if(!ce){Ue.navigation=Be;let Rt=ln(Se);Rt!==void 0&&(Ue.actionData=Rt)}ot.length>0&&(Ue.fetchers=Ka(ot)),Mt(Ue,{flushSync:Te})}ot.forEach(Ue=>{Hn(Ue.key),Ue.controller&&$.set(Ue.key,Ue.controller)});let xn=()=>ot.forEach(Ue=>Hn(Ue.key));C&&C.signal.addEventListener("abort",xn);let{loaderResults:vn,fetcherResults:$t}=await Ya(Le,ot,M,ae);if(M.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",xn),ot.forEach(Ue=>$.delete(Ue.key));let en=mh(vn);if(en)return await Cr(M,en.result,!0,{replace:Ce}),{shortCircuited:!0};if(en=mh($t),en)return O.add(en.key),await Cr(M,en.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:kn,errors:lr}=M0(z,Z,vn,Se,ot,$t);Ae&&z.errors&&(lr={...z.errors,...lr});let Nr=Fn(),ur=Dr(ge),cr=Nr||ur||ot.length>0;return{matches:Z,loaderData:kn,errors:lr,...cr?{fetchers:new Map(z.fetchers)}:{}}}function ln(M){if(M&&!ir(M[1]))return{[M[0]]:M[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Ka(M){return M.forEach(q=>{let Z=z.fetchers.get(q.key),ae=du(void 0,Z?Z.data:void 0);z.fetchers.set(q.key,ae)}),new Map(z.fetchers)}async function Pt(M,q,Z,ae){Hn(M);let ce=(ae&&ae.flushSync)===!0,_e=p||c,we=up(z.location,z.matches,m,Z,q,ae?.relative),ve=ws(_e,we,m),Ce=Kn(ve,_e,we);if(Ce.active&&Ce.matches&&(ve=Ce.matches),!ve){vt(M,q,Er(404,{pathname:we}),{flushSync:ce});return}let{path:Ae,submission:Te,error:Se}=S0(!0,we,ae);if(Se){vt(M,q,Se,{flushSync:ce});return}let Be=n.unstable_getContext?await n.unstable_getContext():new b0,tt=(ae&&ae.preventScrollReset)===!0;if(Te&&jn(Te.formMethod)){await zt(M,q,Ae,ve,Be,Ce.active,ce,tt,Te);return}ie.set(M,{routeId:q,path:Ae}),await Rr(M,q,Ae,ve,Be,Ce.active,ce,tt,Te)}async function zt(M,q,Z,ae,ce,_e,we,ve,Ce){Ir(),ie.delete(M);let Ae=z.fetchers.get(M);un(M,X2(Ce,Ae),{flushSync:we});let Te=new AbortController,Se=No(n.history,Z,Te.signal,Ce);if(_e){let _t=await Yn(ae,new URL(Se.url).pathname,Se.signal,M);if(_t.type==="aborted")return;if(_t.type==="error"){vt(M,q,_t.error,{flushSync:we});return}else if(_t.matches)ae=_t.matches;else{vt(M,q,Er(404,{pathname:Z}),{flushSync:we});return}}let Be=Rh(ae,Z);if(!Be.route.action&&!Be.route.lazy){let _t=Er(405,{method:Ce.formMethod,pathname:Z,routeId:q});vt(M,q,_t,{flushSync:we});return}$.set(M,Te);let tt=he,gt=Vo(o,u,Se,ae,Be,s,ce),Le=(await xr(Se,gt,ce,M))[Be.route.id];if(Se.signal.aborted){$.get(M)===Te&&$.delete(M);return}if(fe.has(M)){if(Ra(Le)||ir(Le)){un(M,bs(void 0));return}}else{if(Ra(Le))if($.delete(M),ge>tt){un(M,bs(void 0));return}else return O.add(M),un(M,du(Ce)),Cr(Se,Le,!1,{fetcherSubmission:Ce,preventScrollReset:ve});if(ir(Le)){vt(M,q,Le.error);return}}let ot=z.navigation.location||z.location,xn=No(n.history,ot,Te.signal),vn=p||c,$t=z.navigation.state!=="idle"?ws(vn,z.navigation.location,m):z.matches;We($t,"Didn't find any matches after fetcher action");let en=++he;ze.set(M,en);let kn=du(Ce,Le.data);z.fetchers.set(M,kn);let{dsMatches:lr,revalidatingFetchers:Nr}=A0(xn,ce,o,u,n.history,z,$t,Ce,ot,s,!1,Ve,$e,fe,ie,O,vn,m,n.patchRoutesOnNavigation!=null,[Be.route.id,Le]);Nr.filter(_t=>_t.key!==M).forEach(_t=>{let Mr=_t.key,$a=z.fetchers.get(Mr),Qn=du(void 0,$a?$a.data:void 0);z.fetchers.set(Mr,Qn),Hn(Mr),_t.controller&&$.set(Mr,_t.controller)}),Mt({fetchers:new Map(z.fetchers)});let ur=()=>Nr.forEach(_t=>Hn(_t.key));Te.signal.addEventListener("abort",ur);let{loaderResults:cr,fetcherResults:Ue}=await Ya(lr,Nr,xn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",ur),ze.delete(M),$.delete(M),Nr.forEach(_t=>$.delete(_t.key)),z.fetchers.has(M)){let _t=bs(Le.data);z.fetchers.set(M,_t)}let Rt=mh(cr);if(Rt)return Cr(xn,Rt.result,!1,{preventScrollReset:ve});if(Rt=mh(Ue),Rt)return O.add(Rt.key),Cr(xn,Rt.result,!1,{preventScrollReset:ve});let{loaderData:$n,errors:cn}=M0(z,$t,cr,void 0,Nr,Ue);Dr(en),z.navigation.state==="loading"&&en>ge?(We(I,"Expected pending action"),C&&C.abort(),Bn(z.navigation.location,{matches:$t,loaderData:$n,errors:cn,fetchers:new Map(z.fetchers)})):(Mt({errors:cn,loaderData:O0(z.loaderData,$n,$t,cn),fetchers:new Map(z.fetchers)}),Ve=!1)}async function Rr(M,q,Z,ae,ce,_e,we,ve,Ce){let Ae=z.fetchers.get(M);un(M,du(Ce,Ae?Ae.data:void 0),{flushSync:we});let Te=new AbortController,Se=No(n.history,Z,Te.signal);if(_e){let ot=await Yn(ae,new URL(Se.url).pathname,Se.signal,M);if(ot.type==="aborted")return;if(ot.type==="error"){vt(M,q,ot.error,{flushSync:we});return}else if(ot.matches)ae=ot.matches;else{vt(M,q,Er(404,{pathname:Z}),{flushSync:we});return}}let Be=Rh(ae,Z);$.set(M,Te);let tt=he,gt=Vo(o,u,Se,ae,Be,s,ce),Le=(await xr(Se,gt,ce,M))[Be.route.id];if($.get(M)===Te&&$.delete(M),!Se.signal.aborted){if(fe.has(M)){un(M,bs(void 0));return}if(Ra(Le))if(ge>tt){un(M,bs(void 0));return}else{O.add(M),await Cr(Se,Le,!1,{preventScrollReset:ve});return}if(ir(Le)){vt(M,q,Le.error);return}un(M,bs(Le.data))}}async function Cr(M,q,Z,{submission:ae,fetcherSubmission:ce,preventScrollReset:_e,replace:we}={}){q.response.headers.has("X-Remix-Revalidate")&&(Ve=!0);let ve=q.response.headers.get("Location");We(ve,"Expected a Location header on the redirect Response"),ve=D0(ve,new URL(M.url),m);let Ce=Cu(z.location,ve,{_isRedirect:!0});if(t){let gt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(Yp(ve)){const At=xE(ve,!0);gt=At.origin!==e.location.origin||Sr(At.pathname,m)==null}if(gt){we?e.location.replace(ve):e.location.assign(ve);return}}C=null;let Ae=we===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Se,formEncType:Be}=z.navigation;!ae&&!ce&&Te&&Se&&Be&&(ae=V0(z.navigation));let tt=ae||ce;if(C2.has(q.response.status)&&tt&&jn(tt.formMethod))await On(Ae,Ce,{submission:{...tt,formAction:ve},preventScrollReset:_e||A,enableViewTransition:Z?P:void 0});else{let gt=Gm(Ce,ae);await On(Ae,Ce,{overrideNavigation:gt,fetcherSubmission:ce,preventScrollReset:_e||A,enableViewTransition:Z?P:void 0})}}async function xr(M,q,Z,ae){let ce,_e={};try{ce=await U2(g,M,q,ae,Z,!1)}catch(we){return q.filter(ve=>ve.shouldLoad).forEach(ve=>{_e[ve.route.id]={type:"error",error:we}}),_e}if(M.signal.aborted)return _e;for(let[we,ve]of Object.entries(ce))if(Y2(ve)){let Ce=ve.result;_e[we]={type:"redirect",response:H2(Ce,M,we,q,m)}}else _e[we]=await B2(ve);return _e}async function Ya(M,q,Z,ae){let ce=xr(Z,M,ae,null),_e=Promise.all(q.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Te=(await xr(Ce.request,Ce.matches,ae,Ce.key))[Ce.match.route.id];return{[Ce.key]:Te}}else return Promise.resolve({[Ce.key]:{type:"error",error:Er(404,{pathname:Ce.path})}})})),we=await ce,ve=(await _e).reduce((Ce,Ae)=>Object.assign(Ce,Ae),{});return{loaderResults:we,fetcherResults:ve}}function Ir(){Ve=!0,ie.forEach((M,q)=>{$.has(q)&&$e.add(q),Hn(q)})}function un(M,q,Z={}){z.fetchers.set(M,q),Mt({fetchers:new Map(z.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function vt(M,q,Z,ae={}){let ce=Ss(z.matches,q);Yt(M),Mt({errors:{[ce.route.id]:Z},fetchers:new Map(z.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Rn(M){return pe.set(M,(pe.get(M)||0)+1),fe.has(M)&&fe.delete(M),z.fetchers.get(M)||x2}function Yt(M){let q=z.fetchers.get(M);$.has(M)&&!(q&&q.state==="loading"&&ze.has(M))&&Hn(M),ie.delete(M),ze.delete(M),O.delete(M),fe.delete(M),$e.delete(M),z.fetchers.delete(M)}function ul(M){let q=(pe.get(M)||0)-1;q<=0?(pe.delete(M),fe.add(M)):pe.set(M,q),Mt({fetchers:new Map(z.fetchers)})}function Hn(M){let q=$.get(M);q&&(q.abort(),$.delete(M))}function Gs(M){for(let q of M){let Z=Rn(q),ae=bs(Z.data);z.fetchers.set(q,ae)}}function Fn(){let M=[],q=!1;for(let Z of O){let ae=z.fetchers.get(Z);We(ae,`Expected fetcher: ${Z}`),ae.state==="loading"&&(O.delete(Z),M.push(Z),q=!0)}return Gs(M),q}function Dr(M){let q=[];for(let[Z,ae]of ze)if(ae<M){let ce=z.fetchers.get(Z);We(ce,`Expected fetcher: ${Z}`),ce.state==="loading"&&(Hn(Z),ze.delete(Z),q.push(Z))}return Gs(q),q.length>0}function qn(M,q){let Z=z.blockers.get(M)||fu;return Ee.get(M)!==q&&Ee.set(M,q),Z}function Cn(M){z.blockers.delete(M),Ee.delete(M)}function Gn(M,q){let Z=z.blockers.get(M)||fu;We(Z.state==="unblocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="proceeding"||Z.state==="blocked"&&q.state==="unblocked"||Z.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${q.state}`);let ae=new Map(z.blockers);ae.set(M,q),Mt({blockers:ae})}function gi({currentLocation:M,nextLocation:q,historyAction:Z}){if(Ee.size===0)return;Ee.size>1&&Gt(!1,"A router only supports one blocker at a time");let ae=Array.from(Ee.entries()),[ce,_e]=ae[ae.length-1],we=z.blockers.get(ce);if(!(we&&we.state==="proceeding")&&_e({currentLocation:M,nextLocation:q,historyAction:Z}))return ce}function yi(M){let q=Er(404,{pathname:M}),Z=p||c,{matches:ae,route:ce}=dh(Z);return{notFoundMatches:ae,route:ce,error:q}}function Kr(M,q,Z){if(R=M,ee=q,U=Z||null,!L&&z.navigation===qm){L=!0;let ae=Ks(z.location,z.matches);ae!=null&&Mt({restoreScrollPosition:ae})}return()=>{R=null,ee=null,U=null}}function vi(M,q){return U&&U(M,q.map(ae=>i2(ae,z.loaderData)))||M.key}function xt(M,q){if(R&&ee){let Z=vi(M,q);R[Z]=ee()}}function Ks(M,q){if(R){let Z=vi(M,q),ae=R[Z];if(typeof ae=="number")return ae}return null}function Kn(M,q,Z){if(n.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Ah(q,Z,m,!0)}}else return{active:!0,matches:Ah(q,Z,m,!0)||[]};return{active:!1,matches:null}}async function Yn(M,q,Z,ae){if(!n.patchRoutesOnNavigation)return{type:"success",matches:M};let ce=M;for(;;){let _e=p==null,we=p||c,ve=u;try{await n.patchRoutesOnNavigation({signal:Z,path:q,matches:ce,fetcherKey:ae,patch:(Te,Se)=>{Z.aborted||R0(Te,Se,we,ve,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ce}}finally{_e&&!Z.aborted&&(c=[...c])}if(Z.aborted)return{type:"aborted"};let Ce=ws(we,q,m);if(Ce)return{type:"success",matches:Ce};let Ae=Ah(we,q,m,!0);if(!Ae||ce.length===Ae.length&&ce.every((Te,Se)=>Te.route.id===Ae[Se].route.id))return{type:"success",matches:null};ce=Ae}}function Ys(M){u={},p=xu(M,o,void 0,u)}function $s(M,q,Z=!1){let ae=p==null;R0(M,q,p||c,u,o,Z),ae&&(c=[...c],Mt({}))}return ne={get basename(){return m},get future(){return v},get state(){return z},get routes(){return c},get window(){return e},initialize:Kt,subscribe:zn,enableScrollRestoration:Kr,navigate:mi,fetch:Pt,revalidate:pi,createHref:M=>n.history.createHref(M),encodeLocation:M=>n.history.encodeLocation(M),getFetcher:Rn,deleteFetcher:ul,dispose:at,getBlocker:qn,deleteBlocker:Cn,patchRoutes:$s,_internalFetchControllers:$,_internalSetRoutes:Ys,_internalSetStateDoNotUseOrYouWillBreakYourApp(M){Mt(M)}},ne}function M2(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function up(n,e,t,s,o,u){let c,p;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){p=g;break}}else c=e,p=e[e.length-1];let m=Kp(s||".",Gp(c),Sr(n.pathname,t)||n.pathname,u==="path");if(s==null&&(m.search=n.search,m.hash=n.hash),(s==null||s===""||s===".")&&p){let g=$p(m.search);if(p.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&g){let v=new URLSearchParams(m.search),T=v.getAll("index");v.delete("index"),T.filter(R=>R).forEach(R=>v.append("index",R));let w=v.toString();m.search=w?`?${w}`:""}}return t!=="/"&&(m.pathname=y2({basename:t,pathname:m.pathname})),Vs(m)}function S0(n,e,t){if(!t||!M2(t))return{path:e};if(t.formMethod&&!$2(t.formMethod))return{path:e,error:Er(405,{method:t.formMethod})};let s=()=>({path:e,error:Er(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),c=zE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!jn(u))return s();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[R,U])=>`${w}${R}=${U}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!jn(u))return s();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let p,m;if(t.formData)p=fp(t.formData),m=t.formData;else if(t.body instanceof FormData)p=fp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)p=t.body,m=N0(p);else if(t.body==null)p=new URLSearchParams,m=new FormData;else try{p=new URLSearchParams(t.body),m=N0(p)}catch{return s()}let g={formMethod:u,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(jn(g.formMethod))return{path:e,submission:g};let v=Fs(e);return n&&v.search&&$p(v.search)&&p.append("index",""),v.search=`?${p}`,{path:Vs(v),submission:g}}function A0(n,e,t,s,o,u,c,p,m,g,v,T,w,R,U,ee,L,j,W,te){let de=te?ir(te[1])?te[1].error:te[1].data:void 0,ne=o.createURL(u.location),z=o.createURL(m),I;if(v&&u.errors){let D=Object.keys(u.errors)[0];I=c.findIndex(Ve=>Ve.route.id===D)}else if(te&&ir(te[1])){let D=te[0];I=c.findIndex(Ve=>Ve.route.id===D)-1}let A=te?te[1].statusCode:void 0,C=A&&A>=400,P={currentUrl:ne,currentParams:u.matches[0]?.params||{},nextUrl:z,nextParams:c[0].params,...p,actionResult:de,actionStatus:A},k=c.map((D,Ve)=>{let{route:$e}=D,$=null;if(I!=null&&Ve>I?$=!1:$e.lazy?$=!0:$e.loader==null?$=!1:v?$=cp($e,u.loaderData,u.errors):O2(u.loaderData,u.matches[Ve],D)&&($=!0),$!==null)return hp(t,s,n,D,g,e,$);let he=C?!1:T||ne.pathname+ne.search===z.pathname+z.search||ne.search!==z.search||k2(u.matches[Ve],D),ge={...P,defaultShouldRevalidate:he},ze=Hh(D,ge);return hp(t,s,n,D,g,e,ze,ge)}),B=[];return U.forEach((D,Ve)=>{if(v||!c.some(pe=>pe.route.id===D.routeId)||R.has(Ve))return;let $e=u.fetchers.get(Ve),$=$e&&$e.state!=="idle"&&$e.data===void 0,he=ws(L,D.path,j);if(!he){if(W&&$)return;B.push({key:Ve,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(ee.has(Ve))return;let ge=Rh(he,D.path),ze=new AbortController,O=No(o,D.path,ze.signal),ie=null;if(w.has(Ve))w.delete(Ve),ie=Vo(t,s,O,he,ge,g,e);else if($)T&&(ie=Vo(t,s,O,he,ge,g,e));else{let pe={...P,defaultShouldRevalidate:C?!1:T};Hh(ge,pe)&&(ie=Vo(t,s,O,he,ge,g,e,pe))}ie&&B.push({key:Ve,routeId:D.routeId,path:D.path,matches:ie,match:ge,request:O,controller:ze})}),{dsMatches:k,revalidatingFetchers:B}}function cp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let s=e!=null&&n.id in e,o=t!=null&&t[n.id]!==void 0;return!s&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!s&&!o}function O2(n,e,t){let s=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return s||o}function k2(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Hh(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function R0(n,e,t,s,o,u){let c;if(n){let g=s[n];We(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let p=[],m=[];if(e.forEach(g=>{let v=c.find(T=>PE(g,T));v?m.push({existingRoute:v,newRoute:g}):p.push(g)}),p.length>0){let g=xu(p,o,[n||"_","patch",String(c?.length||"0")],s);c.push(...g)}if(u&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:v,newRoute:T}=m[g],w=v,[R]=xu([T],o,[],{},!0);Object.assign(w,{element:R.element?R.element:w.element,errorElement:R.errorElement?R.errorElement:w.errorElement,hydrateFallbackElement:R.hydrateFallbackElement?R.hydrateFallbackElement:w.hydrateFallbackElement})}}function PE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,s)=>e.children?.some(o=>PE(t,o))):!1}var C0=new WeakMap,VE=({key:n,route:e,manifest:t,mapRouteProperties:s})=>{let o=t[e.id];if(We(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[n];if(!u)return;let c=C0.get(o);c||(c={},C0.set(o,c));let p=c[n];if(p)return p;let m=(async()=>{let g=e2(n),T=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)Gt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(T)Gt(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await u();w!=null&&(Object.assign(o,{[n]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return c[n]=m,m},x0=new WeakMap;function P2(n,e,t,s,o){let u=t[n.id];if(We(u,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=x0.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let T=(async()=>{We(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),R={};for(let U in w){let ee=w[U];if(ee===void 0)continue;let L=n2(U),W=u[U]!==void 0&&U!=="hasErrorBoundary";L?Gt(!L,"Route property "+U+" is not a supported property to be returned from a lazy route function. This property will be ignored."):W?Gt(!W,`Route "${u.id}" has a static property "${U}" defined but its lazy function is also returning a value for this property. The lazy route property "${U}" will be ignored.`):R[U]=ee}Object.assign(u,R),Object.assign(u,{...s(u),lazy:void 0})})();return x0.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(n.lazy),p=[],m;for(let v of c){if(o&&o.includes(v))continue;let T=VE({key:v,route:n,manifest:t,mapRouteProperties:s});T&&(p.push(T),v===e&&(m=T))}let g=p.length>0?Promise.all(p).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function I0(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{t[e[u].route.id]=o}),t}async function V2(n){return n.matches.some(e=>e.route.unstable_middleware)?LE(n,()=>I0(n)):I0(n)}function LE(n,e){return L2(n,e,s=>s,G2,t);function t(s,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:s}}));{let{matches:c}=n,p=Math.min(c.findIndex(g=>g.route.id===o)||0,c.findIndex(g=>g.unstable_shouldCallHandler())||0),m=Ss(c,c[p].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:s}})}}}async function L2(n,e,t,s,o){let{matches:u,request:c,params:p,context:m}=n,g=u.flatMap(T=>T.route.unstable_middleware?T.route.unstable_middleware.map(w=>[T.route.id,w]):[]);return await UE({request:c,params:p,context:m},g,e,t,s,o)}async function UE(n,e,t,s,o,u,c=0){let{request:p}=n;if(p.signal.aborted)throw p.signal.reason??new Error(`Request aborted: ${p.method} ${p.url}`);let m=e[c];if(!m)return await t();let[g,v]=m,T,w=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await UE(n,e,t,s,o,u,c+1)},T.value}catch(R){return T={value:await u(R,g,T)},T.value}};try{let R=await v(n,w),U=R!=null?s(R):void 0;return o(U)?U:T?U??T.value:(T={value:await w()},T.value)}catch(R){return await u(R,g,T)}}function jE(n,e,t,s,o){let u=VE({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:n}),c=P2(s.route,jn(t.method)?"action":"loader",e,n,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function hp(n,e,t,s,o,u,c,p=null){let m=!1,g=jE(n,e,t,s,o);return{...s,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler(v){return m=!0,p?typeof v=="boolean"?Hh(s,{...p,defaultShouldRevalidate:v}):Hh(s,p):c},resolve(v){return m||c||v&&!jn(t.method)&&(s.route.lazy||s.route.loader)?j2({request:t,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Vo(n,e,t,s,o,u,c,p=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler:()=>!1,_lazyPromises:jE(n,e,t,m,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hp(n,e,t,m,u,c,!0,p))}async function U2(n,e,t,s,o,u){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:o,matches:t},m=await n({...c,fetcherKey:s,unstable_runClientMiddleware:g=>{let v=c;return LE(v,()=>g({...v,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function j2({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let c,p,m=jn(n.method),g=m?"action":"loader",v=T=>{let w,R=new Promise((L,j)=>w=j);p=()=>w(),n.signal.addEventListener("abort",p);let U=L=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:n,params:e.params,context:u},...L!==void 0?[L]:[]),ee=(async()=>{try{return{type:"data",result:await(o?o(j=>U(j)):U())}}catch(L){return{type:"error",result:L}}})();return Promise.race([ee,R])};try{let T=m?e.route.action:e.route.loader;if(t||s)if(T){let w,[R]=await Promise.all([v(T).catch(U=>{w=U}),t,s]);if(w!==void 0)throw w;c=R}else{await t;let w=m?e.route.action:e.route.loader;if(w)[c]=await Promise.all([v(w),s]);else if(g==="action"){let R=new URL(n.url),U=R.pathname+R.search;throw Er(405,{method:n.method,pathname:U,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await v(T);else{let w=new URL(n.url),R=w.pathname+w.search;throw Er(404,{pathname:R})}}catch(T){return{type:"error",result:T}}finally{p&&n.signal.removeEventListener("abort",p)}return c}async function z2(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function B2(n){let{result:e,type:t}=n;if(BE(e)){let s;try{s=await z2(e)}catch(o){return{type:"error",error:o}}return t==="error"?{type:"error",error:new Bh(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?P0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Bh(e.init?.status||500,void 0,e.data),statusCode:Iu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Iu(e)?e.status:void 0}:P0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function H2(n,e,t,s,o){let u=n.headers.get("Location");if(We(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yp(u)){let c=s.slice(0,s.findIndex(p=>p.route.id===t)+1);u=up(new URL(e.url),c,o,u),n.headers.set("Location",u)}return n}function D0(n,e,t){if(Yp(n)){let s=n,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=Sr(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return n}function No(n,e,t,s){let o=n.createURL(zE(e)).toString(),u={signal:t};if(s&&jn(s.formMethod)){let{formMethod:c,formEncType:p}=s;u.method=c.toUpperCase(),p==="application/json"?(u.headers=new Headers({"Content-Type":p}),u.body=JSON.stringify(s.json)):p==="text/plain"?u.body=s.text:p==="application/x-www-form-urlencoded"&&s.formData?u.body=fp(s.formData):u.body=s.formData}return new Request(o,u)}function fp(n){let e=new URLSearchParams;for(let[t,s]of n.entries())e.append(t,typeof s=="string"?s:s.name);return e}function N0(n){let e=new FormData;for(let[t,s]of n.entries())e.append(t,s);return e}function F2(n,e,t,s=!1,o=!1){let u={},c=null,p,m=!1,g={},v=t&&ir(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let w=T.route.id,R=e[w];if(We(!Ra(R),"Cannot handle redirect results in processLoaderData"),ir(R)){let U=R.error;if(v!==void 0&&(U=v,v=void 0),c=c||{},o)c[w]=U;else{let ee=Ss(n,w);c[ee.route.id]==null&&(c[ee.route.id]=U)}s||(u[w]=kE),m||(m=!0,p=Iu(R.error)?R.error.status:500),R.headers&&(g[w]=R.headers)}else u[w]=R.data,R.statusCode&&R.statusCode!==200&&!m&&(p=R.statusCode),R.headers&&(g[w]=R.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:c,statusCode:p||200,loaderHeaders:g}}function M0(n,e,t,s,o,u){let{loaderData:c,errors:p}=F2(e,t,s);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:v,controller:T}=m;if(T&&T.signal.aborted)return;let w=u[g];if(We(w,"Did not find corresponding fetcher result"),ir(w)){let R=Ss(n.matches,v?.route.id);p&&p[R.route.id]||(p={...p,[R.route.id]:w.error}),n.fetchers.delete(g)}else if(Ra(w))We(!1,"Unhandled fetcher revalidation redirect");else{let R=bs(w.data);n.fetchers.set(g,R)}}),{loaderData:c,errors:p}}function O0(n,e,t,s){let o=Object.entries(e).filter(([,u])=>u!==kE).reduce((u,[c,p])=>(u[c]=p,u),{});for(let u of t){let c=u.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&u.route.loader&&(o[c]=n[c]),s&&s.hasOwnProperty(c))break}return o}function k0(n){return n?ir(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ss(n,e){return(e?n.slice(0,n.findIndex(s=>s.route.id===e)+1):[...n]).reverse().find(s=>s.route.hasErrorBoundary===!0)||n[0]}function dh(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(n,{pathname:e,routeId:t,method:s,type:o,message:u}={}){let c="Unknown Server Error",p="Unknown @remix-run/router error";return n===400?(c="Bad Request",s&&e&&t?p=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(p="Unable to encode submission body")):n===403?(c="Forbidden",p=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",p=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",s&&e&&t?p=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(p=`Invalid request method "${s.toUpperCase()}"`)),new Bh(n||500,c,new Error(p),!0)}function mh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(Ra(o))return{key:s,result:o}}}function zE(n){let e=typeof n=="string"?Fs(n):n;return Vs({...e,hash:""})}function q2(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function G2(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&K2(t))}function K2(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function Y2(n){return BE(n.result)&&R2.has(n.result.status)}function ir(n){return n.type==="error"}function Ra(n){return(n&&n.type)==="redirect"}function P0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function BE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function $2(n){return A2.has(n.toUpperCase())}function jn(n){return w2.has(n.toUpperCase())}function $p(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Rh(n,e){let t=typeof e=="string"?Fs(e).search:e.search;if(n[n.length-1].route.index&&$p(t||""))return n[n.length-1];let s=NE(n);return s[s.length-1]}function V0(n){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:u,json:c}=n;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:s,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function Gm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Q2(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function du(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function X2(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function bs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function W2(n,e){try{let t=n.sessionStorage.getItem(OE);if(t){let s=JSON.parse(t);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function Z2(n,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{n.sessionStorage.setItem(OE,JSON.stringify(t))}catch(s){Gt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function J2(){let n,e,t=new Promise((s,o)=>{n=async u=>{s(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var za=H.createContext(null);za.displayName="DataRouter";var zu=H.createContext(null);zu.displayName="DataRouterState";H.createContext(!1);var Qp=H.createContext({isTransitioning:!1});Qp.displayName="ViewTransition";var HE=H.createContext(new Map);HE.displayName="Fetchers";var eR=H.createContext(null);eR.displayName="Await";var fi=H.createContext(null);fi.displayName="Navigation";var vf=H.createContext(null);vf.displayName="Location";var di=H.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Xp=H.createContext(null);Xp.displayName="RouteError";function tR(n,{relative:e}={}){We(Bu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(fi),{hash:o,pathname:u,search:c}=Hu(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:ni([t,u])),s.createHref({pathname:p,search:c,hash:o})}function Bu(){return H.useContext(vf)!=null}function Ba(){return We(Bu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(vf).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(n){H.useContext(fi).static||H.useLayoutEffect(n)}function Wp(){let{isDataRoute:n}=H.useContext(di);return n?gR():nR()}function nR(){We(Bu(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(za),{basename:e,navigator:t}=H.useContext(fi),{matches:s}=H.useContext(di),{pathname:o}=Ba(),u=JSON.stringify(Gp(s)),c=H.useRef(!1);return qE(()=>{c.current=!0}),H.useCallback((m,g={})=>{if(Gt(c.current,FE),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Kp(m,JSON.parse(u),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ni([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,n])}var rR=H.createContext(null);function iR(n){let e=H.useContext(di).outlet;return e&&H.createElement(rR.Provider,{value:n},e)}function Hu(n,{relative:e}={}){let{matches:t}=H.useContext(di),{pathname:s}=Ba(),o=JSON.stringify(Gp(t));return H.useMemo(()=>Kp(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function sR(n,e,t,s,o){We(Bu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(fi),{matches:c}=H.useContext(di),p=c[c.length-1],m=p?p.params:{},g=p?p.pathname:"/",v=p?p.pathnameBase:"/",T=p&&p.route;{let W=T&&T.path||"";GE(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ba(),R;R=w;let U=R.pathname||"/",ee=U;if(v!=="/"){let W=v.replace(/^\//,"").split("/");ee="/"+U.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=ws(n,{pathname:ee});return Gt(T||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Gt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),cR(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:ni([v,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ni([v,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,t,s,o)}function aR(){let n=pR(),e=Iu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,c)}var oR=H.createElement(aR,null),lR=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?H.createElement(di.Provider,{value:this.props.routeContext},H.createElement(Xp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uR({routeContext:n,match:e,children:t}){let s=H.useContext(za);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(di.Provider,{value:n},t)}function cR(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,c=t?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);We(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let p=!1,m=-1;if(t)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:T,errors:w}=t,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||R){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((g,v,T)=>{let w,R=!1,U=null,ee=null;t&&(w=c&&v.route.id?c[v.route.id]:void 0,U=v.route.errorElement||oR,p&&(m<0&&T===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,ee=null):m===T&&(R=!0,ee=v.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,T+1)),j=()=>{let W;return w?W=U:R?W=ee:v.route.Component?W=H.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,H.createElement(uR,{match:v,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?H.createElement(lR,{location:t.location,revalidation:t.revalidation,component:U,error:w,children:j(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):j()},null)}function Zp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hR(n){let e=H.useContext(za);return We(e,Zp(n)),e}function fR(n){let e=H.useContext(zu);return We(e,Zp(n)),e}function dR(n){let e=H.useContext(di);return We(e,Zp(n)),e}function Jp(n){let e=dR(n),t=e.matches[e.matches.length-1];return We(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mR(){return Jp("useRouteId")}function pR(){let n=H.useContext(Xp),e=fR("useRouteError"),t=Jp("useRouteError");return n!==void 0?n:e.errors?.[t]}function gR(){let{router:n}=hR("useNavigate"),e=Jp("useNavigate"),t=H.useRef(!1);return qE(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{Gt(t.current,FE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var L0={};function GE(n,e,t){!e&&!L0[n]&&(L0[n]=!0,Gt(!1,t))}var U0={};function j0(n,e){!n&&!U0[e]&&(U0[e]=!0,console.warn(e))}function yR(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Gt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:H.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Gt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:H.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Gt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:H.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var vR=["HydrateFallback","hydrateFallbackElement"],_R=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function ER({router:n,flushSync:e,unstable_onError:t}){let[s,o]=H.useState(n.state),[u,c]=H.useState(),[p,m]=H.useState({isTransitioning:!1}),[g,v]=H.useState(),[T,w]=H.useState(),[R,U]=H.useState(),ee=H.useRef(new Map),L=H.useCallback(ne=>{o(z=>(ne.errors&&t&&Object.entries(ne.errors).forEach(([I,A])=>{z.errors?.[I]!==A&&t(A)}),ne))},[t]),j=H.useCallback((ne,{deletedFetchers:z,flushSync:I,viewTransitionOpts:A})=>{ne.fetchers.forEach((P,k)=>{P.data!==void 0&&ee.current.set(k,P.data)}),z.forEach(P=>ee.current.delete(P)),j0(I===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(j0(A==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!A||!C){e&&I?e(()=>L(ne)):H.startTransition(()=>L(ne));return}if(e&&I){e(()=>{T&&(g&&g.resolve(),T.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:A.currentLocation,nextLocation:A.nextLocation})});let P=n.window.document.startViewTransition(()=>{e(()=>L(ne))});P.finished.finally(()=>{e(()=>{v(void 0),w(void 0),c(void 0),m({isTransitioning:!1})})}),e(()=>w(P));return}T?(g&&g.resolve(),T.skipTransition(),U({state:ne,currentLocation:A.currentLocation,nextLocation:A.nextLocation})):(c(ne),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}))},[n.window,e,T,g,L]);H.useLayoutEffect(()=>n.subscribe(j),[n,j]),H.useEffect(()=>{p.isTransitioning&&!p.flushSync&&v(new _R)},[p]),H.useEffect(()=>{if(g&&u&&n.window){let ne=u,z=g.promise,I=n.window.document.startViewTransition(async()=>{H.startTransition(()=>L(ne)),await z});I.finished.finally(()=>{v(void 0),w(void 0),c(void 0),m({isTransitioning:!1})}),w(I)}},[u,g,n.window,L]),H.useEffect(()=>{g&&u&&s.location.key===u.location.key&&g.resolve()},[g,T,s.location,u]),H.useEffect(()=>{!p.isTransitioning&&R&&(c(R.state),m({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),U(void 0))},[p.isTransitioning,R]);let W=H.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ne=>n.navigate(ne),push:(ne,z,I)=>n.navigate(ne,{state:z,preventScrollReset:I?.preventScrollReset}),replace:(ne,z,I)=>n.navigate(ne,{replace:!0,state:z,preventScrollReset:I?.preventScrollReset})}),[n]),te=n.basename||"/",de=H.useMemo(()=>({router:n,navigator:W,static:!1,basename:te,unstable_onError:t}),[n,W,te,t]);return H.createElement(H.Fragment,null,H.createElement(za.Provider,{value:de},H.createElement(zu.Provider,{value:s},H.createElement(HE.Provider,{value:ee.current},H.createElement(Qp.Provider,{value:p},H.createElement(SR,{basename:te,location:s.location,navigationType:s.historyAction,navigator:W},H.createElement(TR,{routes:n.routes,future:n.future,state:s,unstable_onError:t})))))),null)}var TR=H.memo(bR);function bR({routes:n,future:e,state:t,unstable_onError:s}){return sR(n,void 0,t,s,e)}function wR(n){return iR(n.context)}function SR({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){We(!Bu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=Fs(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:w="default"}=t,R=H.useMemo(()=>{let U=Sr(m,c);return U==null?null:{location:{pathname:U,search:g,hash:v,state:T,key:w},navigationType:s}},[c,m,g,v,T,w,s]);return Gt(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:H.createElement(fi.Provider,{value:p},H.createElement(vf.Provider,{children:e,value:R}))}var Ch="get",xh="application/x-www-form-urlencoded";function _f(n){return n!=null&&typeof n.tagName=="string"}function AR(n){return _f(n)&&n.tagName.toLowerCase()==="button"}function RR(n){return _f(n)&&n.tagName.toLowerCase()==="form"}function CR(n){return _f(n)&&n.tagName.toLowerCase()==="input"}function xR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IR(n,e){return n.button===0&&(!e||e==="_self")&&!xR(n)}var ph=null;function DR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(n){return n!=null&&!NR.has(n)?(Gt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xh}"`),null):n}function MR(n,e){let t,s,o,u,c;if(RR(n)){let p=n.getAttribute("action");s=p?Sr(p,e):null,t=n.getAttribute("method")||Ch,o=Km(n.getAttribute("enctype"))||xh,u=new FormData(n)}else if(AR(n)||CR(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||p.getAttribute("action");if(s=m?Sr(m,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ch,o=Km(n.getAttribute("formenctype"))||Km(p.getAttribute("enctype"))||xh,u=new FormData(p,n),!DR()){let{name:g,type:v,value:T}=n;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(_f(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ch,s=null,o=xh,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function OR(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function kR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function VR(n,e,t){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await kR(u,t);return c.links?c.links():[]}return[]}));return zR(s.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function z0(n,e,t,s,o,u){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,p=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return u==="assets"?e.filter((m,g)=>c(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function LR(n,e,{includeHydrateFallback:t}={}){return UR(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function UR(n){return[...new Set(n)]}function jR(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function zR(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(jR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function KE(){let n=H.useContext(za);return eg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function BR(){let n=H.useContext(zu);return eg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tg=H.createContext(void 0);tg.displayName="FrameworkContext";function YE(){let n=H.useContext(tg);return eg(n,"You must render this element inside a <HydratedRouter> element"),n}function HR(n,e){let t=H.useContext(tg),[s,o]=H.useState(!1),[u,c]=H.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let ee=j=>{j.forEach(W=>{c(W.isIntersecting)})},L=new IntersectionObserver(ee,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[n]),H.useEffect(()=>{if(s){let ee=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(ee)}}},[s]);let R=()=>{o(!0)},U=()=>{o(!1),c(!1)};return t?n!=="intent"?[u,w,{}]:[u,w,{onFocus:mu(p,R),onBlur:mu(m,U),onMouseEnter:mu(g,R),onMouseLeave:mu(v,U),onTouchStart:mu(T,R)}]:[!1,w,{}]}function mu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FR({page:n,...e}){let{router:t}=KE(),s=H.useMemo(()=>ws(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?H.createElement(GR,{page:n,matches:s,...e}):null}function qR(n){let{manifest:e,routeModules:t}=YE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return VR(n,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,t]),s}function GR({page:n,matches:e,...t}){let s=Ba(),{manifest:o,routeModules:u}=YE(),{basename:c}=KE(),{loaderData:p,matches:m}=BR(),g=H.useMemo(()=>z0(n,e,m,o,s,"data"),[n,e,m,o,s]),v=H.useMemo(()=>z0(n,e,m,o,s,"assets"),[n,e,m,o,s]),T=H.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let U=new Set,ee=!1;if(e.forEach(j=>{let W=o.routes[j.route.id];!W||!W.hasLoader||(!g.some(te=>te.route.id===j.route.id)&&j.route.id in p&&u[j.route.id]?.shouldRevalidate||W.hasClientLoader?ee=!0:U.add(j.route.id))}),U.size===0)return[];let L=OR(n,c,"data");return ee&&U.size>0&&L.searchParams.set("_routes",e.filter(j=>U.has(j.route.id)).map(j=>j.route.id).join(",")),[L.pathname+L.search]},[c,p,s,o,g,e,n,u]),w=H.useMemo(()=>LR(v,o),[v,o]),R=qR(v);return H.createElement(H.Fragment,null,T.map(U=>H.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),w.map(U=>H.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),R.map(({key:U,link:ee})=>H.createElement("link",{key:U,nonce:t.nonce,...ee})))}function KR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$E&&(window.__reactRouterVersion="7.8.2")}catch{}function YR(n,e){return N2({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:XA({window:e?.window}),hydrationData:e?.hydrationData||$R(),routes:n,mapRouteProperties:yR,hydrationRouteProperties:vR,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function $R(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:QR(n.errors)}),n}function QR(n){if(!n)return null;let e=Object.entries(n),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new Bh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let u=new Error(o.message);u.stack="",t[s]=u}}else t[s]=o;return t}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:p,target:m,to:g,preventScrollReset:v,viewTransition:T,...w},R){let{basename:U}=H.useContext(fi),ee=typeof g=="string"&&QE.test(g),L,j=!1;if(typeof g=="string"&&ee&&(L=g,$E))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),k=Sr(P.pathname,U);P.origin===C.origin&&k!=null?g=k+P.search+P.hash:j=!0}catch{Gt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=tR(g,{relative:o}),[te,de,ne]=HR(s,w),z=JR(g,{replace:c,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:T});function I(C){e&&e(C),C.defaultPrevented||z(C)}let A=H.createElement("a",{...w,...ne,href:L||W,onClick:j||u?e:I,ref:KR(R,de),target:m,"data-discover":!ee&&t==="render"?"true":void 0});return te&&!ee?H.createElement(H.Fragment,null,A,H.createElement(FR,{page:W})):A});Aa.displayName="Link";var XR=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:p,children:m,...g},v){let T=Hu(c,{relative:g.relative}),w=Ba(),R=H.useContext(zu),{navigator:U,basename:ee}=H.useContext(fi),L=R!=null&&iC(T)&&p===!0,j=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,W=w.pathname,te=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(W=W.toLowerCase(),te=te?te.toLowerCase():null,j=j.toLowerCase()),te&&ee&&(te=Sr(te,ee)||te);const de=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ne=W===j||!o&&W.startsWith(j)&&W.charAt(de)==="/",z=te!=null&&(te===j||!o&&te.startsWith(j)&&te.charAt(j.length)==="/"),I={isActive:ne,isPending:z,isTransitioning:L},A=ne?e:void 0,C;typeof s=="function"?C=s(I):C=[s,ne?"active":null,z?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(I):u;return H.createElement(Aa,{...g,"aria-current":A,className:C,ref:v,style:P,to:c,viewTransition:p},typeof m=="function"?m(I):m)});XR.displayName="NavLink";var WR=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Ch,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...w},R)=>{let U=nC(),ee=rC(p,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&QE.test(p),W=te=>{if(m&&m(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,ne=de?.getAttribute("formmethod")||c;U(de||te.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return H.createElement("form",{ref:R,method:L,action:ee,onSubmit:s?m:W,...w,"data-discover":!j&&n==="render"?"true":void 0})});WR.displayName="Form";function ZR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(n){let e=H.useContext(za);return We(e,ZR(n)),e}function JR(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c}={}){let p=Wp(),m=Ba(),g=Hu(n,{relative:u});return H.useCallback(v=>{if(IR(v,e)){v.preventDefault();let T=t!==void 0?t:Vs(m)===Vs(g);p(n,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:c})}},[m,p,g,t,s,e,n,o,u,c])}var eC=0,tC=()=>`__${String(++eC)}__`;function nC(){let{router:n}=XE("useSubmit"),{basename:e}=H.useContext(fi),t=mR();return H.useCallback(async(s,o={})=>{let{action:u,method:c,encType:p,formData:m,body:g}=MR(s,e);if(o.navigate===!1){let v=o.fetcherKey||tC();await n.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function rC(n,{relative:e}={}){let{basename:t}=H.useContext(fi),s=H.useContext(di);We(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hu(n||".",{relative:e})},c=Ba();if(n==null){u.search=c.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(T=>T).forEach(T=>p.append("index",T));let v=p.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ni([t,u.pathname])),Vs(u)}function iC(n,{relative:e}={}){let t=H.useContext(Qp);We(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XE("useViewTransitionState"),o=Hu(n,{relative:e});if(!t.isTransitioning)return!1;let u=Sr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Sr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zh(o.pathname,c)!=null||zh(o.pathname,u)!=null}function mn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var sC=typeof Symbol=="function"&&Symbol.observable||"@@observable",B0=sC,Ym=()=>Math.random().toString(36).substring(7).split("").join("."),aC={INIT:`@@redux/INIT${Ym()}`,REPLACE:`@@redux/REPLACE${Ym()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ym()}`},Fh=aC;function ng(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function WE(n,e,t){if(typeof n!="function")throw new Error(mn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(mn(1));return t(WE)(n,e)}let s=n,o=e,u=new Map,c=u,p=0,m=!1;function g(){c===u&&(c=new Map,u.forEach((L,j)=>{c.set(j,L)}))}function v(){if(m)throw new Error(mn(3));return o}function T(L){if(typeof L!="function")throw new Error(mn(4));if(m)throw new Error(mn(5));let j=!0;g();const W=p++;return c.set(W,L),function(){if(j){if(m)throw new Error(mn(6));j=!1,g(),c.delete(W),u=null}}}function w(L){if(!ng(L))throw new Error(mn(7));if(typeof L.type>"u")throw new Error(mn(8));if(typeof L.type!="string")throw new Error(mn(17));if(m)throw new Error(mn(9));try{m=!0,o=s(o,L)}finally{m=!1}return(u=c).forEach(W=>{W()}),L}function R(L){if(typeof L!="function")throw new Error(mn(10));s=L,w({type:Fh.REPLACE})}function U(){const L=T;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(mn(11));function W(){const de=j;de.next&&de.next(v())}return W(),{unsubscribe:L(W)}},[B0](){return this}}}return w({type:Fh.INIT}),{dispatch:w,subscribe:T,getState:v,replaceReducer:R,[B0]:U}}function oC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Fh.INIT})>"u")throw new Error(mn(12));if(typeof t(void 0,{type:Fh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function lC(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const c=e[u];typeof n[c]=="function"&&(t[c]=n[c])}const s=Object.keys(t);let o;try{oC(t)}catch(u){o=u}return function(c={},p){if(o)throw o;let m=!1;const g={};for(let v=0;v<s.length;v++){const T=s[v],w=t[T],R=c[T],U=w(R,p);if(typeof U>"u")throw p&&p.type,new Error(mn(14));g[T]=U,m=m||U!==R}return m=m||s.length!==Object.keys(c).length,m?g:c}}function qh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function uC(...n){return e=>(t,s)=>{const o=e(t,s);let u=()=>{throw new Error(mn(15))};const c={getState:o.getState,dispatch:(m,...g)=>u(m,...g)},p=n.map(m=>m(c));return u=qh(...p)(o.dispatch),{...o,dispatch:u}}}function cC(n){return ng(n)&&"type"in n&&typeof n.type=="string"}var ZE=Symbol.for("immer-nothing"),H0=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function zr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fo=Object.getPrototypeOf;function Oa(n){return!!n&&!!n[ar]}function zi(n){return n?JE(n)||Array.isArray(n)||!!n[H0]||!!n.constructor?.[H0]||Tf(n)||bf(n):!1}var hC=Object.prototype.constructor.toString();function JE(n){if(!n||typeof n!="object")return!1;const e=Fo(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===hC}function Gh(n,e){Ef(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function Ef(n){const e=n[ar];return e?e.type_:Array.isArray(n)?1:Tf(n)?2:bf(n)?3:0}function dp(n,e){return Ef(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function eT(n,e,t){const s=Ef(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function fC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Tf(n){return n instanceof Map}function bf(n){return n instanceof Set}function wa(n){return n.copy_||n.base_}function mp(n,e){if(Tf(n))return new Map(n);if(bf(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=JE(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[ar];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const c=o[u],p=s[c];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(s[c]={configurable:!0,writable:!0,enumerable:p.enumerable,value:n[c]})}return Object.create(Fo(n),s)}else{const s=Fo(n);if(s!==null&&t)return{...n};const o=Object.create(s);return Object.assign(o,n)}}function rg(n,e=!1){return wf(n)||Oa(n)||!zi(n)||(Ef(n)>1&&(n.set=n.add=n.clear=n.delete=dC),Object.freeze(n),e&&Object.entries(n).forEach(([t,s])=>rg(s,!0))),n}function dC(){zr(2)}function wf(n){return Object.isFrozen(n)}var mC={};function ka(n){const e=mC[n];return e||zr(0,n),e}var Du;function tT(){return Du}function pC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function F0(n,e){e&&(ka("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function pp(n){gp(n),n.drafts_.forEach(gC),n.drafts_=null}function gp(n){n===Du&&(Du=n.parent_)}function q0(n){return Du=pC(Du,n)}function gC(n){const e=n[ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function G0(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ar].modified_&&(pp(e),zr(4)),zi(n)&&(n=Kh(e,n),e.parent_||Yh(e,n)),e.patches_&&ka("Patches").generateReplacementPatches_(t[ar].base_,n,e.patches_,e.inversePatches_)):n=Kh(e,t,[]),pp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==ZE?n:void 0}function Kh(n,e,t){if(wf(e))return e;const s=e[ar];if(!s)return Gh(e,(o,u)=>K0(n,s,e,o,u,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return Yh(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,c=!1;s.type_===3&&(u=new Set(o),o.clear(),c=!0),Gh(u,(p,m)=>K0(n,s,o,p,m,t,c)),Yh(n,o,!1),t&&n.patches_&&ka("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function K0(n,e,t,s,o,u,c){if(Oa(o)){const p=u&&e&&e.type_!==3&&!dp(e.assigned_,s)?u.concat(s):void 0,m=Kh(n,o,p);if(eT(t,s,m),Oa(m))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(zi(o)&&!wf(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Kh(n,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Yh(n,o)}}function Yh(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&rg(e,t)}function yC(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:tT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=ig;t&&(o=[s],u=Nu);const{revoke:c,proxy:p}=Proxy.revocable(o,u);return s.draft_=p,s.revoke_=c,p}var ig={get(n,e){if(e===ar)return n;const t=wa(n);if(!dp(t,e))return vC(n,t,e);const s=t[e];return n.finalized_||!zi(s)?s:s===$m(n.base_,e)?(Qm(n),n.copy_[e]=vp(s,n)):s},has(n,e){return e in wa(n)},ownKeys(n){return Reflect.ownKeys(wa(n))},set(n,e,t){const s=nT(wa(n),e);if(s?.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const o=$m(wa(n),e),u=o?.[ar];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(fC(t,o)&&(t!==void 0||dp(n.base_,e)))return!0;Qm(n),yp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return $m(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Qm(n),yp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=wa(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){zr(11)},getPrototypeOf(n){return Fo(n.base_)},setPrototypeOf(){zr(12)}},Nu={};Gh(ig,(n,e)=>{Nu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nu.deleteProperty=function(n,e){return Nu.set.call(this,n,e,void 0)};Nu.set=function(n,e,t){return ig.set.call(this,n[0],e,t,n[0])};function $m(n,e){const t=n[ar];return(t?wa(t):n)[e]}function vC(n,e,t){const s=nT(e,t);return s?"value"in s?s.value:s.get?.call(n.draft_):void 0}function nT(n,e){if(!(e in n))return;let t=Fo(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Fo(t)}}function yp(n){n.modified_||(n.modified_=!0,n.parent_&&yp(n.parent_))}function Qm(n){n.copy_||(n.copy_=mp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var _C=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const c=this;return function(m=u,...g){return c.produce(m,v=>t.call(this,v,...g))}}typeof t!="function"&&zr(6),s!==void 0&&typeof s!="function"&&zr(7);let o;if(zi(e)){const u=q0(this),c=vp(e,void 0);let p=!0;try{o=t(c),p=!1}finally{p?pp(u):gp(u)}return F0(u,s),G0(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===ZE&&(o=void 0),this.autoFreeze_&&rg(o,!0),s){const u=[],c=[];ka("Patches").generateReplacementPatches_(e,o,u,c),s(u,c)}return o}else zr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...p)=>this.produceWithPatches(c,m=>e(m,...p));let s,o;return[this.produce(e,t,(c,p)=>{s=c,o=p}),s,o]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){zi(n)||zr(8),Oa(n)&&(n=EC(n));const e=q0(this),t=vp(n,void 0);return t[ar].isManual_=!0,gp(e),t}finishDraft(n,e){const t=n&&n[ar];(!t||!t.isManual_)&&zr(9);const{scope_:s}=t;return F0(s,e),G0(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const s=ka("Patches").applyPatches_;return Oa(n)?s(n,e):this.produce(n,o=>s(o,e))}};function vp(n,e){const t=Tf(n)?ka("MapSet").proxyMap_(n,e):bf(n)?ka("MapSet").proxySet_(n,e):yC(n,e);return(e?e.scope_:tT()).drafts_.push(t),t}function EC(n){return Oa(n)||zr(10,n),rT(n)}function rT(n){if(!zi(n)||wf(n))return n;const e=n[ar];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=mp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=mp(n,!0);return Gh(t,(s,o)=>{eT(t,s,rT(o))}),e&&(e.finalized_=!1),t}var or=new _C,iT=or.produce;or.produceWithPatches.bind(or);or.setAutoFreeze.bind(or);or.setUseStrictShallowCopy.bind(or);or.applyPatches.bind(or);or.createDraft.bind(or);or.finishDraft.bind(or);function sT(n){return({dispatch:t,getState:s})=>o=>u=>typeof u=="function"?u(t,s,n):o(u)}var TC=sT(),bC=sT,wC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qh:qh.apply(null,arguments)},SC=n=>n&&typeof n.match=="function";function Eu(n,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(ji(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>cC(s)&&s.type===n,t}var aT=class gu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gu.prototype)}static get[Symbol.species](){return gu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gu(...e[0].concat(this)):new gu(...e.concat(this))}};function Y0(n){return zi(n)?iT(n,()=>{}):n}function gh(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function AC(n){return typeof n=="boolean"}var RC=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let c=new aT;return t&&(AC(t)?c.push(TC):c.push(bC(t.extraArgument))),c},CC="RTK_autoBatch",$0=n=>e=>{setTimeout(e,n)},xC=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,u=!1,c=!1;const p=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$0(10):n.type==="callback"?n.queueNotification:$0(n.timeout),g=()=>{c=!1,u&&(u=!1,p.forEach(v=>v()))};return Object.assign({},s,{subscribe(v){const T=()=>o&&v(),w=s.subscribe(T);return p.add(v),()=>{w(),p.delete(v)}},dispatch(v){try{return o=!v?.meta?.[CC],u=!o,u&&(c||(c=!0,m(g))),s.dispatch(v)}finally{o=!0}}})},IC=n=>function(t){const{autoBatch:s=!0}=t??{};let o=new aT(n);return s&&o.push(xC(typeof s=="object"?s:void 0)),o};function DC(n){const e=RC(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=n||{};let p;if(typeof t=="function")p=t;else if(ng(t))p=lC(t);else throw new Error(ji(1));let m;typeof s=="function"?m=s(e):m=e();let g=qh;o&&(g=wC({trace:!1,...typeof o=="object"&&o}));const v=uC(...m),T=IC(v);let w=typeof c=="function"?c(T):T();const R=g(...w);return WE(p,u,R)}function oT(n){const e={},t=[];let s;const o={addCase(u,c){const p=typeof u=="string"?u:u.type;if(!p)throw new Error(ji(28));if(p in e)throw new Error(ji(29));return e[p]=c,o},addMatcher(u,c){return t.push({matcher:u,reducer:c}),o},addDefaultCase(u){return s=u,o}};return n(o),[e,t,s]}function NC(n){return typeof n=="function"}function MC(n,e){let[t,s,o]=oT(e),u;if(NC(n))u=()=>Y0(n());else{const p=Y0(n);u=()=>p}function c(p=u(),m){let g=[t[m.type],...s.filter(({matcher:v})=>v(m)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,T)=>{if(T)if(Oa(v)){const R=T(v,m);return R===void 0?v:R}else{if(zi(v))return iT(v,w=>T(w,m));{const w=T(v,m);if(w===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return v},p)}return c.getInitialState=u,c}var OC=(n,e)=>SC(n)?n.match(e):n(e);function kC(...n){return e=>n.some(t=>OC(t,e))}var PC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",VC=(n=21)=>{let e="",t=n;for(;t--;)e+=PC[Math.random()*64|0];return e},LC=["name","message","stack","code"],Xm=class{constructor(n,e){this.payload=n,this.meta=e}_type},Q0=class{constructor(n,e){this.payload=n,this.meta=e}_type},UC=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of LC)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},X0="External signal was aborted",lT=(()=>{function n(e,t,s){const o=Eu(e+"/fulfilled",(m,g,v,T)=>({payload:m,meta:{...T||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),u=Eu(e+"/pending",(m,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:m,requestStatus:"pending"}})),c=Eu(e+"/rejected",(m,g,v,T,w)=>({payload:T,error:(s&&s.serializeError||UC)(m||"Rejected"),meta:{...w||{},arg:v,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"}}));function p(m,{signal:g}={}){return(v,T,w)=>{const R=s?.idGenerator?s.idGenerator(m):VC(),U=new AbortController;let ee,L;function j(te){L=te,U.abort()}g&&(g.aborted?j(X0):g.addEventListener("abort",()=>j(X0),{once:!0}));const W=(async function(){let te;try{let ne=s?.condition?.(m,{getState:T,extra:w});if(zC(ne)&&(ne=await ne),ne===!1||U.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const z=new Promise((I,A)=>{ee=()=>{A({name:"AbortError",message:L||"Aborted"})},U.signal.addEventListener("abort",ee)});v(u(R,m,s?.getPendingMeta?.({requestId:R,arg:m},{getState:T,extra:w}))),te=await Promise.race([z,Promise.resolve(t(m,{dispatch:v,getState:T,extra:w,requestId:R,signal:U.signal,abort:j,rejectWithValue:(I,A)=>new Xm(I,A),fulfillWithValue:(I,A)=>new Q0(I,A)})).then(I=>{if(I instanceof Xm)throw I;return I instanceof Q0?o(I.payload,R,m,I.meta):o(I,R,m)})])}catch(ne){te=ne instanceof Xm?c(null,R,m,ne.payload,ne.meta):c(ne,R,m)}finally{ee&&U.signal.removeEventListener("abort",ee)}return s&&!s.dispatchConditionRejection&&c.match(te)&&te.meta.condition||v(te),te})();return Object.assign(W,{abort:j,requestId:R,arg:m,unwrap(){return W.then(jC)}})}}return Object.assign(p,{pending:u,rejected:c,fulfilled:o,settled:kC(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function jC(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function zC(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var BC=Symbol.for("rtk-slice-createasyncthunk");function HC(n,e){return`${n}/${e}`}function FC({creators:n}={}){const e=n?.asyncThunk?.[BC];return function(s){const{name:o,reducerPath:u=o}=s;if(!o)throw new Error(ji(11));const c=(typeof s.reducers=="function"?s.reducers(GC()):s.reducers)||{},p=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(te,de){const ne=typeof te=="string"?te:te.type;if(!ne)throw new Error(ji(12));if(ne in m.sliceCaseReducersByType)throw new Error(ji(13));return m.sliceCaseReducersByType[ne]=de,g},addMatcher(te,de){return m.sliceMatchers.push({matcher:te,reducer:de}),g},exposeAction(te,de){return m.actionCreators[te]=de,g},exposeCaseReducer(te,de){return m.sliceCaseReducersByName[te]=de,g}};p.forEach(te=>{const de=c[te],ne={reducerName:te,type:HC(o,te),createNotation:typeof s.reducers=="function"};YC(de)?QC(ne,de,g,e):KC(ne,de,g)});function v(){const[te={},de=[],ne=void 0]=typeof s.extraReducers=="function"?oT(s.extraReducers):[s.extraReducers],z={...te,...m.sliceCaseReducersByType};return MC(s.initialState,I=>{for(let A in z)I.addCase(A,z[A]);for(let A of m.sliceMatchers)I.addMatcher(A.matcher,A.reducer);for(let A of de)I.addMatcher(A.matcher,A.reducer);ne&&I.addDefaultCase(ne)})}const T=te=>te,w=new Map,R=new WeakMap;let U;function ee(te,de){return U||(U=v()),U(te,de)}function L(){return U||(U=v()),U.getInitialState()}function j(te,de=!1){function ne(I){let A=I[te];return typeof A>"u"&&de&&(A=gh(R,ne,L)),A}function z(I=T){const A=gh(w,de,()=>new WeakMap);return gh(A,I,()=>{const C={};for(const[P,k]of Object.entries(s.selectors??{}))C[P]=qC(k,I,()=>gh(R,I,L),de);return C})}return{reducerPath:te,getSelectors:z,get selectors(){return z(ne)},selectSlice:ne}}const W={name:o,reducer:ee,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:L,...j(u),injectInto(te,{reducerPath:de,...ne}={}){const z=de??u;return te.inject({reducerPath:z,reducer:ee},ne),{...W,...j(z,!0)}}};return W}}function qC(n,e,t,s){function o(u,...c){let p=e(u);return typeof p>"u"&&s&&(p=t()),n(p,...c)}return o.unwrapped=n,o}var Jo=FC();function GC(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function KC({type:n,reducerName:e,createNotation:t},s,o){let u,c;if("reducer"in s){if(t&&!$C(s))throw new Error(ji(17));u=s.reducer,c=s.prepare}else u=s;o.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,c?Eu(n,c):Eu(n))}function YC(n){return n._reducerDefinitionType==="asyncThunk"}function $C(n){return n._reducerDefinitionType==="reducerWithPrepare"}function QC({type:n,reducerName:e},t,s,o){if(!o)throw new Error(ji(18));const{payloadCreator:u,fulfilled:c,pending:p,rejected:m,settled:g,options:v}=t,T=o(n,u,v);s.exposeAction(e,T),c&&s.addCase(T.fulfilled,c),p&&s.addCase(T.pending,p),m&&s.addCase(T.rejected,m),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:c||yh,pending:p||yh,rejected:m||yh,settled:g||yh})}function yh(){}function ji(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const XC={isMenuToggle:!1},uT=Jo({name:"ui",initialState:XC,reducers:{MenuToggle:n=>{n.isMenuToggle=!n.isMenuToggle}}}),{MenuToggle:cT}=uT.actions,WC=uT.reducer,ZC=()=>{};var W0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],c=n[t++],p=n[t++],m=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,p=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,v=u>>2,T=(u&3)<<4|p>>4;let w=(p&15)<<2|g>>6,R=g&63;m||(R=64,c||(w=64)),s.push(t[v],t[T],t[w],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||g==null||T==null)throw new ex;const w=u<<2|p>>4;if(s.push(w),g!==64){const R=p<<4&240|g>>2;if(s.push(R),T!==64){const U=g<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tx=function(n){const e=hT(n);return fT.encodeByteArray(e,!0)},$h=function(n){return tx(n).replace(/\./g,"")},dT=function(n){try{return fT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=()=>nx().__FIREBASE_DEFAULTS__,ix=()=>{if(typeof process>"u"||typeof W0>"u")return;const n=W0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dT(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return ZC()||rx()||ix()||sx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mT=n=>Sf()?.emulatorHosts?.[n],ax=n=>{const e=mT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},pT=()=>Sf()?.config,gT=n=>Sf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[$h(JSON.stringify(t)),$h(JSON.stringify(c)),""].join(".")}const Tu={};function ux(){const n={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?n.emulator.push(e):n.prod.push(e);return n}function cx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Z0=!1;function vT(n,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Tu[n]===e||Tu[n]||Z0)return;Tu[n]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=ux().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Z0=!0,c()},w}function v(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=cx(s),R=t("text"),U=document.getElementById(R)||document.createElement("span"),ee=t("learnmore"),L=document.getElementById(ee)||document.createElement("a"),j=t("preprendIcon"),W=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const te=w.element;p(te),v(L,ee);const de=g();m(W,j),te.append(W,U,L,de),document.body.appendChild(te)}u?(U.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function fx(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gx(){const n=An();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yx(){return!fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vx(){try{return typeof indexedDB=="object"}catch{return!1}}function _x(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="FirebaseError";class Gi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ex,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?Tx(u,s):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new Gi(o,p,s)}}function Tx(n,e){return n.replace(bx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bx=/\{\$([^}]+)}/g;function wx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pa(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=n[o],c=e[o];if(J0(u)&&J0(c)){if(!Pa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function J0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Sx(n,e){const t=new Ax(n,e);return t.subscribe.bind(t)}class Ax{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Rx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n){return n&&n._delegate?n._delegate:n}class Va{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ox;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ix(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xx(n){return n===Sa?void 0:n}function Ix(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const Nx={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},Mx=Ze.INFO,Ox={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},kx=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=Ox[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=Mx,this._logHandler=kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const Px=(n,e)=>e.some(t=>n instanceof t);let e1,t1;function Vx(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lx(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,_p=new WeakMap,ET=new WeakMap,Zm=new WeakMap,ag=new WeakMap;function Ux(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Is(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&_T.set(t,n)}).catch(()=>{}),ag.set(e,n),e}function jx(n){if(_p.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});_p.set(n,e)}let Ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _p.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ET.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zx(n){Ep=n(Ep)}function Bx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Jm(this),e,...t);return ET.set(s,e.sort?e.sort():[e]),Is(s)}:Lx().includes(n)?function(...e){return n.apply(Jm(this),e),Is(_T.get(this))}:function(...e){return Is(n.apply(Jm(this),e))}}function Hx(n){return typeof n=="function"?Bx(n):(n instanceof IDBTransaction&&jx(n),Px(n,Vx())?new Proxy(n,Ep):n)}function Is(n){if(n instanceof IDBRequest)return Ux(n);if(Zm.has(n))return Zm.get(n);const e=Hx(n);return e!==n&&(Zm.set(n,e),ag.set(e,n)),e}const Jm=n=>ag.get(n);function Fx(n,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(n,e),p=Is(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Is(c.result),m.oldVersion,m.newVersion,Is(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const qx=["get","getKey","getAll","getAllKeys","count"],Gx=["put","add","delete","clear"],ep=new Map;function n1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Gx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qx.includes(t)))return;const u=async function(c,...p){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[t](...p),o&&m.done]))[0]};return ep.set(e,u),u}zx(n=>({...n,get:(e,t,s)=>n1(e,t)||n.get(e,t,s),has:(e,t)=>!!n1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yx(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Yx(n){return n.getComponent()?.type==="VERSION"}const Tp="@firebase/app",r1="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new sg("@firebase/app"),$x="@firebase/app-compat",Qx="@firebase/analytics-compat",Xx="@firebase/analytics",Wx="@firebase/app-check-compat",Zx="@firebase/app-check",Jx="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",sI="@firebase/functions-compat",aI="@firebase/installations",oI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",dI="@firebase/remote-config-compat",mI="@firebase/storage",pI="@firebase/storage-compat",gI="@firebase/firestore",yI="@firebase/ai",vI="@firebase/firestore-compat",_I="firebase",EI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="[DEFAULT]",TI={[Tp]:"fire-core",[$x]:"fire-core-compat",[Xx]:"fire-analytics",[Qx]:"fire-analytics-compat",[Zx]:"fire-app-check",[Wx]:"fire-app-check-compat",[Jx]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[sI]:"fire-fn-compat",[aI]:"fire-iid",[oI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[dI]:"fire-rc-compat",[mI]:"fire-gcs",[pI]:"fire-gcs-compat",[gI]:"fire-fst",[vI]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,bI=new Map,wp=new Map;function i1(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(wp.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,n);for(const t of Qh.values())i1(t,n);for(const t of bI.values())i1(t,n);return!0}function og(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Br(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Fu("app","Firebase",wI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=EI;function TT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:bp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(t||(t=pT()),!t)throw Ds.create("no-options");const u=Qh.get(o);if(u){if(Pa(t,u.options)&&Pa(s,u.config))return u;throw Ds.create("duplicate-app",{appName:o})}const c=new Dx(o);for(const m of wp.values())c.addComponent(m);const p=new SI(t,s,c);return Qh.set(o,p),p}function bT(n=bp){const e=Qh.get(n);if(!e&&n===bp&&pT())return TT();if(!e)throw Ds.create("no-app",{appName:n});return e}function Ns(n,e,t){let s=TI[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(c.join(" "));return}qo(new Va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",RI=1,Mu="firebase-heartbeat-store";let tp=null;function wT(){return tp||(tp=Fx(AI,RI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ds.create("idb-open",{originalErrorMessage:n.message})})),tp}async function CI(n){try{const t=(await wT()).transaction(Mu),s=await t.objectStore(Mu).get(ST(n));return await t.done,s}catch(e){if(e instanceof Gi)Bi.warn(e.message);else{const t=Ds.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(t.message)}}}async function s1(n,e){try{const s=(await wT()).transaction(Mu,"readwrite");await s.objectStore(Mu).put(e,ST(n)),await s.done}catch(t){if(t instanceof Gi)Bi.warn(t.message);else{const s=Ds.create("idb-set",{originalErrorMessage:t?.message});Bi.warn(s.message)}}}function ST(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,II=30;class DI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>II){const o=OI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a1(),{heartbeatsToSend:t,unsentEntries:s}=NI(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Bi.warn(e),""}}}function a1(){return new Date().toISOString().substring(0,10)}function NI(n,e=xI){const t=[];let s=n.slice();for(const o of n){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),o1(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),o1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vx()?_x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o1(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function OI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n){qo(new Va("platform-logger",e=>new Kx(e),"PRIVATE")),qo(new Va("heartbeat",e=>new DI(e),"PRIVATE")),Ns(Tp,r1,n),Ns(Tp,r1,"esm2020"),Ns("fire-js","")}kI("");var PI="firebase",VI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(PI,VI,"app");function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=AT,RT=new Fu("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new sg("@firebase/auth");function UI(n,...e){Xh.logLevel<=Ze.WARN&&Xh.warn(`Auth (${tl}): ${n}`,...e)}function Ih(n,...e){Xh.logLevel<=Ze.ERROR&&Xh.error(`Auth (${tl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n,...e){throw ug(n,...e)}function qr(n,...e){return ug(n,...e)}function lg(n,e,t){const s={...LI(),[e]:t};return new Fu("auth","Firebase",s).create(e,{appName:n.name})}function Da(n){return lg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ui(n,"argument-error"),lg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return RT.create(n,...e)}function Pe(n,e,...t){if(!n)throw ug(e,...t)}function Li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function Hi(n,e){n||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(){return typeof self<"u"&&self.location?.href||""}function zI(){return l1()==="http:"||l1()==="https:"}function l1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||mx()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=hx()||px()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new Gu(3e4,6e4);function hg(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function nl(n,e,t,s,o={}){return xT(n,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const p=qu({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...u};return dx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&el(n.emulatorConfig.host)&&(g.credentials="include"),CT.fetch()(await IT(n,n.config.apiHost,t,p),g)})}async function xT(n,e,t){n._canInitEmulator=!1;const s={...FI,...e};try{const o=new YI(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw vh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const p=u.ok?c.errorMessage:c.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw vh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw vh(n,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lg(n,v,g);ui(n,v)}}catch(o){if(o instanceof Gi)throw o;ui(n,"network-request-failed",{message:String(o)})}}async function KI(n,e,t,s,o={}){const u=await nl(n,e,t,s,o);return"mfaPendingCredential"in u&&ui(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(n,e,t,s){const o=`${e}${t}?${s}`,u=n,c=u.config.emulator?cg(n.config,o):`${n.config.apiScheme}://${o}`;return qI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class YI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(qr(this.auth,"network-request-failed")),GI.get())})}}function vh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=qr(n,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(n,e){return nl(n,"POST","/v1/accounts:delete",e)}async function Wh(n,e){return nl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(n,e=!1){const t=Ar(n),s=await t.getIdToken(e),o=fg(s);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:bu(np(o.auth_time)),issuedAtTime:bu(np(o.iat)),expirationTime:bu(np(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(n){return Number(n)*1e3}function fg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=dT(t);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u1(n){const e=fg(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Gi&&XI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function XI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){const e=n.auth,t=await n.getIdToken(),s=await Ou(n,Wh(e,{idToken:t}));Pe(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?DT(o.providerUserInfo):[],c=JI(n.providerData,u),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,g=p?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function ZI(n){const e=Ar(n);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function DT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){const t=await xT(n,{},async()=>{const s=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await IT(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&el(n.emulatorConfig.host)&&(m.credentials="include"),CT.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tD(n,e){return nl(n,"POST","/v2/accounts:revokeToken",hg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=u1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await eD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new Lo;return s&&(Pe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Pe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Hr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new WI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(Da(this.auth));const e=await this.getIdToken();return await Ou(this,$I(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:R,providerData:U,stsTokenManager:ee}=t;Pe(T&&ee,e,"internal-error");const L=Lo.fromJSON(this.name,ee);Pe(typeof T=="string",e,"internal-error"),Es(s,e.name),Es(o,e.name),Pe(typeof w=="boolean",e,"internal-error"),Pe(typeof R=="boolean",e,"internal-error"),Es(u,e.name),Es(c,e.name),Es(p,e.name),Es(m,e.name),Es(g,e.name),Es(v,e.name);const j=new Hr({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:u,tenantId:p,stsTokenManager:L,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(j.providerData=U.map(W=>({...W}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(e,t,s=!1){const o=new Lo;o.updateFromServerResponse(t);const u=new Hr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?DT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,p=new Lo;p.updateFromIdToken(s);const m=new Hr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function Ui(n){Hi(n instanceof Function,"Expected a class definition");let e=c1.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NT.type="NONE";const h1=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n,e,t){return`firebase:${n}:${e}:${t}`}class Uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Dh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wh(this.auth,{idToken:e}).catch(()=>{});return t?Hr._fromGetAccountInfoResponse(this.auth,t,e):null}return Hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Uo(Ui(h1),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ui(h1);const c=Dh(s,e.config.apiKey,e.name);let p=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const w=await Wh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await Hr._fromGetAccountInfoResponse(e,w,v)}else T=Hr._fromJSON(e,v);g!==u&&(p=T),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new Uo(u,e,s):(u=m[0],p&&await u._set(c,p.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(UT(e))return"Webos";if(OT(e))return"Safari";if((e.includes("chrome/")||kT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function MT(n=An()){return/firefox\//i.test(n)}function OT(n=An()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kT(n=An()){return/crios\//i.test(n)}function PT(n=An()){return/iemobile/i.test(n)}function VT(n=An()){return/android/i.test(n)}function LT(n=An()){return/blackberry/i.test(n)}function UT(n=An()){return/webos/i.test(n)}function dg(n=An()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nD(n=An()){return dg(n)&&!!window.navigator?.standalone}function rD(){return gx()&&document.documentMode===10}function jT(n=An()){return dg(n)||VT(n)||UT(n)||LT(n)||/windows phone/i.test(n)||PT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n,e=[]){let t;switch(n){case"Browser":t=f1(An());break;case"Worker":t=`${f1(An())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,p)=>{try{const m=e(u);c(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e={}){return nl(n,"GET","/v2/passwordPolicy",hg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=6;class oD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??aD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d1(this),this.idTokenSubscription=new d1(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wh(this,{idToken:e}),s=await Hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Br(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===c)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(Da(this));const t=e?Ar(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(Da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(Da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sD(this),t=new oD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await tD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ui(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(p,this,"internal-error"),p.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Af(n){return Ar(n)}class d1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sx(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(n){mg=n}function cD(n){return mg.loadJS(n)}function hD(){return mg.gapiScript}function fD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(n,e){const t=og(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Pa(u,e??{}))return o;ui(o,"already-initialized")}return t.initialize({options:e})}function mD(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function pD(n,e,t){const s=Af(n);Pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=BT(e),{host:c,port:p}=gD(e),m=p===null?"":`:${p}`,g={url:`${u}//${c}${m}/`},v=Object.freeze({host:c,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Pe(Pa(g,s.config.emulator)&&Pa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,el(c)?(yT(`${u}//${c}${m}`),vT("Auth",!0)):yD()}function BT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gD(n){const e=BT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:m1(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:m1(c)}}}function m1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,t){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return KI(n,"POST","/v1/accounts:signInWithIdp",hg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="http://localhost";class La extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new La(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:vD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Ku{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return La._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Vi.credential(t,s)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ku{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ku{constructor(){super("twitter.com")}static credential(e,t){return La._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Cs.credential(t,s)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Hr._fromIdTokenResponse(e,s,o),c=p1(s);return new Go({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=p1(s);return new Go({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function p1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Gi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Jh(e,t,s,o)}}function FT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(n,u,e,s):u})}async function _D(n,e,t=!1){const s=await Ou(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Go._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(n,e,t=!1){const{auth:s}=n;if(Br(s.app))return Promise.reject(Da(s));const o="reauthenticate";try{const u=await Ou(n,FT(s,o,e,n),t);Pe(u.idToken,s,"internal-error");const c=fg(u.idToken);Pe(c,s,"internal-error");const{sub:p}=c;return Pe(n.uid===p,s,"user-mismatch"),Go._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(n,e,t=!1){if(Br(n.app))return Promise.reject(Da(n));const s="signIn",o=await FT(n,s,e),u=await Go._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(u.user),u}function bD(n,e,t,s){return Ar(n).onIdTokenChanged(e,t,s)}function wD(n,e,t){return Ar(n).beforeAuthStateChanged(e,t)}function qT(n){return Ar(n).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,AD=10;class KT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,p,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);rD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const RD=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YT.type="SESSION";const $T=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(c).map(async g=>g(t.origin,u)),m=await CD(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((p,m)=>{const g=gg("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function ID(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function DD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){return navigator?.serviceWorker?.controller||null}function MD(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",OD=1,tf="firebaseLocalStorage",WT="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function kD(){const n=indexedDB.deleteDatabase(XT);return new Yu(n).toPromise()}function Rp(){const n=indexedDB.open(XT,OD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(tf,{keyPath:WT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await kD(),e(await Rp()))})})}async function g1(n,e,t){const s=Cf(n,!0).put({[WT]:e,value:t});return new Yu(s).toPromise()}async function PD(n,e){const t=Cf(n,!1).get(e),s=await new Yu(t).toPromise();return s===void 0?null:s.value}function y1(n,e){const t=Cf(n,!0).delete(e);return new Yu(t).toPromise()}const VD=800,LD=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await g1(e,ef,"1"),await y1(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>g1(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>PD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Cf(o,!1).getAll();return new Yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const UD=ZT;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e){return e?Ui(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends HT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jD(n){return TD(n.auth,new yg(n),n.bypassAuthState)}function zD(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),ED(t,new yg(n),n.bypassAuthState)}async function BD(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),_D(t,new yg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:p}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return BD;case"reauthViaPopup":case"reauthViaRedirect":return zD;default:ui(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Gu(2e3,1e4);async function tb(n,e,t){if(Br(n.app))return Promise.reject(qr(n,"operation-not-supported-in-this-environment"));const s=Af(n);jI(n,e,pg);const o=JT(s,t);return new Ca(s,"signInViaPopup",e,o).executeNotNull()}class Ca extends eb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HD.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="pendingRedirect",Nh=new Map;class qD extends eb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(n,e){const t=$D(e),s=YD(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function KD(n,e){Nh.set(n._key(),e)}function YD(n){return Ui(n._redirectPersistence)}function $D(n){return Dh(FD,n.config.apiKey,n.name)}async function QD(n,e,t=!1){if(Br(n.app))return Promise.reject(Da(n));const s=Af(n),o=JT(s,e),c=await new qD(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=600*1e3;class WD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(qr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XD&&this.cachedEventUids.clear(),this.cachedEventUids.has(v1(e))}saveEventToCache(e){this.cachedEventUids.add(v1(e)),this.lastProcessedEventTime=Date.now()}}function v1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ZD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,e={}){return nl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function n4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JD(n);for(const t of e)try{if(r4(t))return}catch{}ui(n,"unauthorized-domain")}function r4(n){const e=Sp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!t4.test(t))return!1;if(e4.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Gu(3e4,6e4);function _1(){const n=ri().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function s4(n){return new Promise((e,t)=>{function s(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),t(qr(n,"network-request-failed"))},timeout:i4.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)s();else{const o=fD("iframefcb");return ri()[o]=()=>{gapi.load?s():t(qr(n,"network-request-failed"))},cD(`${hD()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Mh=null,e})}let Mh=null;function a4(n){return Mh=Mh||s4(n),Mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Gu(5e3,15e3),l4="__/auth/iframe",u4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f4(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cg(e,u4):`https://${n.config.authDomain}/${l4}`,s={apiKey:e.apiKey,appName:n.name,v:tl},o=h4.get(n.config.apiHost);o&&(s.eid=o);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${qu(s).slice(1)}`}async function d4(n){const e=await a4(n),t=ri().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:f4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=qr(n,"network-request-failed"),p=ri().setTimeout(()=>{u(c)},o4.get());function m(){ri().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,g4=600,y4="_blank",v4="http://localhost";class E1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(n,e,t,s=p4,o=g4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...m4,width:s.toString(),height:o.toString(),top:u,left:c},g=An().toLowerCase();t&&(p=kT(g)?y4:t),MT(g)&&(e=e||v4,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[R,U])=>`${w}${R}=${U},`,"");if(nD(g)&&p!=="_self")return E4(e||"",p),new E1(null);const T=window.open(e||"",p,v);Pe(T,n,"popup-blocked");try{T.focus()}catch{}return new E1(T)}function E4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="__/auth/handler",b4="emulator/auth/handler",w4=encodeURIComponent("fac");async function T1(n,e,t,s,o,u){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:tl,eventId:o};if(e instanceof pg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",wx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Ku){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await n._getAppCheckToken(),g=m?`#${w4}=${encodeURIComponent(m)}`:"";return`${S4(n)}?${qu(p).slice(1)}${g}`}function S4({config:n}){return n.emulator?cg(n,b4):`https://${n.authDomain}/${T4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class A4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=QD,this._overrideRedirectResult=KD}async _openPopup(e,t,s,o){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await T1(e,t,s,Sp(),o);return _4(e,u,gg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await T1(e,t,s,Sp(),o);return ID(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Hi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await d4(e),s=new WD(e);return t.register("authEvent",o=>(Pe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{const u=o?.[0]?.[rp];u!==void 0&&t(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=n4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||OT()||dg()}}const R4=A4;var b1="@firebase/auth",w1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I4(n){qo(new Va("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=s.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zT(n)},g=new lD(s,o,u,m);return mD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),qo(new Va("auth-internal",e=>{const t=Af(e.getProvider("auth").getImmediate());return(s=>new C4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(b1,w1,x4(n)),Ns(b1,w1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=300,N4=gT("authIdTokenMaxAge")||D4;let S1=null;const M4=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>N4)return;const o=t?.token;S1!==o&&(S1=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function O4(n=bT()){const e=og(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dD(n,{popupRedirectResolver:R4,persistence:[UD,RD,$T]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=M4(u.toString());wD(t,c,()=>c(t.currentUser)),bD(t,p=>c(p))}}const o=mT("auth");return o&&pD(t,`http://${o}`),t}function k4(){return document.getElementsByTagName("head")?.[0]??document}uD({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const u=qr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",k4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I4("Browser");var A1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,rb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,k,B){for(var D=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)D[Ve-2]=arguments[Ve];return A.prototype[k].apply(P,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(k=0;k<16;++k)P[k]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],k=I.g[2];let B=I.g[3],D;D=A+(B^C&(k^B))+P[0]+3614090360&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(k^A&(C^k))+P[1]+3905402710&4294967295,B=A+(D<<12&4294967295|D>>>20),D=k+(C^B&(A^C))+P[2]+606105819&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(A^k&(B^A))+P[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=A+(B^C&(k^B))+P[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(k^A&(C^k))+P[5]+1200080426&4294967295,B=A+(D<<12&4294967295|D>>>20),D=k+(C^B&(A^C))+P[6]+2821735955&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(A^k&(B^A))+P[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=A+(B^C&(k^B))+P[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(k^A&(C^k))+P[9]+2336552879&4294967295,B=A+(D<<12&4294967295|D>>>20),D=k+(C^B&(A^C))+P[10]+4294925233&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(A^k&(B^A))+P[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=A+(B^C&(k^B))+P[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=B+(k^A&(C^k))+P[13]+4254626195&4294967295,B=A+(D<<12&4294967295|D>>>20),D=k+(C^B&(A^C))+P[14]+2792965006&4294967295,k=B+(D<<17&4294967295|D>>>15),D=C+(A^k&(B^A))+P[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=A+(k^B&(C^k))+P[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(A^C))+P[6]+3225465664&4294967295,B=A+(D<<9&4294967295|D>>>23),D=k+(A^C&(B^A))+P[11]+643717713&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(k^B))+P[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=A+(k^B&(C^k))+P[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(A^C))+P[10]+38016083&4294967295,B=A+(D<<9&4294967295|D>>>23),D=k+(A^C&(B^A))+P[15]+3634488961&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(k^B))+P[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=A+(k^B&(C^k))+P[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(A^C))+P[14]+3275163606&4294967295,B=A+(D<<9&4294967295|D>>>23),D=k+(A^C&(B^A))+P[3]+4107603335&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(k^B))+P[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=A+(k^B&(C^k))+P[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=B+(C^k&(A^C))+P[2]+4243563512&4294967295,B=A+(D<<9&4294967295|D>>>23),D=k+(A^C&(B^A))+P[7]+1735328473&4294967295,k=B+(D<<14&4294967295|D>>>18),D=C+(B^A&(k^B))+P[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=A+(C^k^B)+P[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^k)+P[8]+2272392833&4294967295,B=A+(D<<11&4294967295|D>>>21),D=k+(B^A^C)+P[11]+1839030562&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^A)+P[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=A+(C^k^B)+P[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^k)+P[4]+1272893353&4294967295,B=A+(D<<11&4294967295|D>>>21),D=k+(B^A^C)+P[7]+4139469664&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^A)+P[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=A+(C^k^B)+P[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^k)+P[0]+3936430074&4294967295,B=A+(D<<11&4294967295|D>>>21),D=k+(B^A^C)+P[3]+3572445317&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^A)+P[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=A+(C^k^B)+P[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=B+(A^C^k)+P[12]+3873151461&4294967295,B=A+(D<<11&4294967295|D>>>21),D=k+(B^A^C)+P[15]+530742520&4294967295,k=B+(D<<16&4294967295|D>>>16),D=C+(k^B^A)+P[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=A+(k^(C|~B))+P[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~k))+P[7]+1126891415&4294967295,B=A+(D<<10&4294967295|D>>>22),D=k+(A^(B|~C))+P[14]+2878612391&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~A))+P[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=A+(k^(C|~B))+P[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~k))+P[3]+2399980690&4294967295,B=A+(D<<10&4294967295|D>>>22),D=k+(A^(B|~C))+P[10]+4293915773&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~A))+P[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=A+(k^(C|~B))+P[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~k))+P[15]+4264355552&4294967295,B=A+(D<<10&4294967295|D>>>22),D=k+(A^(B|~C))+P[6]+2734768916&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~A))+P[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=A+(k^(C|~B))+P[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=B+(C^(A|~k))+P[11]+3174756917&4294967295,B=A+(D<<10&4294967295|D>>>22),D=k+(A^(B|~C))+P[2]+718787259&4294967295,k=B+(D<<15&4294967295|D>>>17),D=C+(B^(k|~A))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,P=this.C;let k=this.h,B=0;for(;B<A;){if(k==0)for(;B<=C;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<A;)if(P[k++]=I.charCodeAt(B++),k==this.blockSize){o(this,P),k=0;break}}else for(;B<A;)if(P[k++]=I[B++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[A++]=this.g[C]>>>P&255;return I};function u(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function c(I,A){this.h=A;const C=[];let P=!0;for(let k=I.length-1;k>=0;k--){const B=I[k]|0;P&&B==A||(C[k]=B,P=!1)}this.g=C}var p={};function m(I){return-128<=I&&I<128?u(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return L(g(-I));const A=[];let C=1;for(let P=0;I>=C;P++)A[P]=I/C|0,C*=4294967296;return new c(A,0)}function v(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return L(v(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let P=T;for(let B=0;B<I.length;B+=8){var k=Math.min(8,I.length-B);const D=parseInt(I.substring(B,B+k),A);k<8?(k=g(Math.pow(A,k)),P=P.j(k).add(g(D))):(P=P.j(C),P=P.add(g(D)))}return P}var T=m(0),w=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(ee(this))return-L(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(ee(this))return"-"+L(this).toString(I);const A=g(Math.pow(I,6));var C=this;let P="";for(;;){const k=de(C,A).g;C=j(C,k.j(A));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=k,U(C))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function ee(I){return I.h==-1}n.l=function(I){return I=j(this,I),ee(I)?-1:U(I)?0:1};function L(I){const A=I.g.length,C=[];for(let P=0;P<A;P++)C[P]=~I.g[P];return new c(C,~I.h).add(w)}n.abs=function(){return ee(this)?L(this):this},n.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let k=0;k<=A;k++){let B=P+(this.i(k)&65535)+(I.i(k)&65535),D=(B>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=D>>>16,B&=65535,D&=65535,C[k]=D<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(I,A){return I.add(L(A))}n.j=function(I){if(U(this)||U(I))return T;if(ee(this))return ee(I)?L(this).j(L(I)):L(L(this).j(I));if(ee(I))return L(this.j(L(I)));if(this.l(R)<0&&I.l(R)<0)return g(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var P=0;P<2*A;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<I.g.length;k++){const B=this.i(P)>>>16,D=this.i(P)&65535,Ve=I.i(k)>>>16,$e=I.i(k)&65535;C[2*P+2*k]+=D*$e,W(C,2*P+2*k),C[2*P+2*k+1]+=B*$e,W(C,2*P+2*k+1),C[2*P+2*k+1]+=D*Ve,W(C,2*P+2*k+1),C[2*P+2*k+2]+=B*Ve,W(C,2*P+2*k+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new c(C,0)};function W(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function te(I,A){this.g=I,this.h=A}function de(I,A){if(U(A))throw Error("division by zero");if(U(I))return new te(T,T);if(ee(I))return A=de(L(I),A),new te(L(A.g),L(A.h));if(ee(A))return A=de(I,L(A)),new te(L(A.g),A.h);if(I.g.length>30){if(ee(I)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,P=A;P.l(I)<=0;)C=ne(C),P=ne(P);var k=z(C,1),B=z(P,1);for(P=z(P,2),C=z(C,2);!U(P);){var D=B.add(P);D.l(I)<=0&&(k=k.add(C),B=D),P=z(P,1),C=z(C,1)}return A=j(I,k.j(A)),new te(k,A)}for(k=T;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=g(C),D=B.j(A);ee(D)||D.l(I)>0;)C-=P,B=g(C),D=B.j(A);U(B)&&(B=w),k=k.add(B),I=j(I,D)}return new te(k,I)}n.B=function(I){return de(this,I).h},n.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)&I.i(P);return new c(C,this.h&I.h)},n.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)|I.i(P);return new c(C,this.h|I.h)},n.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<A;P++)C[P]=this.i(P)^I.i(P);return new c(C,this.h^I.h)};function ne(I){const A=I.g.length+1,C=[];for(let P=0;P<A;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new c(C,I.h)}function z(I,A){const C=A>>5;A%=32;const P=I.g.length-C,k=[];for(let B=0;B<P;B++)k[B]=A>0?I.i(B+C)>>>A|I.i(B+C+1)<<32-A:I.i(B+C);return new c(k,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ms=c}).apply(typeof A1<"u"?A1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,yu,sb,Oh,Cp,ab,ob,lb;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var _=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var K=h[S];if(!(K in _))break e;_=_[K]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,_){return h.call.apply(h.bind,arguments)}function g(h,y,_){return g=m,g.apply(null,arguments)}function v(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function _(){}_.prototype=y.prototype,h.Z=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(S,K,J){for(var me=Array(arguments.length-2),He=2;He<arguments.length;He++)me[He-2]=arguments[He];return y.prototype[K].apply(S,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function U(h,y){for(let S=1;S<arguments.length;S++){const K=arguments[S];var _=typeof K;if(_=_!="object"?_:K?Array.isArray(K)?"array":_:"null",_=="array"||_=="object"&&typeof K.length=="number"){_=h.length||0;const J=K.length||0;h.length=_+J;for(let me=0;me<J;me++)h[_+me]=K[me]}else h.push(K)}}class ee{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){c.setTimeout(()=>{throw h},0)}function j(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,_){const S=te.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new ee(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,I=new W,A=()=>{const h=Promise.resolve(void 0);ne=()=>{h.then(C)}};function C(){for(var h;h=j();){try{h.h.call(h.g)}catch(_){L(_)}var y=te;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}z=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};c.addEventListener("test",_,y),c.removeEventListener("test",_,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ve,k),Ve.prototype.init=function(h,y){const _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(_=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),$=0;function he(h,y,_,S,K){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=K,this.key=++$,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function O(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function ie(h){const y={};for(const _ in h)y[_]=h[_];return y}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,y){let _,S;for(let K=1;K<arguments.length;K++){S=arguments[K];for(_ in S)h[_]=S[_];for(let J=0;J<pe.length;J++)_=pe[J],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,y,_,S,K){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const me=Ie(h,y,S,K);return me>-1?(y=h[me],_||(y.fa=!1)):(y=new he(y,this.src,J,!!S,K),y.fa=_,h.push(y)),y};function qe(h,y){const _=y.type;if(_ in h.g){var S=h.g[_],K=Array.prototype.indexOf.call(S,y,void 0),J;(J=K>=0)&&Array.prototype.splice.call(S,K,1),J&&(ge(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ie(h,y,_,S){for(let K=0;K<h.length;++K){const J=h[K];if(!J.da&&J.listener==y&&J.capture==!!_&&J.ha==S)return K}return-1}var Kt="closure_lm_"+(Math.random()*1e6|0),at={};function zn(h,y,_,S,K){if(Array.isArray(y)){for(let J=0;J<y.length;J++)zn(h,y[J],_,S,K);return null}return _=Ka(_),h&&h[$e]?h.J(y,_,p(S)?!!S.capture:!1,K):Mt(h,y,_,!1,S,K)}function Mt(h,y,_,S,K,J){if(!y)throw Error("Invalid event type");const me=p(K)?!!K.capture:!!K;let He=qs(h);if(He||(h[Kt]=He=new Ee(h)),_=He.add(y,_,S,me,J),_.proxy)return _;if(S=Bn(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)B||(K=me),K===void 0&&(K=!1),h.addEventListener(y.toString(),S,K);else if(h.attachEvent)h.attachEvent(On(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bn(){function h(_){return y.call(h.src,h.listener,_)}const y=ll;return h}function mi(h,y,_,S,K){if(Array.isArray(y))for(var J=0;J<y.length;J++)mi(h,y[J],_,S,K);else S=p(S)?!!S.capture:!!S,_=Ka(_),h&&h[$e]?(h=h.i,J=String(y).toString(),J in h.g&&(y=h.g[J],_=Ie(y,_,S,K),_>-1&&(ge(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete h.g[J],h.h--)))):h&&(h=qs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ie(y,_,S,K)),(_=h>-1?y[h]:null)&&pi(_))}function pi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])qe(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(On(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=qs(y))?(qe(_,h),_.h==0&&(_.src=null,y[Kt]=null)):ge(h)}}}function On(h){return h in at?at[h]:at[h]="on"+h}function ll(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const _=h.listener,S=h.ha||h.src;h.fa&&pi(h),h=_.call(S,y)}return h}function qs(h){return h=h[Kt],h instanceof Ee?h:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ka(h){return typeof h=="function"?h:(h[ln]||(h[ln]=function(y){return h.handleEvent(y)}),h[ln])}function Pt(){P.call(this),this.i=new Ee(this),this.M=this,this.G=null}T(Pt,P),Pt.prototype[$e]=!0,Pt.prototype.removeEventListener=function(h,y,_,S){mi(this,h,y,_,S)};function zt(h,y){var _,S=h.G;if(S)for(_=[];S;S=S.G)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new k(y,h);else if(y instanceof k)y.target=y.target||h;else{var K=y;y=new k(S,h),fe(y,K)}K=!0;let J,me;if(_)for(me=_.length-1;me>=0;me--)J=y.g=_[me],K=Rr(J,S,!0,y)&&K;if(J=y.g=h,K=Rr(J,S,!0,y)&&K,K=Rr(J,S,!1,y)&&K,_)for(me=0;me<_.length;me++)J=y.g=_[me],K=Rr(J,S,!1,y)&&K}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const _=h.g[y];for(let S=0;S<_.length;S++)ge(_[S]);delete h.g[y],h.h--}}this.G=null},Pt.prototype.J=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},Pt.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function Rr(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let K=!0;for(let J=0;J<y.length;++J){const me=y[J];if(me&&!me.da&&me.capture==_){const He=me.listener,bt=me.ha||me.src;me.fa&&qe(h.i,me),K=He.call(bt,S)!==!1&&K}}return K&&!S.defaultPrevented}function Cr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xr(h){h.g=Cr(()=>{h.g=null,h.i&&(h.i=!1,xr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ya extends P{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(h){P.call(this),this.h=h,this.g={}}T(Ir,P);var un=[];function vt(h){ze(h.g,function(y,_){this.g.hasOwnProperty(_)&&pi(y)},h),h.g={}}Ir.prototype.N=function(){Ir.Z.N.call(this),vt(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=c.JSON.stringify,Yt=c.JSON.parse,ul=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Hn(){}function Gs(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dr(){k.call(this,"d")}T(Dr,k);function qn(){k.call(this,"c")}T(qn,k);var Cn={},Gn=null;function gi(){return Gn=Gn||new Pt}Cn.Ia="serverreachability";function yi(h){k.call(this,Cn.Ia,h)}T(yi,k);function Kr(h){const y=gi();zt(y,new yi(y))}Cn.STAT_EVENT="statevent";function vi(h,y){k.call(this,Cn.STAT_EVENT,h),this.stat=y}T(vi,k);function xt(h){const y=gi();zt(y,new vi(y,h))}Cn.Ja="timingevent";function Ks(h,y){k.call(this,Cn.Ja,h),this.size=y}T(Ks,k);function Kn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Ys(h,y,_,S,K,J){h.info(function(){if(h.g)if(J){var me="",He=J.split("&");for(let ut=0;ut<He.length;ut++){var bt=He[ut].split("=");if(bt.length>1){const Vt=bt[0];bt=bt[1];const Xn=Vt.split("_");me=Xn.length>=2&&Xn[1]=="type"?me+(Vt+"="+bt+"&"):me+(Vt+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+S+") [attempt "+K+"]: "+y+`
`+_+`
`+me})}function $s(h,y,_,S,K,J,me){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+K+"]: "+y+`
`+_+`
`+J+" "+me})}function M(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Z(h,_)+(S?" "+S:"")})}function q(h,y){h.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function Z(h,y){if(!h.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var _=J[h];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var K=S[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<S.length;me++)S[me]=""}}}}return Rn(J)}catch{return y}}var ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_e;function we(){}T(we,Hn),we.prototype.g=function(){return new XMLHttpRequest},_e=new we;function ve(h){return encodeURIComponent(String(h))}function Ce(h){var y=1;h=h.split(":");const _=[];for(;y>0&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function Ae(h,y,_,S){this.j=h,this.i=y,this.l=_,this.S=S||1,this.V=new Ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Se={},Be={};function tt(h,y,_){h.M=1,h.A=_i(It(y)),h.u=_,h.R=!0,gt(h,null)}function gt(h,y){h.F=Date.now(),xn(h),h.B=It(h.A);var _=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),tc(_.i,"t",S),h.C=0,_=h.j.L,h.h=new Te,h.g=eo(h.j,_?y:null,!h.u),h.P>0&&(h.O=new Ya(g(h.Y,h,h.g),h.P)),y=h.V,_=h.g,S=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(un[0]=K.toString()),K=un);for(let J=0;J<K.length;J++){const me=zn(_,K[J],S||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?ie(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Kr(),Ys(h.i,h.v,h.B,h.l,h.S,h.u)}Ae.prototype.ba=function(h){h=h.target;const y=this.O;y&&_n(h)==3?y.j():this.Y(h)},Ae.prototype.Y=function(h){try{if(h==this.g)e:{const He=_n(this.g),bt=this.g.ya(),ut=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||ta(this.g)))){this.K||He!=4||bt==7||(bt==8||ut<=0?Kr(3):Kr(2)),$t(this);var y=this.g.ca();this.X=y;var _=At(this);if(this.o=y==200,$s(this.i,this.v,this.B,this.l,this.S,He,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,K=this.g;if((S=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var J=S;break t}}J=null}if(h=J)M(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,lr(this,h);else{this.o=!1,this.m=3,xt(12),kn(this),en(this);break e}}if(this.R){h=!0;let Vt;for(;!this.K&&this.C<_.length;)if(Vt=ot(this,_),Vt==Be){He==4&&(this.m=4,xt(14),h=!1),M(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Se){this.m=4,xt(15),M(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else M(this.i,this.l,Vt,null),lr(this,Vt);if(Le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||_.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)M(this.i,this.l,_,"[Invalid Chunked Response]"),kn(this),en(this);else if(_.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),_l(me),me.P=!0,xt(11))}}else M(this.i,this.l,_,null),lr(this,_);He==4&&kn(this),this.o&&!this.K&&(He==4?El(this.j,this):(this.o=!1,xn(this)))}else na(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),kn(this),en(this)}}}catch{}finally{}};function At(h){if(!Le(h))return h.g.la();const y=ta(h.g);if(y==="")return"";let _="";const S=y.length,K=_n(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),en(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<S;J++)h.h.h=!0,_+=h.h.i.decode(y[J],{stream:!(K&&J==S-1)});return y.length=0,h.h.g+=_,h.C=0,h.h.g}function Le(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ot(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?Be:(_=Number(y.substring(_,S)),isNaN(_)?Se:(S+=1,S+_>y.length?Be:(y=y.slice(S,S+_),h.C=S+_,y)))}Ae.prototype.cancel=function(){this.K=!0,kn(this)};function xn(h){h.T=Date.now()+h.H,vn(h,h.H)}function vn(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Kn(g(h.aa,h),y)}function $t(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ae.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(q(this.i,this.B),this.M!=2&&(Kr(),xt(17)),kn(this),this.m=2,en(this)):vn(this,this.T-h)};function en(h){h.j.I==0||h.K||El(h.j,h)}function kn(h){$t(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,vt(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function lr(h,y){try{var _=h.j;if(_.I!=0&&(_.g==h||Rt(_.h,h))){if(!h.L&&Rt(_.h,h)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var K=S;if(K[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)Ja(_),Yr(_);else break e;vl(_),xt(18)}}else _.xa=K[1],0<_.xa-_.K&&K[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Kn(g(_.Va,_),6e3));Ue(_.h)<=1&&_.ta&&(_.ta=void 0)}else bi(_,11)}else if((h.L||_.g==h)&&Ja(_),!D(y))for(K=_.Ba.g.parse(y),y=0;y<K.length;y++){let ut=K[y];const Vt=ut[0];if(!(Vt<=_.K))if(_.K=Vt,ut=ut[1],_.I==2)if(ut[0]=="c"){_.M=ut[1],_.ba=ut[2];const Xn=ut[3];Xn!=null&&(_.ka=Xn,_.j.info("VER="+_.ka));const $r=ut[4];$r!=null&&(_.za=$r,_.j.info("SVER="+_.za));const kr=ut[5];kr!=null&&typeof kr=="number"&&kr>0&&(S=1.5*kr,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Pr=h.g;if(Pr){const Vr=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var J=S.h;J.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&($n(J,J.h),J.h=null))}if(S.G){const bl=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;bl&&(S.wa=bl,ft(S.J,S.G,bl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var me=h;if(S.na=cc(S,S.L?S.ba:null,S.W),me.L){cn(S.h,me);var He=me,bt=S.O;bt&&(He.H=bt),He.D&&($t(He),xn(He)),S.g=me}else ac(S);_.i.length>0&&aa(_)}else ut[0]!="stop"&&ut[0]!="close"||bi(_,7);else _.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?bi(_,7):ia(_):ut[0]!="noop"&&_.l&&_.l.qa(ut),_.A=0)}}Kr(4)}catch{}}var Nr=class{constructor(h,y){this.g=h,this.map=y}};function ur(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ue(h){return h.h?1:h.g?h.g.size:0}function Rt(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function $n(h,y){h.g?h.g.add(y):h.h=y}function cn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ur.prototype.cancel=function(){if(this.i=_t(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _t(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.G);return y}return R(h.i)}var Mr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(h,y){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const S=h[_].indexOf("=");let K,J=null;S>=0?(K=h[_].substring(0,S),J=h[_].substring(S+1)):K=h[_],y(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Qn?(this.l=h.l,Ki(this,h.j),this.o=h.o,this.g=h.g,Qs(this,h.u),this.h=h.h,Yi(this,nc(h.i)),this.m=h.m):h&&(y=String(h).match(Mr))?(this.l=!1,Ki(this,y[1]||"",!0),this.o=Xs(y[2]||""),this.g=Xs(y[3]||"",!0),Qs(this,y[4]),this.h=Xs(y[5]||"",!0),Yi(this,y[6]||"",!0),this.m=Xs(y[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}Qn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(tn(y,hl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(tn(y,hl,!0),"@"),h.push(ve(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(tn(_,_.charAt(0)=="/"?$i:fl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",tn(_,ec)),h.join("")},Qn.prototype.resolve=function(h){const y=It(this);let _=!!h.j;_?Ki(y,h.j):_=!!h.o,_?y.o=h.o:_=!!h.g,_?y.g=h.g:_=h.u!=null;var S=h.h;if(_)Qs(y,h.u);else if(_=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var K=y.h.lastIndexOf("/");K!=-1&&(S=y.h.slice(0,K+1)+S)}if(K=S,K==".."||K==".")S="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){S=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let me=0;me<K.length;){const He=K[me++];He=="."?S&&me==K.length&&J.push(""):He==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),S&&me==K.length&&J.push("")):(J.push(He),S=!0)}S=J.join("/")}else S=K}return _?y.h=S:_=h.i.toString()!=="",_?Yi(y,nc(h.i)):_=!!h.m,_&&(y.m=h.m),y};function It(h){return new Qn(h)}function Ki(h,y,_){h.j=_?Xs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qs(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Yi(h,y,_){y instanceof hr?(h.i=y,pl(h.i,h.l)):(_||(y=tn(y,Ju)),h.i=new hr(y,h.l))}function ft(h,y,_){h.i.set(y,_)}function _i(h){return ft(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function tn(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,cl),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,$i=/[#\?]/g,Ju=/[#\?@]/g,ec=/#/g;function hr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ei(h){h.g||(h.g=new Map,h.h=0,h.i&&$a(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=hr.prototype,n.add=function(h,y){Ei(this),this.i=null,h=Or(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function dl(h,y){Ei(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ml(h,y){return Ei(h),y=Or(h,y),h.g.has(y)}n.forEach=function(h,y){Ei(this),this.g.forEach(function(_,S){_.forEach(function(K){h.call(y,K,S,this)},this)},this)};function Qa(h,y){Ei(h);let _=[];if(typeof y=="string")ml(h,y)&&(_=_.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)_=_.concat(h[y]);return _}n.set=function(h,y){return Ei(this),this.i=null,h=Or(this,h),ml(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Qa(this,h),h.length>0?String(h[0]):y):y};function tc(h,y,_){dl(h,y),_.length>0&&(h.i=null,h.g.set(Or(h,y),R(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const K=ve(_);_=Qa(this,_);for(let J=0;J<_.length;J++){let me=K;_[J]!==""&&(me+="="+ve(_[J])),h.push(me)}}return this.i=h.join("&")};function nc(h){const y=new hr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function pl(h,y){y&&!h.j&&(Ei(h),h.i=null,h.g.forEach(function(_,S){const K=S.toLowerCase();S!=K&&(dl(this,S),tc(this,K,_))},h)),h.j=y}function gl(h,y){const _=new Yn;if(c.Image){const S=new Image;S.onload=v(In,_,"TestLoadImage: loaded",!0,y,S),S.onerror=v(In,_,"TestLoadImage: error",!1,y,S),S.onabort=v(In,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(In,_,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Qi(h,y){const _=new Yn,S=new AbortController,K=setTimeout(()=>{S.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(J=>{clearTimeout(K),J.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),In(_,"TestPingServer: error",!1,y)})}function In(h,y,_,S,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),S(_)}catch{}}function rc(){this.g=new ul}function Ws(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ws,Hn),Ws.prototype.g=function(){return new Zs(this.i,this.h)};function Zs(h,y){Pt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Zs,Pt),n=Zs.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ti(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Dn(this):Ti(this),this.readyState==3&&Xi(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Dn(this))},n.Na=function(h){this.g&&(this.response=h,Dn(this))},n.ga=function(){this.g&&Dn(this)};function Dn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ti(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wi(h){let y="";return ze(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function fr(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Wi(_),typeof h=="string"?_!=null&&ve(_):ft(h,y,_))}function Et(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Et,Pt);var Xa=/^https?$/i,ic=["POST","PUT"];n=Et.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){Js(this,J);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var K in S)_.set(K,S[K]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())_.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ic,y,void 0)>=0)||S||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of _)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Js(this,J)}};function Js(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ea(h),Qt(h)}function ea(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),Qt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qt(this,!0)),Et.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?yl(this):this.Xa())},n.Xa=function(){yl(this)};function yl(h){if(h.h&&typeof u<"u"){if(h.v&&_n(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),_n(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=J===0){let me=String(h.D).match(Mr)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),S=!Xa.test(me?me.toLowerCase():"")}_=S}if(_)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var K=_n(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",ea(h)}}finally{Qt(h)}}}}function Qt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,y||zt(h,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _n(h){return h.g?h.g.readyState:0}n.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Yt(y)}};function ta(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function na(h){const y={};h=(h.g&&_n(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(D(h[S]))continue;var _=Ce(h[S]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=y[K]||[];y[K]=J,J.push(_)}O(y,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Wa(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ra("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ra("baseRetryDelayMs",5e3,h),this.Za=ra("retryDelaySeedMs",1e4,h),this.Ta=ra("forwardChannelMaxRetries",2,h),this.va=ra("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ur(h&&h.concurrentRequestLimit),this.Ba=new rc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Wa.prototype,n.ka=8,n.I=1,n.connect=function(h,y,_,S){xt(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=cc(this,null,this.W),aa(this)};function ia(h){if(sa(h),h.I==3){var y=h.V++,_=It(h.J);if(ft(_,"SID",h.M),ft(_,"RID",y),ft(_,"TYPE","terminate"),oa(h,_),y=new Ae(h,h.j,y),y.M=2,y.A=_i(It(_)),_=!1,c.navigator&&c.navigator.sendBeacon)try{_=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&c.Image&&(new Image().src=y.A,_=!0),_||(y.g=eo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xn(y)}uc(h)}function Yr(h){h.g&&(_l(h),h.g.cancel(),h.g=null)}function sa(h){Yr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ja(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function aa(h){if(!cr(h.h)&&!h.m){h.m=!0;var y=h.Ea;ne||A(),z||(ne(),z=!0),I.add(y,h),h.D=0}}function Ff(h,y){return Ue(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Kn(g(h.Ea,h,y),lc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new Ae(this,this.j,h);let J=this.o;if(this.U&&(J?(J=ie(J),fe(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Za(this,K,y),_=It(this.J),ft(_,"RID",h),ft(_,"CVER",22),this.G&&ft(_,"X-HTTP-Session-Id",this.G),oa(this,_),J&&(this.R?y="headers="+ve(Wi(J))+"&"+y:this.u&&fr(_,this.u,J)),$n(this.h,K),this.Ra&&ft(_,"TYPE","init"),this.S?(ft(_,"$req",y),ft(_,"SID","null"),K.U=!0,tt(K,_,null)):tt(K,_,y),this.I=2}}else this.I==3&&(h?sc(this,h):this.i.length==0||cr(this.h)||sc(this))};function sc(h,y){var _;y?_=y.l:_=h.V++;const S=It(h.J);ft(S,"SID",h.M),ft(S,"RID",_),ft(S,"AID",h.K),oa(h,S),h.u&&h.o&&fr(S,h.u,h.o),_=new Ae(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Za(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),$n(h.h,_),tt(_,S,y)}function oa(h,y){h.H&&ze(h.H,function(_,S){ft(y,S,_)}),h.l&&ze({},function(_,S){ft(y,S,_)})}function Za(h,y,_){_=Math.min(h.i.length,_);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let He=-1;for(;;){const bt=["count="+_];He==-1?_>0?(He=K[0].g,bt.push("ofs="+He)):He=0:bt.push("ofs="+He);let ut=!0;for(let Vt=0;Vt<_;Vt++){var J=K[Vt].g;const Xn=K[Vt].map;if(J-=He,J<0)He=Math.max(0,K[Vt].g-100),ut=!1;else try{J="req"+J+"_"||"";try{var me=Xn instanceof Map?Xn:Object.entries(Xn);for(const[$r,kr]of me){let Pr=kr;p(kr)&&(Pr=Rn(kr)),bt.push(J+$r+"="+encodeURIComponent(Pr))}}catch($r){throw bt.push(J+"type="+encodeURIComponent("_badmap")),$r}}catch{S&&S(Xn)}}if(ut){me=bt.join("&");break e}}me=void 0}return h=h.i.splice(0,_),y.G=h,me}function ac(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ne||A(),z||(ne(),z=!0),I.add(y,h),h.A=0}}function vl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Kn(g(h.Da,h),lc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Kn(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Yr(this),oc(this))};function _l(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oc(h){h.g=new Ae(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=It(h.na);ft(y,"RID","rpc"),ft(y,"SID",h.M),ft(y,"AID",h.K),ft(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&ft(y,"TO",h.ia),ft(y,"TYPE","xmlhttp"),oa(h,y),h.u&&h.o&&fr(y,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=_i(It(y)),_.u=null,_.R=!0,gt(_,h)}n.Va=function(){this.C!=null&&(this.C=null,Yr(this),vl(this),xt(19))};function Ja(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function El(h,y){var _=null;if(h.g==y){Ja(h),_l(h),h.g=null;var S=2}else if(Rt(h.h,y))_=y.G,cn(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var K=h.D;S=gi(),zt(S,new Ks(S,_)),aa(h)}else ac(h);else if(K=y.m,K==3||K==0&&y.X>0||!(S==1&&Ff(h,y)||S==2&&vl(h)))switch(_&&_.length>0&&(y=h.h,y.i=y.i.concat(_)),K){case 1:bi(h,5);break;case 4:bi(h,10);break;case 3:bi(h,6);break;default:bi(h,2)}}}function lc(h,y){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*y}function bi(h,y){if(h.j.info("Error code "+y),y==2){var _=g(h.bb,h),S=h.Ua;const K=!S;S=new Qn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ki(S,"https"),_i(S),K?gl(S.toString(),_):Qi(S.toString(),_)}else xt(2);h.I=0,h.l&&h.l.pa(y),uc(h),sa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function uc(h){if(h.I=0,h.ja=[],h.l){const y=_t(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function cc(h,y,_){var S=_ instanceof Qn?It(_):new Qn(_);if(S.g!="")y&&(S.g=y+"."+S.g),Qs(S,S.u);else{var K=c.location;S=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;const J=new Qn(null);S&&Ki(J,S),y&&(J.g=y),K&&Qs(J,K),_&&(J.h=_),S=J}return _=h.G,y=h.wa,_&&y&&ft(S,_,y),ft(S,"VER",h.ka),oa(h,S),S}function eo(h,y,_){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Et(new Ws({ab:_})):new Et(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}n=hc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function to(){}to.prototype.g=function(h,y){return new Nn(h,y)};function Nn(h,y){Pt.call(this),this.g=new Wa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Zi(this)}T(Nn,Pt),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){ia(this.g)},Nn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=Rn(h),h=_);y.i.push(new Nr(y.Ya++,h)),y.I==3&&aa(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,ia(this.g),delete this.g,Nn.Z.N.call(this)};function Tl(h){Dr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Tl,Dr);function fc(){qn.call(this),this.status=1}T(fc,qn);function Zi(h){this.g=h}T(Zi,hc),Zi.prototype.ra=function(){zt(this.g,"a")},Zi.prototype.qa=function(h){zt(this.g,new Tl(h))},Zi.prototype.pa=function(h){zt(this.g,new fc)},Zi.prototype.oa=function(){zt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,lb=function(){return new to},ob=function(){return gi()},ab=Cn,Cp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Oh=ae,ce.COMPLETE="complete",sb=ce,Gs.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,yu=Gs,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,ib=Et}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore",C1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new sg("@firebase/firestore");function Mo(){return Ua.logLevel}function ye(n,...e){if(Ua.logLevel<=Ze.DEBUG){const t=e.map(vg);Ua.debug(`Firestore (${rl}): ${n}`,...t)}}function Fi(n,...e){if(Ua.logLevel<=Ze.ERROR){const t=e.map(vg);Ua.error(`Firestore (${rl}): ${n}`,...t)}}function Ko(n,...e){if(Ua.logLevel<=Ze.WARN){const t=e.map(vg);Ua.warn(`Firestore (${rl}): ${n}`,...t)}}function vg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ub(n,s,t)}function ub(n,e,t){let s=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Fi(s),new Error(s)}function lt(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||ub(e,o,s)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Gi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wn.UNAUTHENTICATED)))}shutdown(){}}class V4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){lt(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let u=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Os,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Os)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(lt(typeof s.accessToken=="string",31837,{l:s}),new cb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class U4{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j4{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new U4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){lt(this.o===void 0,3512);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(lt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=B4(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Je(n,e){return n<e?-1:n>e?1:0}function xp(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),u=e.charAt(s);if(o!==u)return ip(o)===ip(u)?Je(o,u):ip(o)?1:-1}return Je(n.length,e.length)}const H4=55296,F4=57343;function ip(n){const e=n.charCodeAt(0);return e>=H4&&e<=F4}function Yo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class ei{constructor(e,t,s){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Oe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=ei.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Je(e.length,t.length)}static compareSegments(e,t){const s=ei.isNumericId(e),o=ei.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(t)):xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class wt extends ei{construct(e,t,s){return new wt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const q4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ei{construct(e,t,s){return new gn(e,t,s)}static isValidIdentifier(e){return q4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new gn([I1])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(s+=p,o++):(u(),o++)}if(u(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(wt.fromString(e))}static fromName(e){return new De(wt.fromString(e).popFirst(5))}static empty(){return new De(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e,t){if(!t)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G4(n,e,t,s){if(e===!0&&s===!0)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function D1(n){if(!De.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N1(n){if(De.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function $o(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function $u(n,e){if(!fb(n))throw new Re(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new Re(ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=-62135596800,O1=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*O1);return new St(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<M1)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O1}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($u(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:qt("string",St._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new St(0,0))}static max(){return new je(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function K4(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(s===1e9?new St(t+1,0):new St(t,s));return new Ls(o,De.empty(),e)}function Y4(n){return new Ls(n.readTime,n.key,ku)}class Ls{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ls(je.min(),De.empty(),ku)}static max(){return new Ls(je.max(),De.empty(),ku)}}function $4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==Q4)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):le.reject(t)}static resolve(e){return new le(((t,s)=>{t(e)}))}static reject(e){return new le(((t,s)=>{s(e)}))}static waitFor(e){return new le(((t,s)=>{let o=0,u=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&t()}),(m=>s(m)))})),c=!0,u===o&&t()}))}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next((o=>o?le.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new le(((s,o)=>{const u=e.length,c=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++p,p===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new le(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function W4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function If(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function Z4(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="";function J4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=k1(e)),e=eN(n.get(t),e);return k1(e)}function eN(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case db:t+="";break;default:t+=u}}return t}function k1(n){return n+db+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||pn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??pn.RED,this.left=o??pn.EMPTY,this.right=u??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new pn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Fr([])}unionWith(e){let t=new Jt(gn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pb("Invalid base64 string: "+u):u}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(lt(!!n,39018),typeof n=="string"){let e=0;const t=tN.exec(n);if(lt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(n.seconds),nanos:jt(n.nanos)}}function jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="server_timestamp",yb="__type__",vb="__previous_value__",_b="__local_write_time__";function bg(n){return(n?.mapValue?.fields||{})[yb]?.stringValue===gb}function Df(n){const e=n.mapValue.fields[vb];return bg(e)?Df(e):e}function Pu(n){const e=Us(n.mapValue.fields[_b].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,s,o,u,c,p,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const rf="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",rN="__max__",Th={mapValue:{}},Tb="__vector__",sf="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bg(n)?4:sN(n)?9007199254740991:iN(n)?10:11:Oe(28295,{value:n})}function ci(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pu(n).isEqual(Pu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Us(o.timestampValue),p=Us(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return js(o.bytesValue).isEqual(js(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return jt(o.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return jt(o.integerValue)===jt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=jt(o.doubleValue),p=jt(u.doubleValue);return c===p?nf(c)===nf(p):isNaN(c)&&isNaN(p)}return!1})(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(P1(c)!==P1(p))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(p[m]===void 0||!ci(c[m],p[m])))return!1;return!0})(n,e);default:return Oe(52216,{left:n})}}function Lu(n,e){return(n.values||[]).find((t=>ci(t,e)))!==void 0}function Qo(n,e){if(n===e)return 0;const t=zs(n),s=zs(e);if(t!==s)return Je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return(function(u,c){const p=jt(u.integerValue||u.doubleValue),m=jt(c.integerValue||c.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return L1(n.timestampValue,e.timestampValue);case 4:return L1(Pu(n),Pu(e));case 5:return xp(n.stringValue,e.stringValue);case 6:return(function(u,c){const p=js(u),m=js(c);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(u,c){const p=u.split("/"),m=c.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=Je(p[g],m[g]);if(v!==0)return v}return Je(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,c){const p=Je(jt(u.latitude),jt(c.latitude));return p!==0?p:Je(jt(u.longitude),jt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return U1(n.arrayValue,e.arrayValue);case 10:return(function(u,c){const p=u.fields||{},m=c.fields||{},g=p[sf]?.arrayValue,v=m[sf]?.arrayValue,T=Je(g?.values?.length||0,v?.values?.length||0);return T!==0?T:U1(g,v)})(n.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Th.mapValue&&c===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const w=xp(m[T],v[T]);if(w!==0)return w;const R=Qo(p[m[T]],g[v[T]]);if(R!==0)return R}return Je(m.length,v.length)})(n.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function L1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Us(n),s=Us(e),o=Je(t.seconds,s.seconds);return o!==0?o:Je(t.nanos,s.nanos)}function U1(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Qo(t[o],s[o]);if(u)return u}return Je(t.length,s.length)}function Xo(n){return Ip(n)}function Ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Us(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return js(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return De.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Ip(u);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Ip(t.fields[c])}`;return o+"}"})(n.mapValue):Oe(61005,{value:n})}function kh(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+kh(u)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ha(s.fields,((u,c)=>{o+=u.length+kh(c)})),o})(n.mapValue);default:throw Oe(13486,{value:n})}}function Dp(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function j1(n){return!!n&&"nullValue"in n}function z1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ph(n){return!!n&&"mapValue"in n}function iN(n){return(n?.mapValue?.fields||{})[Eb]?.stringValue===Tb}function wu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=wu(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(n.arrayValue.values[t]);return e}return{...n}}function sN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=gn.emptyPath(),s={},o=[];e.forEach(((c,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=p.popLast()}c?s[p.lastSegment()]=wu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ha(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Tr(wu(this.value))}}function bb(n){const e=[];return Ha(n.fields,((t,s)=>{const o=new gn([t]);if(Ph(s)){const u=bb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,s,o,u,c,p){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Sn(e,0,je.min(),je.min(),je.min(),Tr.empty(),0)}static newFoundDocument(e,t,s,o){return new Sn(e,1,t,je.min(),s,o,0)}static newNoDocument(e,t){return new Sn(e,2,t,je.min(),je.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,je.min(),je.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.position=e,this.inclusive=t}}function B1(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(u.field.isKeyField()?s=De.comparator(De.fromName(c.referenceValue),t.key):s=Qo(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function aN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class Zt extends wb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lN(e,t,s):t==="array-contains"?new hN(e,s):t==="in"?new fN(e,s):t==="not-in"?new dN(e,s):t==="array-contains-any"?new mN(e,s):new Zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new uN(e,s):new cN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qo(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(Qo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends wb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hi(e,t)}matches(e){return Sb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sb(n){return n.op==="and"}function Ab(n){return oN(n)&&Sb(n)}function oN(n){for(const e of n.filters)if(e instanceof hi)return!1;return!0}function Np(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(Ab(n))return n.filters.map((e=>Np(e))).join(",");{const e=n.filters.map((t=>Np(t))).join(",");return`${n.op}(${e})`}}function Rb(n,e){return n instanceof Zt?(function(s,o){return o instanceof Zt&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)})(n,e):n instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,p)=>u&&Rb(c,o.filters[p])),!0):!1})(n,e):void Oe(19439)}function Cb(n){return n instanceof Zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(n):n instanceof hi?(function(t){return t.op.toString()+" {"+t.getFilters().map(Cb).join(" ,")+"}"})(n):"Filter"}class lN extends Zt{constructor(e,t,s){super(e,t,s),this.key=De.fromName(s.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class uN extends Zt{constructor(e,t){super(e,"in",t),this.keys=xb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cN extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=xb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xb(n,e){return(e.arrayValue?.values||[]).map((t=>De.fromName(t.referenceValue)))}class hN extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&Lu(t.arrayValue,this.value)}}class fN extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class dN extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lu(this.value.arrayValue,t)}}class mN extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Lu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t=null,s=[],o=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function F1(n,e=null,t=[],s=[],o=null,u=null,c=null){return new pN(n,e,t,s,o,u,c)}function Sg(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Np(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Xo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Xo(s))).join(",")),e.Te=t}return e.Te}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Rb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H1(n.startAt,e.startAt)&&H1(n.endAt,e.endAt)}function Mp(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t=null,s=[],o=[],u=null,c="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gN(n,e,t,s,o,u,c,p){return new Nf(n,e,t,s,o,u,c,p)}function Ib(n){return new Nf(n)}function q1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yN(n){return n.collectionGroup!==null}function Su(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Jt(gn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new of(u,s))})),t.has(gn.keyField().canonicalString())||e.Ie.push(new of(gn.keyField(),s))}return e.Ie}function ii(n){const e=Fe(n);return e.Ee||(e.Ee=vN(e,Su(n))),e.Ee}function vN(n,e){if(n.limitType==="F")return F1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const t=n.endAt?new af(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new af(n.startAt.position,n.startAt.inclusive):null;return F1(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Op(n,e,t){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Ag(ii(n),ii(e))&&n.limitType===e.limitType}function Db(n){return`${Sg(ii(n))}|lt:${n.limitType}`}function Oo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>Cb(o))).join(", ")}]`),If(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Xo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Xo(o))).join(",")),`Target(${s})`})(ii(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):De.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(n,e)&&(function(s,o){for(const u of Su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(c,p,m){const g=B1(c,p,m);return c.inclusive?g<=0:g<0})(s.startAt,Su(s),o)||s.endAt&&!(function(c,p,m){const g=B1(c,p,m);return c.inclusive?g>=0:g>0})(s.endAt,Su(s),o))})(n,e)}function _N(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nb(n){return(e,t)=>{let s=!1;for(const o of Su(n)){const u=EN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EN(n,e,t){const s=n.field.isKeyField()?De.comparator(e.key,t.key):(function(u,c,p){const m=c.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Qo(m,g):Oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Nt(De.comparator);function qi(){return TN}const Mb=new Nt(De.comparator);function vu(...n){let e=Mb;for(const t of n)e=e.insert(t.key,t);return e}function Ob(n){let e=Mb;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function xa(){return Au()}function kb(){return Au()}function Au(){return new Fa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const bN=new Nt(De.comparator),wN=new Jt(De.comparator);function et(...n){let e=wN;for(const t of n)e=e.add(t);return e}const SN=new Jt(Je);function AN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function Pb(n){return{integerValue:""+n}}function RN(n,e){return Z4(e)?Pb(e):Rg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this._=void 0}}function CN(n,e,t){return n instanceof lf?(function(o,u){const c={fields:{[yb]:{stringValue:gb},[_b]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bg(u)&&(u=Df(u)),u&&(c.fields[vb]=u),{mapValue:c}})(t,e):n instanceof Uu?Lb(n,e):n instanceof ju?Ub(n,e):(function(o,u){const c=Vb(o,u),p=G1(c)+G1(o.Ae);return Dp(c)&&Dp(o.Ae)?Pb(p):Rg(o.serializer,p)})(n,e)}function xN(n,e,t){return n instanceof Uu?Lb(n,e):n instanceof ju?Ub(n,e):t}function Vb(n,e){return n instanceof uf?(function(s){return Dp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class lf extends kf{}class Uu extends kf{constructor(e){super(),this.elements=e}}function Lb(n,e){const t=jb(e);for(const s of n.elements)t.some((o=>ci(o,s)))||t.push(s);return{arrayValue:{values:t}}}class ju extends kf{constructor(e){super(),this.elements=e}}function Ub(n,e){let t=jb(e);for(const s of n.elements)t=t.filter((o=>!ci(o,s)));return{arrayValue:{values:t}}}class uf extends kf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function G1(n){return jt(n.integerValue||n.doubleValue)}function jb(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IN(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Uu&&o instanceof Uu||s instanceof ju&&o instanceof ju?Yo(s.elements,o.elements,ci):s instanceof uf&&o instanceof uf?ci(s.Ae,o.Ae):s instanceof lf&&o instanceof lf})(n.transform,e.transform)}class DN{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pf{}function zb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cg(n.key,si.none()):new Qu(n.key,n.data,si.none());{const t=n.data,s=Tr.empty();let o=new Jt(gn.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new qa(n.key,s,new Fr(o.toArray()),si.none())}}function NN(n,e,t){n instanceof Qu?(function(o,u,c){const p=o.value.clone(),m=Y1(o.fieldTransforms,u,c.transformResults);p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):n instanceof qa?(function(o,u,c){if(!Vh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=Y1(o.fieldTransforms,u,c.transformResults),m=u.data;m.setAll(Bb(o)),m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ru(n,e,t,s){return n instanceof Qu?(function(u,c,p,m){if(!Vh(u.precondition,c))return p;const g=u.value.clone(),v=$1(u.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,s):n instanceof qa?(function(u,c,p,m){if(!Vh(u.precondition,c))return p;const g=$1(u.fieldTransforms,m,c),v=c.data;return v.setAll(Bb(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(u,c,p){return Vh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,e,t)}function MN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),u=Vb(s.transform,o||null);u!=null&&(t===null&&(t=Tr.empty()),t.set(s.field,u))}return t||null}function K1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Yo(s,o,((u,c)=>IN(u,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qu extends Pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qa extends Pf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Bb(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Y1(n,e,t){const s=new Map;lt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,p=e.data.field(u.field);s.set(u.field,xN(c,p,t[o]))}return s}function $1(n,e,t){const s=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);s.set(o.field,CN(u,c,e))}return s}class Cg extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ON extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&NN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ru(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ru(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=kb();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(o.key)?null:p;const m=zb(c,p);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(je.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),et())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,s)=>K1(t,s)))&&Yo(this.baseMutations,e.baseMutations,((t,s)=>K1(t,s)))}}class xg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){lt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return bN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new xg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,rt;function LN(n){switch(n){case ue.OK:return Oe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function Hb(n){if(n===void 0)return Fi("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Ft.OK:return ue.OK;case Ft.CANCELLED:return ue.CANCELLED;case Ft.UNKNOWN:return ue.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return ue.INTERNAL;case Ft.UNAVAILABLE:return ue.UNAVAILABLE;case Ft.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Ft.NOT_FOUND:return ue.NOT_FOUND;case Ft.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Ft.ABORTED:return ue.ABORTED;case Ft.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Ft.DATA_LOSS:return ue.DATA_LOSS;default:return Oe(39323,{code:n})}}(rt=Ft||(Ft={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Ms([4294967295,4294967295],0);function Q1(n){const e=UN().encode(n),t=new rb;return t.update(e),new Uint8Array(t.digest())}function X1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ms([t,s],0),new Ms([o,u],0)]}class Ig{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(s<0)throw new _u(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ms.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ms.fromNumber(s)));return o.compare(jN)===1&&(o=new Ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Q1(e),[s,o]=X1(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Ig(u,o,t);return s.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const t=Q1(e),[s,o]=X1(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vf(je.min(),o,new Nt(Je),qi(),et())}}class Xu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Xu(s,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class Fb{constructor(e,t){this.targetId=e,this.Ce=t}}class qb{constructor(e,t,s=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class W1{constructor(){this.ve=0,this.Fe=Z1(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),s=et();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Oe(38017,{changeType:u})}})),new Xu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Z1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zN{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=bh(),this.He=bh(),this.Ye=new Nt(Je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Mp(u))if(s===0){const c=new De(u.path);this.et(t,c,Sn.newNoDocument(c,je.min()))}else lt(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const p=this.ut(e),m=p?this.ct(p,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,p;try{c=js(s).toUint8Array()}catch(m){if(m instanceof pb)return Ko("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Ig(c,o,u)}catch(m){return Ko(m instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Mp(p.target)){const m=new De(p.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Sn.newNoDocument(m,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let s=et();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Vf(e,t,this.Ye,this.je,s);return this.je=qi(),this.Je=bh(),this.He=bh(),this.Ye=new Nt(Je),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new W1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Jt(Je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Jt(Je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new W1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bh(){return new Nt(De.comparator)}function Z1(){return new Nt(De.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class qN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(n,e){return n.useProto3Json||If(e)?e:{value:e}}function cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function GN(n,e){return cf(n,e.toTimestamp())}function ai(n){return lt(!!n,49232),je.fromTimestamp((function(t){const s=Us(t);return new St(s.seconds,s.nanos)})(n))}function Dg(n,e){return Pp(n,e).canonicalString()}function Pp(n,e){const t=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Kb(n){const e=wt.fromString(n);return lt(Wb(e),10190,{key:e.toString()}),e}function Vp(n,e){return Dg(n.databaseId,e.path)}function sp(n,e){const t=Kb(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De($b(t))}function Yb(n,e){return Dg(n.databaseId,e)}function KN(n){const e=Kb(n);return e.length===4?wt.emptyPath():$b(e)}function Lp(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $b(n){return lt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function J1(n,e,t){return{name:Vp(n,e),fields:t.value.mapValue.fields}}function YN(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(lt(v===void 0||typeof v=="string",58123),yn.fromBase64String(v||"")):(lt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),yn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(g){const v=g.code===void 0?ue.UNKNOWN:Hb(g.code);return new Re(v,g.message||"")})(c);t=new qb(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=sp(n,s.document.name),u=ai(s.document.updateTime),c=s.document.createTime?ai(s.document.createTime):je.min(),p=new Tr({mapValue:{fields:s.document.fields}}),m=Sn.newFoundDocument(o,u,c,p),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Lh(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=sp(n,s.document),u=s.readTime?ai(s.readTime):je.min(),c=Sn.newNoDocument(o,u),p=s.removedTargetIds||[];t=new Lh([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=sp(n,s.document),u=s.removedTargetIds||[];t=new Lh([],u,o,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new VN(o,u),p=s.targetId;t=new Fb(p,c)}}return t}function $N(n,e){let t;if(e instanceof Qu)t={update:J1(n,e.key,e.value)};else if(e instanceof Cg)t={delete:Vp(n,e.key)};else if(e instanceof qa)t={update:J1(n,e.key,e.data),updateMask:r6(e.fieldMask)};else{if(!(e instanceof ON))return Oe(16599,{Vt:e.type});t={verify:Vp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const p=c.transform;if(p instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uf)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw Oe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:GN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Oe(27497)})(n,e.precondition)),t}function QN(n,e){return n&&n.length>0?(lt(e!==void 0,14353),n.map((t=>(function(o,u){let c=o.updateTime?ai(o.updateTime):ai(u);return c.isEqual(je.min())&&(c=ai(u)),new DN(c,o.transformResults||[])})(t,e)))):[]}function XN(n,e){return{documents:[Yb(n,e.path)]}}function WN(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Yb(n,o);const u=(function(g){if(g.length!==0)return Xb(hi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:ko(w.field),direction:e6(w.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=kp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function ZN(n){let e=KN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){lt(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(T){const w=Qb(T);return w instanceof hi&&Ab(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((w=>(function(U){return new of(Po(U.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(t.orderBy));let p=null;t.limit&&(p=(function(T){let w;return w=typeof T=="object"?T.value:T,If(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(T){const w=!!T.before,R=T.values||[];return new af(R,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const w=!T.before,R=T.values||[];return new af(R,w)})(t.endAt)),gN(e,o,c,u,p,"F",m,g)}function JN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Qb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Po(t.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Po(t.unaryFilter.field);return Zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Zt.create(Po(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hi.create(t.compositeFilter.filters.map((s=>Qb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(n):Oe(30097,{filter:n})}function e6(n){return BN[n]}function t6(n){return HN[n]}function n6(n){return FN[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Po(n){return gn.fromServerFormat(n.fieldPath)}function Xb(n){return n instanceof Zt?(function(t){if(t.op==="=="){if(z1(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(j1(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(z1(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(j1(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:t6(t.op),value:t.value}}})(n):n instanceof hi?(function(t){const s=t.getFilters().map((o=>Xb(o)));return s.length===1?s[0]:{compositeFilter:{op:n6(t.op),filters:s}}})(n):Oe(54877,{filter:n})}function r6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Wb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,s,o,u=je.min(),c=je.min(),p=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.yt=e}}function s6(n){const e=ZN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(){this.Cn=new o6}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ls.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class o6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Jt(wt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Jt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(Zb,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="LruGarbageCollector",l6=1048576;function nE([n,e],[t,s]){const o=Je(n,t);return o===0?Je(e,s):o}class u6{constructor(e){this.Ir=e,this.buffer=new Jt(nE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();nE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(tE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?ye(tE,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Vr(3e5)}))}}class h6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return le.resolve(xf.ce);const s=new u6(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(eE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,c,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,t)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Mo()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function f6(n,e){return new h6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.changes=new Fa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Ru(s.mutation,o,Fr.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,et()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=et()){const o=xa();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=vu();return u.forEach(((p,m)=>{c=c.insert(p,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=xa();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,et())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,p)=>{t.set(c,p)}))}))}computeViews(e,t,s,o){let u=qi();const c=Au(),p=(function(){return Au()})();return t.forEach(((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof qa)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ru(v.mutation,g,v.mutation.getFieldMask(),St.now())):c.set(g.key,Fr.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>p.set(g,new m6(v,c.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=Au();let o=new Nt(((c,p)=>c-p)),u=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const p of c)p.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=s.get(m)||Fr.empty();v=p.applyToLocalView(g,v),s.set(m,v);const T=(o.get(p.batchId)||et()).add(m);o=o.insert(p.batchId,T)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,T=kb();v.forEach((w=>{if(!u.has(w)){const R=zb(t.get(w),s.get(w));R!==null&&T.set(w,R),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return le.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return De.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(xa());let p=ku,m=u;return c.next((g=>le.forEach(g,((v,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(v)?le.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,m,g,et()))).next((v=>({batchId:p,changes:Ob(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next((s=>{let o=vu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=vu();return this.indexManager.getCollectionParents(e,u).next((p=>le.forEach(p,(m=>{const g=(function(T,w){return new Nf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((T,w)=>{c=c.insert(T,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Sn.newInvalidDocument(v)))}));let p=vu();return c.forEach(((m,g)=>{const v=u.get(m);v!==void 0&&Ru(v.mutation,g,Fr.empty(),St.now()),Of(t,g)&&(p=p.insert(m,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}})(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:s6(o.bundledQuery),readTime:ai(o.readTime)}})(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.overlays=new Nt(De.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=xa();return le.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=xa(),u=t.length+1,c=new De(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Nt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=xa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=xa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>p.set(g,v))),!(p.size()>=o)););return le.resolve(p)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new PN(t,s));let u=this.qr.get(t);u===void 0&&(u=et(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.Qr=new Jt(an.$r),this.Ur=new Jt(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new an(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new an(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new De(new wt([])),s=new an(t,e),o=new an(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new De(new wt([])),s=new an(t,e),o=new an(t,e+1);let u=et();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new an(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class an{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return De.comparator(e.key,t.key)||Je(e.Yr,t.Yr)}static Kr(e,t){return Je(e.Yr,t.Yr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(an.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kN(u,t,s,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new an(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Tg:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new an(t,0),o=new an(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Jt(Je);return t.forEach((o=>{const u=new an(o,0),c=new an(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{s=s.add(p.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;De.isDocumentKey(u)||(u=u.child(""));const c=new an(new De(u),0);let p=new Jt(Je);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)}),c),le.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){lt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(t.mutations,(o=>{const u=new an(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new an(t,0),o=this.Zr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.ri=e,this.docs=(function(){return new Nt(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let s=qi();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Sn.newInvalidDocument(o))})),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=qi();const c=t.path,p=new De(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$4(Y4(v),s)<=0||(o.has(v.key)||Of(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Oe(9500)}ii(e,t){return le.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new T6(this)}getSize(e){return le.resolve(this.size)}}class T6 extends d6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.persistence=e,this.si=new Fa((t=>Sg(t)),Ag),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Ng,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),le.waitFor(u).next((()=>o))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t){this.ui={},this.overlays={},this.ci=new xf(0),this.li=!1,this.li=!0,this.hi=new v6,this.referenceDelegate=e(this),this.Pi=new b6(this),this.indexManager=new a6,this.remoteDocumentCache=(function(o){return new E6(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new i6(t),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new _6(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const o=new w6(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class w6 extends X4{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Ri=new Ng,this.Vi=null}static mi(e){return new Mg(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const o=De.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.pi=new Fa((s=>J4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=f6(this,t)}static mi(e,t){return new hf(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return le.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?le.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((p=>{p||(s++,u.removeEntry(c,je.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}br(e,t,s){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=et(),o=et();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Og(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yx()?8:W4(An())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new S6;return this.Ss(e,t,c).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,c,p.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(Mo()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Mo()<=Ze.DEBUG&&ye("QueryEngine","Query:",Oo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Mo()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):le.resolve())}ys(e,t){if(q1(t))return le.resolve(null);let s=ii(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Op(t,null,"F"),s=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=et(...u);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(t,p);return this.Cs(t,g,c,m.readTime)?this.ys(e,Op(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,s,o){return q1(t)||o.isEqual(je.min())?le.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,s,o)?le.resolve(null):(Mo()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oo(t)),this.vs(e,c,t,K4(o,ku)).next((p=>p)))}))}Ds(e,t){let s=new Jt(Nb(e));return t.forEach(((o,u)=>{Of(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return Mo()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Oo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ls.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",R6=3e8;class C6{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Nt(Je),this.xs=new Fa((u=>Sg(u)),Ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function x6(n,e,t,s){return new C6(n,e,t,s)}async function ew(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],p=[];let m=et();for(const g of o){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:p})))}))}))}function I6(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,v){const T=g.batch,w=T.keys();let R=le.resolve();return w.forEach((U=>{R=R.next((()=>v.getEntry(m,U))).next((ee=>{const L=g.docVersions.get(U);lt(L!==null,48541),ee.version.compareTo(L)<0&&(T.applyToRemoteDocument(ee,g),ee.isValidDocument()&&(ee.setReadTime(g.commitVersion),v.addEntry(ee)))}))})),R.next((()=>p.mutationQueue.removeMutationBatch(m,T)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=et();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function tw(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function D6(n,e){const t=Fe(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((v,T)=>{const w=o.get(T);if(!w)return;p.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,T))));let R=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(yn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),o=o.insert(T,R),(function(ee,L,j){return ee.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=R6?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(w,R,v)&&p.push(t.Pi.updateTargetData(u,R))}));let m=qi(),g=et();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),p.push(N6(u,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(je.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(v)}return le.waitFor(p).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,m,g))).next((()=>m))})).then((u=>(t.Ms=o,u)))}function N6(n,e,t){let s=et(),o=et();return t.forEach((u=>s=s.add(u))),e.getEntries(n,s).next((u=>{let c=qi();return t.forEach(((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(je.min())?(e.removeEntry(p,m.readTime),c=c.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(p,m)):ye(kg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:o}}))}function M6(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function O6(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,le.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new xs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Up(n,e,t){const s=Fe(n),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!sl(c))throw c;ye(kg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rE(n,e,t){const s=Fe(n);let o=je.min(),u=et();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const T=Fe(m),w=T.xs.get(v);return w!==void 0?le.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)})(s,c,ii(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,p.targetId).next((m=>{u=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:je.min(),t?u:et()))).next((p=>(k6(s,_N(e),p),{documents:p,Qs:u})))))}function k6(n,e,t){let s=n.Os.get(e)||je.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),n.Os.set(e,s)}class iE{constructor(){this.activeTargetIds=AN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.Mo=new iE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class aE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(sE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function jp(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="RestConnection",L6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const c=jp(),p=this.zo(e,t.toUriEncodedString());ye(ap,`Sending RPC '${e}' ${c}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,u);const{host:g}=new URL(p),v=el(g);return this.Jo(e,p,m,s,v).then((T=>(ye(ap,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ko(ap,`RPC '${e}' ${c} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,t,s,o,u,c){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=L6[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class z6 extends U6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const c=jp();return new Promise(((p,m)=>{const g=new ib;g.setWithCredentials(!0),g.listenOnce(sb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Oh.NO_ERROR:const T=g.getResponseJson();ye(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),p(T);break;case Oh.TIMEOUT:ye(bn,`RPC '${e}' ${c} timed out`),m(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const w=g.getStatus();if(ye(bn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const U=R?.error;if(U&&U.status&&U.message){const ee=(function(j){const W=j.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(W)>=0?W:ue.UNKNOWN})(U.status);m(new Re(ee,U.message))}else m(new Re(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(bn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ye(bn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=jp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=lb(),p=ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const v=u.join("");ye(bn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const T=c.createWebChannel(v,m);this.I_(T);let w=!1,R=!1;const U=new j6({Yo:L=>{R?ye(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(w||(ye(bn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ye(bn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),ee=(L,j,W)=>{L.listen(j,(te=>{try{W(te)}catch(de){setTimeout((()=>{throw de}),0)}}))};return ee(T,yu.EventType.OPEN,(()=>{R||(ye(bn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),ee(T,yu.EventType.CLOSE,(()=>{R||(R=!0,ye(bn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),ee(T,yu.EventType.ERROR,(L=>{R||(R=!0,Ko(bn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),U.a_(new Re(ue.UNAVAILABLE,"The operation could not be completed")))})),ee(T,yu.EventType.MESSAGE,(L=>{if(!R){const j=L.data[0];lt(!!j,16349);const W=j,te=W?.error||W[0]?.error;if(te){ye(bn,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let ne=(function(A){const C=Ft[A];if(C!==void 0)return Hb(C)})(de),z=te.message;ne===void 0&&(ne=ue.INTERNAL,z="Unknown error status: "+de+" with message "+te.message),R=!0,U.a_(new Re(ne,z)),T.close()}else ye(bn,`RPC '${e}' stream ${o} received:`,j),U.u_(j)}})),ee(p,ab.STAT_EVENT,(L=>{L.stat===Cp.PROXY?ye(bn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Cp.NOPROXY&&ye(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new qN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class rw{constructor(e,t,s,o,u,c,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Fi(t.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new Re(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B6 extends rw{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return je.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?je.min():c.readTime?ai(c.readTime):je.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Lp(this.serializer),t.addTarget=(function(u,c){let p;const m=c.target;if(p=Mp(m)?{documents:XN(u,m)}:{query:WN(u,m).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=Gb(u,c.resumeToken);const g=kp(u,c.expectedCount);g!==null&&(p.expectedCount=g)}else if(c.snapshotVersion.compareTo(je.min())>0){p.readTime=cf(u,c.snapshotVersion.toTimestamp());const g=kp(u,c.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=JN(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.q_(t)}}class H6 extends rw{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QN(e.writeResults,e.commitTime),s=ai(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Lp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>$N(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{}class q6 extends F6{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Pp(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Re(ue.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,Pp(t,s),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class G6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class K6{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ga(this)&&(ye(ja,"Restarting streams for network reachability change."),await(async function(m){const g=Fe(m);g.Ea.add(4),await Wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Uf(g)})(this))}))})),this.Ra=new G6(s,o)}}async function Uf(n){if(Ga(n))for(const e of n.da)await e(!0)}async function Wu(n){for(const e of n.da)await e(!1)}function iw(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ug(t)?Lg(t):al(t).O_()&&Vg(t,e))}function Pg(n,e){const t=Fe(n),s=al(t);t.Ia.delete(e),s.O_()&&sw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ga(t)&&t.Ra.set("Unknown"))}function Vg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(n).Y_(e)}function sw(n,e){n.Va.Ue(e),al(n).Z_(e)}function Lg(n){n.Va=new zN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Ra.ua()}function Ug(n){return Ga(n)&&!al(n).x_()&&n.Ia.size>0}function Ga(n){return Fe(n).Ea.size===0}function aw(n){n.Va=void 0}async function Y6(n){n.Ra.set("Online")}async function $6(n){n.Ia.forEach(((e,t)=>{Vg(n,e)}))}async function Q6(n,e){aw(n),Ug(n)?(n.Ra.ha(e),Lg(n)):n.Ra.set("Unknown")}async function X6(n,e,t){if(n.Ra.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){ye(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ff(n,s)}else if(e instanceof Lh?n.Va.Ze(e):e instanceof Fb?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const s=await tw(n.localStore);t.compareTo(s)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),p.targetMismatches.forEach(((m,g)=>{const v=u.Ia.get(m);if(!v)return;u.Ia.set(m,v.withResumeToken(yn.EMPTY_BYTE_STRING,v.snapshotVersion)),sw(u,m);const T=new xs(v.target,m,g,v.sequenceNumber);Vg(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){ye(ja,"Failed to raise snapshot:",s),await ff(n,s)}}async function ff(n,e,t){if(!sl(e))throw e;n.Ea.add(1),await Wu(n),n.Ra.set("Offline"),t||(t=()=>tw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(ja,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Uf(n)}))}function ow(n,e){return e().catch((t=>ff(n,t,e)))}async function jf(n){const e=Fe(n),t=Bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tg;for(;W6(e);)try{const o=await M6(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,Z6(e,o)}catch(o){await ff(e,o)}lw(e)&&uw(e)}function W6(n){return Ga(n)&&n.Ta.length<10}function Z6(n,e){n.Ta.push(e);const t=Bs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function lw(n){return Ga(n)&&!Bs(n).x_()&&n.Ta.length>0}function uw(n){Bs(n).start()}async function J6(n){Bs(n).ra()}async function eM(n){const e=Bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function tM(n,e,t){const s=n.Ta.shift(),o=xg.from(s,e,t);await ow(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await jf(n)}async function nM(n,e){e&&Bs(n).X_&&await(async function(s,o){if((function(c){return LN(c)&&c!==ue.ABORTED})(o.code)){const u=s.Ta.shift();Bs(s).B_(),await ow(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await jf(s)}})(n,e),lw(n)&&uw(n)}async function lE(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ye(ja,"RemoteStore received new credentials");const s=Ga(t);t.Ea.add(3),await Wu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uf(t)}async function rM(n,e){const t=Fe(n);e?(t.Ea.delete(2),await Uf(t)):e||(t.Ea.add(2),await Wu(t),t.Ra.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(t,s,o){const u=Fe(t);return u.sa(),new B6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Y6.bind(null,n),t_:$6.bind(null,n),r_:Q6.bind(null,n),H_:X6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ug(n)?Lg(n):n.Ra.set("Unknown")):(await n.ma.stop(),aw(n))}))),n.ma}function Bs(n){return n.fa||(n.fa=(function(t,s,o){const u=Fe(t);return u.sa(),new H6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:J6.bind(null,n),r_:nM.bind(null,n),ta:eM.bind(null,n),na:tM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await jf(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,p=new jg(e,t,c,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,e){if(Fi("AsyncQueue",`${e}: ${n}`),sl(n))return new Re(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||De.comparator(t.key,s.key):(t,s)=>De.comparator(t.key,s.key),this.keyedMap=vu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.ga=new Nt(De.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Zo{constructor(e,t,s,o,u,c,p,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((p=>{c.push({type:0,doc:p})})),new Zo(e,t,zo.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sM{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Fe(t),u=o.queries;o.queries=cE(),u.forEach(((c,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new Re(ue.ABORTED,"Firestore shutting down"))}}function cE(){return new Fa((n=>Db(n)),Mf)}async function aM(n,e){const t=Fe(n);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new iM,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const p=zg(c,`Initialization of query '${Oo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Bg(t)}async function oM(n,e){const t=Fe(n),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function lM(n,e){const t=Fe(n);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(s=!0);c.wa=o}}s&&Bg(t)}function uM(n,e,t){const s=Fe(n),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function Bg(n){n.Ca.forEach((e=>{e.next()}))}var zp,hE;(hE=zp||(zp={})).Ma="default",hE.Cache="cache";class cM{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class hM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=Nb(e),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new uE,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const w=o.get(v),R=Of(this.query,T)?T:null,U=!!w&&this.mutatedKeys.has(w.key),ee=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;w&&R?w.data.isEqual(R.data)?U!==ee&&(s.track({type:3,doc:R}),L=!0):this.su(w,R)||(s.track({type:2,doc:R}),L=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(p=!0)):!w&&R?(s.track({type:0,doc:R}),L=!0):w&&!R&&(s.track({type:1,doc:w}),L=!0,(m||g)&&(p=!0)),L&&(R?(c=c.add(R),u=ee?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(R,U){const ee=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:L})}};return ee(R)-ee(U)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),o=o??!1;const p=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new Zo(this.query,e.tu,u,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new hw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new cw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hg="SyncEngine";class fM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class dM{constructor(e){this.key=e,this.hu=!1}}class mM{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((p=>Db(p)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new Nt(De.comparator),this.Au=new Map,this.Ru=new Ng,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pM(n,e,t=!0){const s=yw(n);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fw(s,e,t,!0),o}async function gM(n,e){const t=yw(n);await fw(t,e,!0,!1)}async function fw(n,e,t,s){const o=await O6(n.localStore,ii(e)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,t);let p;return s&&(p=await yM(n,e,u,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&iw(n.remoteStore,o),p}async function yM(n,e,t,s,o){n.pu=(T,w,R)=>(async function(ee,L,j,W){let te=L.view.ru(j);te.Cs&&(te=await rE(ee.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,te))));const de=W&&W.targetChanges.get(L.targetId),ne=W&&W.targetMismatches.get(L.targetId)!=null,z=L.view.applyChanges(te,ee.isPrimaryClient,de,ne);return dE(ee,L.targetId,z.au),z.snapshot})(n,T,w,R);const u=await rE(n.localStore,e,!0),c=new hM(e,u.Qs),p=c.ru(u.documents),m=Xu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=c.applyChanges(p,n.isPrimaryClient,m);dE(n,t,g.au);const v=new fM(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function vM(n,e,t){const s=Fe(n),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Mf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Pg(s.remoteStore,o.targetId),Bp(s,o.targetId)})).catch(il)):(Bp(s,o.targetId),await Up(s.localStore,o.targetId,!0))}async function _M(n,e){const t=Fe(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pg(t.remoteStore,s.targetId))}async function EM(n,e,t){const s=CM(n);try{const o=await(function(c,p){const m=Fe(c),g=St.now(),v=p.reduce(((R,U)=>R.add(U.key)),et());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let U=qi(),ee=et();return m.Ns.getEntries(R,v).next((L=>{U=L,U.forEach(((j,W)=>{W.isValidDocument()||(ee=ee.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,U))).next((L=>{T=L;const j=[];for(const W of p){const te=MN(W,T.get(W.key).overlayedDocument);te!=null&&j.push(new qa(W.key,te,bb(te.value.mapValue),si.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,j,p)})).next((L=>{w=L;const j=L.applyToLocalDocumentSet(T,ee);return m.documentOverlayCache.saveOverlays(R,L.batchId,j)}))})).then((()=>({batchId:w.batchId,changes:Ob(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,p,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Nt(Je)),g=g.insert(p,m),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await Zu(s,o.changes),await jf(s.remoteStore)}catch(o){const u=zg(o,"Failed to persist write");t.reject(u)}}async function dw(n,e){const t=Fe(n);try{const s=await D6(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?lt(c.hu,14607):o.removedDocuments.size>0&&(lt(c.hu,42227),c.hu=!1))})),await Zu(t,s,e)}catch(s){await il(s)}}function fE(n,e,t){const s=Fe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const m=Fe(c);m.onlineState=p;let g=!1;m.queries.forEach(((v,T)=>{for(const w of T.Sa)w.va(p)&&(g=!0)})),g&&Bg(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TM(n,e,t){const s=Fe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new Nt(De.comparator);c=c.insert(u,Sn.newNoDocument(u,je.min()));const p=et().add(u),m=new Vf(je.min(),new Map,new Nt(Je),c,p);await dw(s,m),s.du=s.du.remove(u),s.Au.delete(e),Fg(s)}else await Up(s.localStore,e,!1).then((()=>Bp(s,e,t))).catch(il)}async function bM(n,e){const t=Fe(n),s=e.batch.batchId;try{const o=await I6(t.localStore,e);pw(t,s,null),mw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zu(t,o)}catch(o){await il(o)}}async function wM(n,e,t){const s=Fe(n);try{const o=await(function(c,p){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next((T=>(lt(T!==null,37113),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);pw(s,e,t),mw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zu(s,o)}catch(o){await il(o)}}function mw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function pw(n,e,t){const s=Fe(n);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Bp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||gw(n,s)}))}function gw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Pg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Fg(n))}function dE(n,e,t){for(const s of t)s instanceof cw?(n.Ru.addReference(s.key,e),SM(n,s)):s instanceof hw?(ye(Hg,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||gw(n,s.key)):Oe(19791,{wu:s})}function SM(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ye(Hg,"New document in limbo: "+t),n.Eu.add(s),Fg(n))}function Fg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new De(wt.fromString(e)),s=n.fu.next();n.Au.set(s,new dM(t)),n.du=n.du.insert(t,s),iw(n.remoteStore,new xs(ii(Ib(t.path)),s,"TargetPurposeLimboResolution",xf.ce))}}async function Zu(n,e,t){const s=Fe(n),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{c.push(s.pu(m,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Og.As(m.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(m,g){const v=Fe(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>le.forEach(g,(w=>le.forEach(w.Es,(R=>v.persistence.referenceDelegate.addReference(T,w.targetId,R))).next((()=>le.forEach(w.ds,(R=>v.persistence.referenceDelegate.removeReference(T,w.targetId,R)))))))))}catch(T){if(!sl(T))throw T;ye(kg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const R=v.Ms.get(w),U=R.snapshotVersion,ee=R.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,ee)}}})(s.localStore,u))}async function AM(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ye(Hg,"User change. New user:",e.toKey());const s=await ew(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((p=>{p.forEach((m=>{m.reject(new Re(ue.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zu(t,s.Ls)}}function RM(n,e){const t=Fe(n),s=t.Au.get(e);if(s&&s.hu)return et().add(s.key);{let o=et();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const p=t.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function yw(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TM.bind(null,e),e.Pu.H_=lM.bind(null,e.eventManager),e.Pu.yu=uM.bind(null,e.eventManager),e}function CM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wM.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return x6(this.persistence,new A6,e.initialUser,this.serializer)}Cu(e){return new Jb(Mg.mi,this.serializer)}Du(e){return new P6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class xM extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){lt(this.persistence.referenceDelegate instanceof hf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new c6(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Jb((s=>hf.mi(s,t)),this.serializer)}}class Hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await rM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sM})()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),s=(function(u){return new z6(u)})(e.databaseInfo);return(function(u,c,p,m){return new q6(u,c,p,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,p){return new K6(s,o,u,c,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>fE(this.syncEngine,t,0)),(function(){return aE.v()?new aE:new V6})())}createSyncEngine(e,t){return(function(o,u,c,p,m,g,v){const T=new mM(o,u,c,p,m,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Fe(t);ye(ja,"RemoteStore shutting down."),s.Ea.add(5),await Wu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class DM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ye(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ye(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=zg(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function lp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ew(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function mE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await NM(n);ye(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>lE(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>lE(e.remoteStore,o))),n._onlineComponents=e}async function NM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Hs,"Using user provided OfflineComponentProvider");try{await lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await lp(n,new df)}}else ye(Hs,"Using default OfflineComponentProvider"),await lp(n,new xM(void 0));return n._offlineComponents}async function vw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Hs,"Using user provided OnlineComponentProvider"),await mE(n,n._uninitializedComponentsProvider._online)):(ye(Hs,"Using default OnlineComponentProvider"),await mE(n,new Hp))),n._onlineComponents}function MM(n){return vw(n).then((e=>e.syncEngine))}async function OM(n){const e=await vw(n),t=e.eventManager;return t.onListen=pM.bind(null,e.syncEngine),t.onUnlisten=vM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_M.bind(null,e.syncEngine),t}function kM(n,e,t={}){const s=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,m,g){const v=new IM({next:w=>{v.Nu(),c.enqueueAndForget((()=>oM(u,T))),w.fromCache&&m.source==="server"?g.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new cM(p,v,{includeMetadataChanges:!0,qa:!0});return aM(u,T)})(await OM(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firestore.googleapis.com",gE=!0;class yE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ew,this.ssl=gE}else this.host=e.host,this.ssl=e.ssl??gE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l6)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new P4;switch(s.type){case"firstParty":return new j4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=pE.get(t);s&&(ye("ComponentProvider","Removing Datastore"),pE.delete(t),s.terminate())})(this),Promise.resolve()}}function PM(n,e,t,s={}){n=$o(n,zf);const o=el(e),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(yT(`https://${p}`),vT("Firestore",!0)),u.host!==Ew&&u.host!==p&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:p,ssl:o,emulatorOptions:s};if(!Pa(m,c)&&(n._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=wn.MOCK_USER;else{g=lx(s.mockUserToken,n._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wn(T)}n._authCredentials=new V4(new cb(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bf(this.firestore,e,this._query)}}class on{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if($u(t,on._jsonSchema))return new on(e,s||null,new De(wt.fromString(t.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:qt("string",on._jsonSchemaVersion),referencePath:qt("string")};class ks extends Bf{constructor(e,t,s){super(e,t,Ib(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new De(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function qg(n,e,...t){if(n=Ar(n),hb("collection","path",e),n instanceof zf){const s=wt.fromString(e,...t);return N1(s),new ks(n,null,s)}{if(!(n instanceof on||n instanceof ks))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(e,...t));return N1(s),new ks(n.firestore,null,s)}}function ti(n,e,...t){if(n=Ar(n),arguments.length===1&&(e=_g.newId()),hb("doc","path",e),n instanceof zf){const s=wt.fromString(e,...t);return D1(s),new on(n,null,new De(s))}{if(!(n instanceof on||n instanceof ks))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(e,...t));return D1(s),new on(n.firestore,n instanceof ks?n.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class _E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nw(this,"async_queue_retry"),this._c=()=>{const s=op();s&&ye(vE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ye(vE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",EE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=jg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:EE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function EE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Hf extends zf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new _E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function VM(n,e){const t=typeof n=="object"?n:bT(),s=typeof n=="string"?n:rf,o=og(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ax("firestore");u&&PM(o,...u)}return o}function Tw(n){if(n._terminated)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LM(n),n._firestoreClient}function LM(n){const e=n._freezeSettings(),t=(function(o,u,c,p){return new nN(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_w(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new DM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(yn.fromBase64String(e))}catch(t){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new br(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($u(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:qt("string",br._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if($u(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:qt("string",oi._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($u(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new li(e.vectorValues);throw new Re(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:qt("string",li._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^__.*__$/;class jM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qu(e,this.data,t,this.fieldTransforms)}}function ww(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:n})}}class Kg{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ww(this.Ac)&&UM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Lf(e)}Cc(e,t,s,o=!1){return new Kg({Ac:e,methodName:t,Dc:s,path:gn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BM(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new zM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HM(n,e,t,s,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);Cw("Data must be an object, but it was:",c,s);const p=Aw(s,c);let m,g;if(u.merge)m=new Fr(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const w=FM(e,T,t);if(!c.contains(w))throw new Re(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);GM(v,w)||v.push(w)}m=new Fr(v),g=c.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,g=c.fieldTransforms;return new jM(new Tr(p),m,g)}function Sw(n,e){if(Rw(n=Ar(n)))return Cw("Unsupported field value:",e,n),Aw(n,e);if(n instanceof bw)return(function(s,o){if(!ww(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const p of s){let m=Sw(p,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),c++}return{arrayValue:{values:u}}})(n,e)}return(function(s,o){if((s=Ar(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:cf(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(s instanceof oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof br)return{bytesValue:Gb(o.serializer,s._byteString)};if(s instanceof on){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(c,p){return{mapValue:{fields:{[Eb]:{stringValue:Tb},[sf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Rg(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Eg(s)}`)})(n,e)}function Aw(n,e){const t={};return mb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,((s,o)=>{const u=Sw(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function Rw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof oi||n instanceof br||n instanceof on||n instanceof bw||n instanceof li)}function Cw(n,e,t){if(!Rw(t)||!fb(t)){const s=Eg(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function FM(n,e,t){if((e=Ar(e))instanceof Gg)return e._internalPath;if(typeof e=="string")return xw(n,e);throw mf("Field path arguments must be of type string or ",n,!1,void 0,t)}const qM=new RegExp("[~\\*/\\[\\]]");function xw(n,e,t){if(e.search(qM)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gg(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mf(n,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||c)&&(m+=" (found",u&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Re(ue.INVALID_ARGUMENT,p+n+m)}function GM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KM extends Iw{data(){return super.data()}}function Dw(n,e){return typeof e=="string"?xw(n,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $M{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ha(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[sf].arrayValue?.values?.map((s=>jt(s.doubleValue)));return new li(t)}convertGeoPoint(e){return new oi(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Df(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pu(e));default:return null}}convertTimestamp(e){const t=Us(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wt.fromString(e);lt(Wb(s),9688,{name:e});const o=new Vu(s.get(1),s.get(3)),u=new De(s.popFirst(5));return o.isEqual(t)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends Iw{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:qt("string",Bo._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Uh extends Bo{data(e={}){return super.data(e)}}class Ho{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Uh(this._firestore,this._userDataWriter,s.key,s,new Sh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const m=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const m=new Uh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Sh(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),v=c.indexOf(p.doc.key)),{type:XM(p.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:qt("string",Ho._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class WM extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}}function Yg(n){n=$o(n,Bf);const e=$o(n.firestore,Hf),t=Tw(e),s=new WM(e);return YM(n._query),kM(t,n._query).then((o=>new Ho(e,s,n,o)))}function Na(n,e,t){n=$o(n,on);const s=$o(n.firestore,Hf),o=QM(n.converter,e);return Nw(s,[HM(BM(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,si.none())])}function $g(n){return Nw($o(n.firestore,Hf),[new Cg(n._key,si.none())])}function Nw(n,e){return(function(s,o){const u=new Os;return s.asyncQueue.enqueueAndForget((async()=>EM(await MM(s),o,u))),u.promise})(Tw(n),e)}(function(e,t=!0){(function(o){rl=o})(tl),qo(new Va("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),p=new Hf(new L4(s.getProvider("auth-internal")),new z4(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ns(R1,C1,e),Ns(R1,C1,"esm2020")})();const ZM={apiKey:"AIzaSyC4Bw1yoGd3gKOsxXWQrVhJramt859SwSY",authDomain:"taskify-11ec9.firebaseapp.com",projectId:"taskify-11ec9",storageBucket:"taskify-11ec9.firebasestorage.app",messagingSenderId:"379337476486",appId:"1:379337476486:web:e8842301bc877f84f24407"},Mw=TT(ZM),Ma=O4(Mw),Ow=new Vi,sr=VM(Mw);function JM(){const n=Wp(),e=wr(m=>m.ui.isMenuToggle),t=Gr(),[s,o]=H.useState(null);H.useEffect(()=>Ma.onAuthStateChanged(g=>o(g)),[]);const u=async()=>{try{await tb(Ma,Ow)}catch(m){console.error("Login failed",m)}},c=async()=>{try{await qT(Ma)}catch(m){console.error("Logout failed",m)}},p=()=>{t(cT())};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:`px-4 ${e?"translate-x-0":"-translate-x-full"} absolute transition-transform duration-300 flex flex-col items-center gap-4 w-56 h-full py-10`,children:[x.jsx("div",{className:"w-full flex justify-end",children:x.jsx("button",{className:"group border rounded-full hover:bg-[#bbb] hover:border-[#bbb] p-3.5",onClick:p,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"size-4 group-hover:scale-170 group-hover:stroke-1 group-hover:-translate-x-0.5 transition-transform",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})})}),x.jsx("div",{className:"w-full flex flex-col  gap-5",children:s?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:s.photoURL,alt:"avatar",className:"rounded-full shadow-md size-24"}),x.jsx("p",{className:"whitespace-pre-line text-4xl font-extrabold",children:s.displayName.split(" ").join(`
`)})]}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"rounded-full bg-[#444] grid place-content-center size-24",children:x.jsx("p",{className:"text-7xl font-black text-[#d3d3d3] ",children:"A"})}),x.jsx("p",{className:"text-2xl font-extrabold",children:"Guest User"})]})}),x.jsxs("div",{className:`\r
        [&>button]:transition-transform \r
        [&>button:hover]:translate-x-2 \r
        [&>button]:duration-300 \r
        [&>button]:cursor-pointer \r
        text-[#111] \r
        pt-4 pl-2 w-full flex flex-col gap-3 font-light`,children:[x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),x.jsx("p",{children:"HOME"})]}),x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/tasks"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),x.jsx("p",{children:"TASKS"})]}),x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/notes"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})}),x.jsx("p",{children:"NOTES"})]}),x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/reminders"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})}),x.jsx("p",{children:"REMINDER"})]}),x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/pomodoro"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),x.jsx("p",{children:"POMODORO"})]}),x.jsxs("button",{className:"flex gap-4",onClick:()=>(n("/calendar"),p()),children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})}),x.jsx("p",{children:"CALENDAR"})]})]}),x.jsx("div",{className:"mt-auto pt-6 border-t w-full flex justify-center",children:s?x.jsx("button",{onClick:c,className:"bg-red-500 hover:bg-red-600 text-white font-medium px-4 py-2 rounded-lg shadow-md transition",children:"Logout"}):x.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-600 text-white font-medium px-4 py-2 rounded-lg shadow-md transition",children:"Sign in"})})]})})}const kw=lT("reminders/fetchReminders",async()=>{const n=qg(sr,"reminders");return(await Yg(n)).docs.map(s=>s.data())}),eO=JSON.parse(localStorage.getItem("reminders"))||[],tO={allReminders:eO.map(n=>new Date(n.time)>new Date?{...n,triggered:!1}:n),activeReminder:null},Pw=Jo({name:"reminders",initialState:tO,reducers:{addReminder:(n,e)=>{const t={id:Date.now(),...e.payload};n.allReminders.push(t),Na(ti(sr,"reminders",`${t.id}`),t),localStorage.setItem("reminders",JSON.stringify(n.allReminders))},updateReminder:(n,e)=>{const{id:t}=e.payload,s=n.allReminders.findIndex(o=>o.id===t);s!==-1&&(n.allReminders[s]=e.payload),Na(ti(sr,"reminders",`${t}`),e.payload),localStorage.setItem("reminders",JSON.stringify(n.allReminders))},deleteReminder:(n,e)=>{n.allReminders=n.allReminders.filter(t=>t.id!==e.payload),$g(ti(sr,"reminders",`${e.payload}`)),localStorage.setItem("reminders",JSON.stringify(n.allReminders))},setActiveReminder:(n,e)=>{n.activeReminder=e.payload},clearActiveReminder:n=>{n.activeReminder=null}},extraReducers:n=>{n.addCase(kw.fulfilled,(e,t)=>{e.allReminders=t.payload,localStorage.setItem("reminders",JSON.stringify(e.allReminders))})}}),{addReminder:nO,updateReminder:Fp,deleteReminder:rO,setActiveReminder:iO,clearActiveReminder:sO}=Pw.actions,aO=Pw.reducer;function oO(){const n=Gr(),e=wr(s=>s.reminders.allReminders),t=H.useRef(new Audio("/TASKIFY/reminderTone.mp3"));return t.current.loop=!0,H.useEffect(()=>{const s=setInterval(()=>{const o=new Date,u=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}T${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}:${String(o.getSeconds()).padStart(2,"0")}`;e.forEach(c=>{!c.triggered&&c.time===u&&(t.current.currentTime=0,t.current.play().catch(()=>{}),n(Fp({...c,triggered:!0})),n(iO({id:c.id,title:c.title,audioRef:t.current})))})},1e3);return()=>clearInterval(s)},[e,n]),null}function lO(){const n=Gr(),e=wr(s=>s.reminders.activeReminder);if(!e)return null;const t=()=>{e.audioRef&&(e.audioRef.pause(),e.audioRef.currentTime=0),n(sO())};return x.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-black/40 flex justify-center items-center z-50",children:x.jsxs("div",{className:"px-20 py-10 bg-white p-6 rounded-lg shadow-lg flex flex-col items-center gap-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:e.title}),x.jsx("button",{onClick:t,className:"bg-red-500 text-white px-4 py-2 rounded",children:"Stop"})]})})}const uO=async()=>{try{return(await tb(Ma,Ow)).user}catch(n){return console.error("Google sign-in error:",n),null}},cO=async()=>{await qT(Ma)};var Vw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TE=Ia.createContext&&Ia.createContext(Vw),hO=["attr","size","title"];function fO(n,e){if(n==null)return{};var t=dO(n,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function dO(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function pf(){return pf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},pf.apply(this,arguments)}function bE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,s)}return t}function gf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(t),!0).forEach(function(s){mO(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bE(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function mO(n,e,t){return e=pO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pO(n){var e=gO(n,"string");return typeof e=="symbol"?e:e+""}function gO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lw(n){return n&&n.map((e,t)=>Ia.createElement(e.tag,gf({key:t},e.attr),Lw(e.child)))}function ol(n){return e=>Ia.createElement(yO,pf({attr:gf({},n.attr)},e),Lw(n.child))}function yO(n){var e=t=>{var{attr:s,size:o,title:u}=n,c=fO(n,hO),p=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),Ia.createElement("svg",pf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:m,style:gf(gf({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Ia.createElement("title",null,u),n.children)};return TE!==void 0?Ia.createElement(TE.Consumer,null,t=>e(t)):e(Vw)}function vO(n){return ol({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function _O(){const[n,e]=H.useState(null);return H.useEffect(()=>Ma.onAuthStateChanged(s=>e(s)),[]),x.jsx(x.Fragment,{children:n?x.jsx(x.Fragment,{children:x.jsx("button",{onClick:cO,className:"border hover:bg-red-300 transition-colors text-[#333] px-2 py-1 rounded-lg text-[0.1rem] font-medium",children:"Logout"})}):x.jsx("button",{onClick:uO,className:"flex items-center gap-2 bg-[#ececec hover:bg-[#bac4ff] transition-colors border border-[#333] px-5 py-1 rounded-lg text-[0.2rem] font-bold text-gray-800",children:x.jsx("div",{className:" p-0.5 bg-white rounded-full",children:x.jsx(vO,{size:14})})})})}function EO(){const n=Wp(),e=wr(o=>o.ui.isMenuToggle),t=Gr(),s=()=>{t(cT())};return x.jsxs(x.Fragment,{children:[x.jsx(oO,{})," ",x.jsx(lO,{}),"   ",x.jsx("div",{className:"w-dvw h-dvh p-2 bg-[#d3d3d3] text-[#444] overflow-hidden",children:x.jsxs("div",{className:"w-full h-full flex relative",children:[x.jsx(JM,{}),x.jsxs("div",{className:`${e?"scale-85 translate-x-56":"translate-x-0"} relative transition-transform duration-300 border rounded-[2rem] px-6 py-4 w-full h-full flex flex-col`,children:[e&&x.jsx("div",{className:"rounded-4xl absolute inset-0 z-10",onClick:s}),x.jsxs("div",{className:"mb-2 w-full h-12 flex gap-4 justify-between items-center",children:[x.jsx("button",{type:"button",onClick:s,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"size-8 hover:scale-110 hover:stroke-[#111] hover:stroke-3 str transition-transform",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),x.jsx("button",{type:"button",onClick:()=>n("/"),className:"min-w-40 w-80 px-4 py-1 border border-[#333] text-[#333] font-extrabold text-2xl rounded-lg hover:text-[#4a1aa2] hover:bg-[#e5cfe2] transition-colors",children:"Taskify"}),x.jsx(_O,{})]}),x.jsx("div",{className:"w-full h-full overflow-y-auto hide-scrollbar",children:x.jsx(wR,{})})]})]})})]})}const TO={taskList:JSON.parse(localStorage.getItem("tasks"))||[]},Ts=n=>{localStorage.setItem("tasks",JSON.stringify(n))},Uw=Jo({name:"tasks",initialState:TO,reducers:{addTask:(n,e)=>{n.taskList.push({id:Date.now(),text:e.payload,completed:!1}),Ts(n.taskList)},checkTask:(n,e)=>{const t=n.taskList.find(s=>s.id===e.payload);t&&(t.completed=!t.completed),Ts(n.taskList)},editTask:(n,e)=>{const{id:t,newText:s,completed:o}=e.payload,u=n.taskList.find(c=>c.id===t);u&&(u.text=s,u.completed=o),Ts(n.taskList)},deleteTask:(n,e)=>{n.taskList=n.taskList.filter(t=>t.id!==e.payload),Ts(n.taskList)},addTaskFirebase:(n,e)=>{const{text:t,uid:s}=e.payload,o={id:Date.now(),text:t,completed:!1};n.taskList.push(o),Ts(n.taskList),Na(ti(sr,"users",s,"tasks",`${o.id}`),o)},toggleTaskFirebase:(n,e)=>{const{id:t,uid:s}=e.payload,o=n.taskList.find(u=>u.id===t);o&&(o.completed=!o.completed,Ts(n.taskList),Na(ti(sr,"users",s,"tasks",`${t}`),o))},editTaskFirebase:(n,e)=>{const{id:t,newText:s,uid:o}=e.payload,u=n.taskList.find(c=>c.id===t);u&&(u.text=s,Ts(n.taskList),Na(ti(sr,"users",o,"tasks",`${t}`),u))},deleteTaskFirebase:(n,e)=>{const{id:t,uid:s}=e.payload;n.taskList=n.taskList.filter(o=>o.id!==t),Ts(n.taskList),$g(ti(sr,"users",s,"tasks",`${t}`))},setTasks:(n,e)=>{n.taskList=e.payload}}}),{addTask:bO,checkTask:wO,editTask:SO,deleteTask:AO,addTaskFirebase:RO,toggleTaskFirebase:CO,editTaskFirebase:xO,deleteTaskFirebase:IO,setTasks:DO}=Uw.actions,NO=n=>async e=>{const t=qg(sr,"users",n,"tasks"),o=(await Yg(t)).docs.map(u=>u.data());e(DO(o))},MO=Uw.reducer,jw=lT("notes/fetchNotes",async()=>{const n=qg(sr,"notes");return(await Yg(n)).docs.map(s=>s.data())}),OO=JSON.parse(localStorage.getItem("notes"))||[],kO={isNotesFormToggle:!1,allNotes:OO},zw=Jo({name:"notes",initialState:kO,reducers:{NotesFormToggle:n=>{n.isNotesFormToggle=!n.isNotesFormToggle},saveNotes:(n,e)=>{const t={id:Date.now(),...e.payload};n.allNotes.push(t),Na(ti(sr,"notes",`${t.id}`),t),localStorage.setItem("notes",JSON.stringify(n.allNotes))},updateNote:(n,e)=>{const t=n.allNotes.findIndex(s=>s.id===e.payload.id);t!==-1&&(n.allNotes[t]=e.payload,Na(ti(sr,"notes",`${e.payload.id}`),e.payload),localStorage.setItem("notes",JSON.stringify(n.allNotes)))},deleteNote:(n,e)=>{n.allNotes=n.allNotes.filter(t=>t.id!==e.payload),$g(ti(sr,"notes",`${e.payload}`)),localStorage.setItem("notes",JSON.stringify(n.allNotes))}},extraReducers:n=>{n.addCase(jw.fulfilled,(e,t)=>{e.allNotes=t.payload,localStorage.setItem("notes",JSON.stringify(e.allNotes))})}}),{NotesFormToggle:jh,saveNotes:PO,updateNote:VO,deleteNote:LO}=zw.actions,UO=zw.reducer,jO={time:1500,isRunning:!1,isWork:!0,customWork:"25",customBreak:"5",resetTrigger:0,showPopup:!1},Bw=Jo({name:"pomodoro",initialState:jO,reducers:{startStop:n=>{n.isRunning=!n.isRunning},reset:n=>{n.isRunning=!1,n.time=n.customWork*60,n.isWork=!0,n.showPopup=!1,n.resetTrigger+=1},tick:n=>{n.isRunning&&n.time>0&&(n.time-=1)},complete:n=>{n.isRunning=!1,n.showPopup=!0},stopAlarmAndContinue:n=>{n.showPopup=!1,n.isWork?n.time=n.customBreak*60:n.time=n.customWork*60,n.isWork=!n.isWork,n.isRunning=!0},setCustomWork:(n,e)=>{n.customWork=e.payload},setCustomBreak:(n,e)=>{n.customBreak=e.payload},apply:n=>{const e=Number(n.customWork)||0;n.time=e*60,n.isWork=!0,n.isRunning=!1,n.resetTrigger+=1}}}),{startStop:zO,reset:BO,tick:HO,complete:FO,stopAlarmAndContinue:qO,setCustomWork:wE,setCustomBreak:SE,apply:GO}=Bw.actions,KO=Bw.reducer,YO={currentDate:new Date,selectedDate:null},Hw=Jo({name:"calendar",initialState:YO,reducers:{prevMonth:n=>{n.currentDate=new Date(n.currentDate.getFullYear(),n.currentDate.getMonth()-1,1),n.selectedDate=null},nextMonth:n=>{n.currentDate=new Date(n.currentDate.getFullYear(),n.currentDate.getMonth()+1,1),n.selectedDate=null},setSelectedDate:(n,e)=>{n.selectedDate=e.payload},resetCalendar:n=>{n.currentDate=new Date,n.selectedDate=null}}}),{prevMonth:$O,nextMonth:QO,setSelectedDate:XO,resetCalendar:v3}=Hw.actions,WO=Hw.reducer,ZO=DC({reducer:{ui:WC,tasks:MO,notes:UO,reminders:aO,pomodoro:KO,calendar:WO}});function JO(){return x.jsx("div",{className:"w-dvw h-dvh grid place-content-center font-black text-9xl",children:"404"})}function e3(n){return ol({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function t3(n){return ol({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function n3(n){return ol({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function r3(n){return ol({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(n)}function i3(n){return ol({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(n)}const s3=()=>{const n=wr(u=>u.reminders.allReminders),e=new Date,t=n.filter(u=>new Date(u.time)>=e).sort((u,c)=>new Date(u.time)-new Date(c.time)).slice(0,3),s=n.length,o=n.filter(u=>u.triggered).length;return x.jsxs("div",{className:"flex flex-col max-w-md mx-auto bg-gradient-to-b",children:[x.jsxs("header",{className:"p-4 pt-6 text-center",children:[x.jsx("h1",{className:"text-4xl font-extrabold text-purple-700 mb-1",children:"Welcome !!"}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Stay productive, one step at a time 🚀"})]}),x.jsxs("main",{className:"flex-1 p-4 flex flex-col gap-4 overflow-y-auto",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs(Aa,{to:"/tasks",className:"border border-[#888] flex items-center justify-center gap-2 rounded-2xl py-4 font-semibold shadow-lg hover:scale-105 transform transition-all",children:[x.jsx(i3,{size:20})," Tasks"]}),x.jsxs(Aa,{to:"/notes",className:"border border-[#888] flex items-center justify-center gap-2 rounded-2xl py-4 font-semibold shadow-lg hover:scale-105 transform transition-all",children:[x.jsx(r3,{size:20})," Notes"]}),x.jsxs(Aa,{to:"/reminders",className:"border border-[#888] flex items-center justify-center gap-2 rounded-2xl py-4 font-semibold shadow-lg hover:scale-105 transform transition-all",children:[x.jsx(e3,{size:20})," Reminders"]}),x.jsxs(Aa,{to:"/pomodoro",className:"border border-[#888] flex items-center justify-center gap-2 rounded-2xl py-4 font-semibold shadow-lg hover:scale-105 transform transition-all",children:[x.jsx(n3,{size:20})," Pomodoro"]}),x.jsxs(Aa,{to:"/calendar",className:"border border-[#888] flex items-center justify-center gap-2 rounded-2xl py-4 font-semibold shadow-lg hover:scale-105 transform transition-all col-span-2",children:[x.jsx(t3,{size:20})," Calendar"]})]}),x.jsxs("div",{className:"bg-[#e6e6e6] rounded-2xl p-4 shadow-md border border-[#888] text-center transition-all",children:[x.jsx("h2",{className:"font-bold text-lg mb-2",children:"Tasks Summary"}),x.jsxs("div",{className:"flex justify-around text-sm text-gray-600",children:[x.jsxs("p",{children:["Total: ",x.jsx("span",{className:"font-semibold",children:s})]}),x.jsxs("p",{children:["Completed: ",x.jsx("span",{className:"font-semibold",children:o})]}),x.jsxs("p",{children:["Pending: ",x.jsx("span",{className:"font-semibold",children:s-o})]})]})]}),x.jsxs("div",{className:"bg-[#e6e6e6] rounded-2xl p-4 shadow-md border border-[#888] transition-all",children:[x.jsx("h2",{className:"font-semibold mb-2 text-center",children:"Upcoming Reminders"}),t.length===0?x.jsx("p",{className:"text-gray-400 text-sm text-center",children:"No upcoming reminders"}):x.jsx("ul",{className:"space-y-2",children:t.map(u=>x.jsxs("li",{className:"flex justify-between items-center bg-purple-50 px-3 py-2 rounded-xl shadow-sm hover:shadow-md transition-all",children:[x.jsx("span",{className:"font-medium truncate",children:u.title}),x.jsx("span",{className:"text-gray-500 text-xs",children:new Date(u.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},u.id))})]}),x.jsx("div",{className:"bg-[#e6e6e6] border border-[#888] p-4 rounded-2xl shadow-md text-center italic text-gray-700 transition-all",children:'"Focus on being productive instead of busy."'})]})]})};function a3({task:n,user:e}){const t=Gr(),[s,o]=H.useState(!1),[u,c]=H.useState(n.text),p=()=>{t(e?CO({id:n.id,uid:e.uid}):wO(n.id))},m=()=>{t(e?xO({id:n.id,newText:u,uid:e.uid}):SO({id:n.id,newText:u,completed:!1})),o(!1)},g=()=>{t(e?IO({id:n.id,uid:e.uid}):AO(n.id))};return x.jsxs("div",{className:"border rounded-xl pl-4 pr-2 py-2.5 flex gap-2",children:[x.jsx("div",{className:"grid place-items-center w-6 h-7",children:x.jsx("button",{type:"button",onClick:p,children:n.completed?x.jsx("div",{className:"border border-dashed bg-[#444] rounded-sm",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"#fff",className:"size-[18px]",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})}):x.jsx("div",{className:"border border-dashed rounded-sm grid place-content-center w-5 h-5 hover:bg-[#ccc]"})})}),x.jsx("div",{className:"pt-[3px] w-full",children:s?x.jsx("input",{type:"text",className:"w-full outline-none bg-transparent italic text-[#111]",value:u,onChange:v=>c(v.target.value),onBlur:m,autoFocus:!0,onKeyDown:v=>{v.key==="Enter"&&m(),v.key==="Escape"&&(c(n.text),o(!1))}}):x.jsx("p",{className:`w-full leading-6 wrap-anywhere ${n.completed?"line-through":""}`,children:n.text})}),x.jsx("div",{className:"grid place-items-center h-7",children:x.jsx("button",{type:"button",onClick:()=>o(!0),children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})})}),x.jsx("div",{className:"grid place-items-center h-7",children:x.jsx("button",{type:"button",onClick:g,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-7",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})})]})}function o3(){const n=wr(p=>p.tasks.taskList),e=Gr(),[t,s]=H.useState(""),[o,u]=H.useState(null);H.useEffect(()=>Ma.onAuthStateChanged(m=>u(m)),[]),H.useEffect(()=>{o&&e(NO(o.uid))},[o,e]);const c=p=>{p.preventDefault(),t.trim()!==""&&(e(o?RO({text:t,uid:o.uid}):bO(t)),s(""))};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"w-full h-full grid place-content-center",children:[x.jsx("h2",{className:"font-black text-3xl mb-4",children:"Your To Do"}),x.jsxs("form",{children:[x.jsxs("div",{className:"flex gap-4 mb-6",children:[x.jsx("input",{type:"text",placeholder:"Add new task",className:"border-b-1 px-1 w-full outline-none",value:t,onChange:p=>s(p.target.value)}),x.jsx("button",{type:"submit",className:"bg-[#444] p-1 rounded-lg hover:bg-[#111]",onClick:c,children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#fff",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})})]}),x.jsx("div",{className:"h-[19rem] overflow-y-scroll flex flex-col gap-3 snap-y snap-mandatory hide-scrollbar",children:n.length===0?x.jsx("p",{className:"text-center text-4xl font-black text-gray-500 mt-30",children:"No Todos Yet!!"}):[...n].reverse().map(p=>x.jsx("div",{className:"snap-start",children:x.jsx(a3,{task:p,user:o})},p.id))})]}),x.jsxs("div",{className:"mt-2",children:[x.jsx("p",{children:x.jsx("em",{children:x.jsxs("strong",{children:["Your remaining todos: ",n.filter(p=>!p.completed).length]})})}),x.jsx("p",{children:x.jsx("em",{children:'"Doing what you love is the cornerstone of having abundance in your life" - Wayne Dyer'})})]})]})})}function l3({title:n,content:e,dateTime:t,note:s,handleDeleteNotes:o}){return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"h-34 rounded-2xl px-4 pt-2 pb-1 flex flex-col",children:[x.jsx("h3",{className:"font-bold text-2xl",children:n}),x.jsx("p",{className:"italic whitespace-pre-wrap overflow-hidden",children:e}),x.jsxs("div",{className:"mt-auto flex items-end justify-between",children:[x.jsx("p",{className:"text-sm",children:t}),x.jsx("div",{className:"size-6",children:x.jsx("button",{className:"",onClick:u=>{o(u,s)},children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})})]})]})})}function u3({selectedNotes:n,setSelectedNotes:e}){const t=Gr(),[s,o]=H.useState(n.title),[u,c]=H.useState(n.content),p={title:s,content:u,dateTime:new Date().toLocaleString()},m=()=>{t(jh())},g=()=>{if(n){if(s.trim()===""||u.trim()==="")return;t(VO({id:n.id,...p})),t(jh()),o(""),c(""),e("");return}s.trim()===""||u.trim()===""||(t(PO(p)),t(jh()),o(""),c(""))};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"mb-2 h-full",children:[x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsx("div",{className:"flex items-center w-full",children:x.jsx("h3",{className:"font-extrabold text-xl",children:"Add New Note"})}),x.jsx("button",{type:"button",onClick:m,className:"bg-[#444] text-[#d3d3d3] text-sm px-3 py-1 rounded-lg hover:bg-[#111] transition-colors duration-300 ease-in-out",children:"Back"}),x.jsx("button",{type:"button",onClick:g,className:"bg-[#444] text-[#d3d3d3] text-sm px-4 py-2 rounded-lg hover:bg-[#111] transition-colors duration-300 ease-in-out",children:"Save"})]}),x.jsx("textarea",{placeholder:"Title",value:s,onChange:v=>{o(v.target.value)},className:"resize-none overflow-y-scroll hide-scrollbar w-full h-12 text-4xl font-extrabold outline-none mb-2"}),x.jsx("textarea",{value:u,onChange:v=>{c(v.target.value)},className:"w-full h-full mt-2 rounded-lg resize-none outline-none overflow-y-scroll hide-scrollbar",placeholder:"Write your note here..."})]})})}function c3(){const n=wr(m=>m.notes.isNotesFormToggle),e=wr(m=>m.notes.allNotes),t=Gr(),[s,o]=H.useState("");H.useEffect(()=>{t(jw())},[t]);const u=()=>{t(jh())},c=m=>{console.log("Note clicked:",m),o(m),u()},p=(m,g)=>{m.stopPropagation(),t(LO(g.id))};return x.jsx(x.Fragment,{children:x.jsx("div",{className:"w-full h-full flex justify-center",children:x.jsx("div",{className:"max-w-[40rem] min-w-[10rem] w-full h-full flex flex-col overflow-hidden",children:n?x.jsx(u3,{selectedNotes:s,setSelectedNotes:o}):x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:"font-black text-4xl mt-2 mb-4",children:"All Notes"}),x.jsx("button",{className:"border-2 border-dashed rounded-2xl mb-4 px-4 py-2 font-bold text-2xl text-[#444] hover:border-[#111] hover:text-[#111] transition-all duration-300 ease-in-out",onClick:u,children:"+ Add Notes"}),x.jsx("div",{className:"w-full h-full flex flex-col gap-4 overflow-y-scroll hide-scrollbar",children:e.length===0?x.jsx("p",{className:"text-center text-[#444] font-bold text-2xl mt-50",children:"No Notes Available"}):[...e].reverse().map(m=>x.jsx("div",{onClick:()=>{c(m)},className:"border text-left cursor-pointer rounded-2xl",children:x.jsx(l3,{title:m.title,content:m.content,dateTime:m.dateTime,note:m,handleDeleteNotes:p},m.id)},m.id))})]})})})})}function h3(){const n=Gr(),e=wr(j=>j.reminders.allReminders),t=new Date,s=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}T${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`,[o,u]=H.useState(""),[c,p]=H.useState(s),[m,g]=H.useState(null),[v,T]=H.useState(null),w=H.useRef(new Audio("/TASKIFY/reminderTone.mp3"));H.useEffect(()=>{localStorage.setItem("reminders",JSON.stringify(e))},[e]),H.useEffect(()=>{n(kw())},[n]),H.useEffect(()=>{const j=setInterval(()=>{const W=new Date,te=`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}T${String(W.getHours()).padStart(2,"0")}:${String(W.getMinutes()).padStart(2,"0")}:${String(W.getSeconds()).padStart(2,"0")}`;e.forEach(de=>{!de.triggered&&de.time===te&&(T(de),w.current.currentTime=0,w.current.play().catch(()=>{}),n(Fp({...de,triggered:!0})))})},1e3);return()=>clearInterval(j)},[e,n]);const R=()=>{!o.trim()||!c||(m?(n(Fp({id:m,title:o,time:c,triggered:!1})),g(null)):n(nO({title:o,time:c,triggered:!1})),u(""),p(s))},U=j=>{u(j.title),p(j.time),g(j.id)},ee=j=>{n(rO(j))},L=()=>{w.current&&(w.current.pause(),w.current.currentTime=0,w.current.loop=!1),T(null)};return x.jsxs("div",{className:"w-full h-full flex justify-center",children:[x.jsxs("div",{className:"max-w-[40rem] w-full flex flex-col gap-4",children:[x.jsx("h2",{className:"font-black text-4xl mt-2 mb-4",children:"All Reminders"}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsx("input",{type:"text",placeholder:"Reminder Title",value:o,onChange:j=>u(j.target.value),className:"w-full flex-1 border px-2 py-1 rounded-lg"}),x.jsx("input",{type:"datetime-local",value:c,onChange:j=>p(j.target.value),className:"w-full border px-2 py-1 rounded-lg"}),x.jsx("button",{onClick:R,className:"bg-[#444] text-white px-4 py-2 rounded-lg",children:m?"Update":"Add"})]}),x.jsx("div",{className:"flex flex-col gap-2 overflow-y-scroll hide-scrollbar",children:e.length===0?x.jsx("p",{className:"text-center text-gray-500",children:"No reminders set"}):e.map(j=>x.jsxs("div",{className:"border rounded-xl px-4 py-2 flex justify-between items-center",children:[x.jsxs("div",{className:"w-44",children:[x.jsx("p",{className:"font-bold overflow-hidden",children:j.title}),x.jsx("p",{className:"text-sm text-gray-600",children:new Date(j.time).toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"})})]}),x.jsxs("div",{className:"flex gap-5",children:[x.jsx("button",{onClick:()=>U(j),className:"text-blue-500 hover:text-blue-700",children:"Edit"}),x.jsx("button",{onClick:()=>ee(j.id),className:"text-red-500 hover:text-red-700",children:"Delete"})]})]},j.id))})]}),v&&x.jsx("div",{className:"fixed inset-0 bg-black/40 flex justify-center items-center z-50",children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex flex-col items-center gap-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:v.title}),x.jsx("button",{onClick:L,className:"bg-red-500 text-white px-4 py-2 rounded",children:"Stop"})]})})]})}const f3=({isRunning:n,resetTrigger:e})=>{const t=[{src:"/TASKIFY/musics/Nonsense.m4a",name:"Nonsense"},{src:"/TASKIFY/musics/Mexico.m4a",name:"Mexico"},{src:"/TASKIFY/musics/Mera Mann.m4a",name:"Mera Mann"}],[s,o]=H.useState(0),[u,c]=H.useState(!1),[p,m]=H.useState(0),[g,v]=H.useState(0),T=H.useRef(new Audio(t[0].src));H.useEffect(()=>{const j=T.current,W=()=>{m(j.currentTime),v(j.duration||0)},te=()=>{R()};return j.addEventListener("timeupdate",W),j.addEventListener("ended",te),()=>{j.removeEventListener("timeupdate",W),j.removeEventListener("ended",te)}},[s,u,n]),H.useEffect(()=>{n?T.current.play().then(()=>c(!0)).catch(()=>{}):(T.current.pause(),c(!1))},[n]),H.useEffect(()=>{if(e){const j=T.current;o(0),c(!1),j.pause(),j.src=t[0].src,j.load(),j.currentTime=0,m(0),v(j.duration||0)}},[e]);const w=()=>{const j=T.current;u?(j.pause(),c(!1)):(j.play().catch(()=>{}),c(!0))},R=()=>{const j=(s+1)%t.length;o(j);const W=T.current;W.src=t[j].src,W.load(),W.currentTime=0,(n||u)&&W.play().then(()=>c(!0)).catch(()=>{})},U=()=>{const j=(s-1+t.length)%t.length;o(j);const W=T.current;W.src=t[j].src,W.load(),W.currentTime=0,(u||n)&&W.play().catch(()=>{})},ee=j=>{const W=T.current,te=j.target.value;W.currentTime=te,m(te)},L=j=>{if(isNaN(j))return"00:00";const W=Math.floor(j/60),te=Math.floor(j%60);return`${String(W).padStart(2,"0")}:${String(te).padStart(2,"0")}`};return x.jsxs("div",{className:"flex flex-col items-center gap-3 mt-4 w-full max-w-md",children:[x.jsxs("p",{className:"font-semibold",children:["Now Playing: ",t[s].name]}),x.jsxs("div",{className:"flex items-center gap-2 w-full",children:[x.jsx("div",{className:"text-xs w-10 text-left",children:L(p)}),x.jsx("input",{type:"range",min:"0",max:g,value:p,onChange:ee,className:"w-full accent-blue-500"}),x.jsx("div",{className:"text-xs w-10",children:L(g)})]}),x.jsxs("div",{className:"flex",children:[x.jsx("button",{onClick:U,className:"text-orange-500 px-4 py-2 rounded-full",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-12",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061A1.125 1.125 0 0 1 21 8.689v8.122ZM11.25 16.811c0 .864-.933 1.406-1.683.977l-7.108-4.061a1.125 1.125 0 0 1 0-1.954l7.108-4.061a1.125 1.125 0 0 1 1.683.977v8.122Z"})})}),x.jsx("button",{onClick:w,className:`px-4 py-2 rounded-full ${u?"text-green-500":"text-amber-500"}`,children:u?x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-16",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}):x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-16",children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})]})}),x.jsx("button",{onClick:R,className:"text-blue-600 px-4 py-2 rounded-full",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-12",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061A1.125 1.125 0 0 1 3 16.811V8.69ZM12.75 8.689c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 0 1 0 1.954l-7.108 4.061a1.125 1.125 0 0 1-1.683-.977V8.69Z"})})})]})]})};function d3(){const n=Gr(),{time:e,isRunning:t,isWork:s,customWork:o,customBreak:u,resetTrigger:c,showPopup:p}=wr(R=>R.pomodoro),m=H.useRef(new Audio("/TASKIFY/reminderTone.mp3")),[g,v]=H.useState(!1);H.useEffect(()=>{let R;return t&&e>0?R=setInterval(()=>n(HO()),1e3):t&&e===0&&n(FO()),()=>clearInterval(R)},[t,e,n]),H.useEffect(()=>{if(p&&g){const R=m.current;R.currentTime=0,R.loop=!0,R.play().catch(()=>console.log("Autoplay blocked"))}},[p,g]);const T=()=>{m.current.pause(),m.current.currentTime=0,n(qO())},w=R=>{const U=String(Math.floor(R/60)).padStart(2,"0"),ee=String(R%60).padStart(2,"0");return`${U}:${ee}`};return x.jsxs("div",{className:"flex flex-col items-center gap-6 p-6 bg-gradient-to-b",children:[x.jsx("div",{className:`px-4 py-1 rounded-full text-white font-bold ${s?"bg-red-500":"bg-green-500"} ${t?"animate-pulse ":""}`,children:s?"Work Session":"Break Time"}),x.jsx("div",{className:`text-8xl text-purple-600 font-extrabold ${t?"font-extrabold text-purple-600":"text-gray-700"}`,children:w(e)}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:()=>{n(zO()),v(!0)},className:`w-30 px-6 py-3 rounded-full text-white font-bold transition-transform transform hover:scale-105 ${t?"bg-pink-500 hover:bg-rose-500":"bg-blue-500 hover:bg-blue-600"}`,children:t?"Pause":"Start"}),x.jsx("button",{onClick:()=>{m.current.pause(),m.current.currentTime=0,n(BO())},className:"w-30 bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-full font-bold transition-colors",children:"Reset"})]}),x.jsxs("div",{className:"flex gap-6 mt-4 items-end",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Work (min)"}),x.jsx("input",{type:"number",min:"0",value:o,onChange:R=>n(wE(R.target.value)),onBlur:()=>{(o===""||isNaN(o))&&n(wE("0"))},className:"border-2 border-purple-400 focus:border-purple-600 focus:ring-1 focus:ring-purple-300 rounded-lg px-3 py-1 w-24 text-center font-semibold"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Break (min)"}),x.jsx("input",{type:"number",min:"0",value:u,onChange:R=>n(SE(R.target.value)),onBlur:()=>{(u===""||isNaN(u))&&n(SE("0"))},className:"border-2 border-green-400 focus:border-green-600 focus:ring-1 focus:ring-green-300 rounded-lg px-3 py-1 w-24 text-center font-semibold"})]}),x.jsx("button",{onClick:()=>n(GO()),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-4 py-2 rounded-full font-bold transition-all",children:"Apply"})]}),x.jsx(f3,{isRunning:t,resetTrigger:c}),p&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/40 z-50",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-80 text-center animate-fadeIn",children:[x.jsx("h3",{className:"text-2xl font-bold mb-2",children:s?"Work session finished!":"Break over!"}),x.jsx("p",{className:"mb-4 text-gray-700",children:"Time's up! ⏰"}),x.jsx("button",{onClick:T,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-bold transition-colors",children:"Stop Alarm & Continue"})]})})]})}const m3=()=>{const n=Gr(),{currentDate:e,selectedDate:t}=wr(T=>T.calendar),s=wr(T=>T.reminders.allReminders),o=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(e.getFullYear(),e.getMonth(),1).getDay(),c=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),p=[];for(let T=0;T<u;T++)p.push(null);for(let T=1;T<=c;T++)p.push(T);const m=T=>{const w=new Date;return T===w.getDate()&&e.getMonth()===w.getMonth()&&e.getFullYear()===w.getFullYear()},g=T=>{T&&n(XO(new Date(e.getFullYear(),e.getMonth(),T)))},v=t?s.filter(T=>new Date(T.time).toDateString()===t.toDateString()):[];return x.jsxs("div",{className:"p-4 max-w-sm mx-auto h-screen flex flex-col",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("button",{onClick:()=>n($O()),className:"px-3 py-1 bg-gray-200 rounded shadow active:scale-95",children:"◀"}),x.jsxs("h2",{className:"text-lg font-bold",children:[o[e.getMonth()]," ",e.getFullYear()]}),x.jsx("button",{onClick:()=>n(QO()),className:"px-3 py-1 bg-gray-200 rounded shadow active:scale-95",children:"▶"})]}),x.jsx("div",{className:"grid grid-cols-7 gap-1 text-center font-semibold mb-1 text-xs",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(T=>x.jsx("div",{children:T},T))}),x.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:p.map((T,w)=>x.jsx("div",{className:`p-2 rounded cursor-pointer select-none
              ${m(T)?"bg-blue-500 text-white":""}
              ${t&&T===t.getDate()?"bg-green-500 text-white":""}
              ${T?"hover:bg-gray-200":""}
            `,onClick:()=>g(T),children:T||""},w))}),t&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("h3",{className:"font-bold mb-2 text-center text-sm",children:["Reminders on ",t.toDateString(),":"]}),v.length===0?x.jsx("p",{className:"text-gray-500 text-center text-sm",children:"No reminders"}):x.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:v.map(T=>x.jsx("li",{children:T.title},T.id))})]})]})},p3=YR([{path:"/",Component:EO,errorElement:x.jsx(JO,{}),children:[{index:!0,Component:s3},{path:"tasks",Component:o3},{path:"notes",Component:c3},{path:"reminders",Component:h3},{path:"pomodoro",Component:d3},{path:"calendar",Component:m3}]}],{basename:"/TASKIFY/"});RA.createRoot(document.getElementById("root")).render(x.jsx(FA,{store:ZO,children:x.jsx(ER,{router:p3})}));
